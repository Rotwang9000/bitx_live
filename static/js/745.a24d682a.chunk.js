"use strict";(globalThis.webpackChunkwinbit32=globalThis.webpackChunkwinbit32||[]).push([[745],{745:(e,t,n)=>{n.r(t),n.d(t,{i:()=>P,u:()=>s});const a=new Array(256),r=new Array(65536);for(let k=0;k<256;k++)a[k]=k.toString(16).padStart(2,"0");for(let k=0;k<256;k++){const e=k<<8;for(let t=0;t<256;t++)r[e|t]=a[k]+a[t]}function i(e,t){const n=e.length%2|0,i=e.length-n|0;for(let a=0;a<i;a+=2)t+=r[e[a]<<8|e[a+1]];return n&&(t+=a[0|e[i]]),t}function s(e,t=-1,n=!0){const a=n?"0x":"";if(null==e||!e.length)return a;if(t>0){const n=Math.ceil(t/8);if(e.length>n)return`${i(e.subarray(0,n/2),a)}\u2026${i(e.subarray(e.length-n/2),"")}`}return i(e,a)}const o=async(e,t)=>{const{cryptoWaitReady:a}=await Promise.all([n.e(779),n.e(386)]).then(n.bind(n,65386)),{Keyring:r}=await Promise.all([n.e(779),n.e(633)]).then(n.bind(n,52633));return await a(),new r({type:"sr25519",ss58Format:t}).addFromUri(e)},c=(e,t)=>e.rpc.system.accountNextIndex(t),l=(e,{recipient:t,amount:n})=>e.tx.balances.transferAllowDeath(t,n);async function d(e,t){const{decodeAddress:a}=await Promise.all([n.e(779),n.e(386)]).then(n.bind(n,65386)),{isHex:r,hexToU8a:i}=await n.e(937).then(n.bind(n,48937));return r(e)?i(e):a(e,void 0,t)}async function u(e,t="ss58",a){const{encodeAddress:r}=await Promise.all([n.e(779),n.e(386)]).then(n.bind(n,65386));return"hex"===t?s(e):r(e,a)}const g=async({api:e,network:t,gasAsset:a,signer:r})=>({api:e,network:t,decodeAddress:d,encodeAddress:u,createKeyring:async e=>o(e,t.prefix),getAddress:(e=r)=>e.address,createTransfer:({recipient:t,assetValue:n})=>l(e,{recipient:t,amount:n.getBaseValue("number")}),getBalance:async t=>(async(e,t,a)=>{var r,i;const{SwapKitNumber:s}=await Promise.resolve().then(n.bind(n,14806)).then((e=>e.bx)),o=await e.query.system.account(a);return null==(r=null==o?void 0:o.data)||!r.free||null!=(i=null==o?void 0:o.data)&&i.isEmpty?[t.set(0)]:[t.set(s.fromBigInt(BigInt(o.data.free.toString()),t.decimal).getValue("string"))]})(e,a,t),validateAddress:async e=>(async(e,t)=>{try{const n=await d(e,t);return await u(n,"ss58",t),!0}catch{return!1}})(e,t.prefix),transfer:async t=>(async(e,t,{recipient:n,assetValue:a,from:r})=>(await(await l(e,{recipient:n,amount:a.getBaseValue("number")})).signAndSend(t,{nonce:await c(e,r||t.address)})).toString())(e,r,t),estimateGasFee:async t=>(async(e,t,a,{recipient:r,assetValue:i,from:s})=>{const{SwapKitNumber:o}=await Promise.resolve().then(n.bind(n,14806)).then((e=>e.bx)),d=await l(e,{recipient:r,amount:i.getBaseValue("number")}).paymentInfo(s||t.address,{nonce:await c(e,s||t.address)});return a.set(o.fromBigInt(BigInt(d.partialFee.toString()),a.decimal).getValue("string"))})(e,r,a,t),sign:async e=>(async(e,t)=>await t.signAsync(e))(r,e),broadcast:async(e,t)=>(async(e,t)=>t?e.send(t):(await e.send()).toString())(e,t),signAndBroadcast:async(e,t)=>((e,t,n)=>n?t.signAndSend(e,n):t.signAndSend(e).toString())(r,e,t)}),w={prefix:0,network:"polkadot",displayName:"Polkadot Relay Chain",symbols:["DOT"],decimals:[10],standardAccount:"*25519",website:"https://polkadot.network"},h={prefix:2112,network:"chainflip",displayName:"Chainflip",symbols:["FLIP"],decimals:[18],standardAccount:"*25519",website:"https://chainflip.io/"},b={prefix:42,network:"substrate",displayName:"Substrate",symbols:[],decimals:[],standardAccount:"*25519",website:"https://substrate.io/"},p={DOT:w,FLIP:h,GENERIC:b},y=async({providerUrl:e,generic:t,chain:a,signer:r})=>{const{ApiPromise:i,WsProvider:s}=await Promise.all([n.e(779),n.e(633)]).then(n.bind(n,52633)),{AssetValue:o}=await Promise.resolve().then(n.bind(n,14806)).then((e=>e.bx)),c=new s(e),l=await i.create({provider:c}),d=o.fromChainOrSignature(a);return g({api:l,signer:r,gasAsset:d,network:t?p.GENERIC:p[a]})},m=async({providerUrl:e,signer:t,generic:a=!1})=>{const{Chain:r,RPCUrl:i}=await Promise.resolve().then(n.bind(n,14806)).then((e=>e.bw));return y({providerUrl:e||i.Polkadot,chain:r.Polkadot,generic:a,signer:t})},f=async({providerUrl:e,signer:t,generic:a=!1})=>{const{Chain:r}=await Promise.resolve().then(n.bind(n,14806)).then((e=>e.bw)),{ApiPromise:i,WsProvider:s}=await Promise.all([n.e(779),n.e(633)]).then(n.bind(n,52633)),{AssetValue:o,SwapKitNumber:c}=await Promise.resolve().then(n.bind(n,14806)).then((e=>e.bx)),l=new s(e),d=await i.create({provider:l}),u=o.fromChainOrSignature(r.Chainflip);return{...await y({chain:r.Chainflip,signer:t,providerUrl:e,generic:a}),getBalance:async e=>(async(e,t)=>{const{balance:n}=await e.query.flip.account(t);return[u.set(c.fromBigInt(BigInt(n.toString()),u.decimal).getValue("string"))]})(d,e)}},P=Object.freeze(Object.defineProperty({__proto__:null,BaseToolbox:g,ChainflipToolbox:f,Network:p,PolkadotToolbox:m,SubstrateToolboxFactory:y,chainflipNetwork:h,createKeyring:o,getToolboxByChain:async(e,t)=>{const{Chain:a}=await Promise.resolve().then(n.bind(n,14806)).then((e=>e.bw));switch(e){case a.Polkadot:return m(t);case a.Chainflip:return f(t)}},polkadotNetwork:w,subtrateNetwork:b},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=745.a24d682a.chunk.js.map