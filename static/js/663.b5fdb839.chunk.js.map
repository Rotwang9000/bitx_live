{"version":3,"file":"static/js/663.b5fdb839.chunk.js","mappings":"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","sources":["../node_modules/@psf/bitcoincash-ops/map.js","../node_modules/@psf/bitcoincashjs-lib/node_modules/bs58check/base.js","../node_modules/@psf/bitcoincashjs-lib/node_modules/bs58check/index.js","../node_modules/@psf/bitcoincashjs-lib/src/address.js","../node_modules/@psf/bitcoincashjs-lib/src/block.js","../node_modules/@psf/bitcoincashjs-lib/src/bufferutils.js","../node_modules/@psf/bitcoincashjs-lib/src/crypto.js","../node_modules/@psf/bitcoincashjs-lib/src/ecdsa.js","../node_modules/@psf/bitcoincashjs-lib/src/ecpair.js","../node_modules/@psf/bitcoincashjs-lib/src/ecsignature.js","../node_modules/@psf/bitcoincashjs-lib/src/hdnode.js","../node_modules/@psf/bitcoincashjs-lib/src/index.js","../node_modules/@psf/bitcoincashjs-lib/src/networks.js","../node_modules/@psf/bitcoincashjs-lib/src/rfc6979.js","../node_modules/@psf/bitcoincashjs-lib/src/schnorr.js","../node_modules/@psf/bitcoincashjs-lib/src/script.js","../node_modules/@psf/bitcoincashjs-lib/src/script_number.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/multisig/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/multisig/input.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/multisig/output.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/nulldata.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/pubkey/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/pubkey/input.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/pubkey/output.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/pubkeyhash/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/pubkeyhash/input.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/pubkeyhash/output.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/scripthash/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/scripthash/input.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/scripthash/output.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnesscommitment/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnesscommitment/output.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnesspubkeyhash/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnesspubkeyhash/input.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnesspubkeyhash/output.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnessscripthash/index.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnessscripthash/input.js","../node_modules/@psf/bitcoincashjs-lib/src/templates/witnessscripthash/output.js","../node_modules/@psf/bitcoincashjs-lib/src/transaction.js","../node_modules/@psf/bitcoincashjs-lib/src/transaction_builder.js","../node_modules/@psf/bitcoincashjs-lib/src/types.js","../node_modules/@psf/pushdata-bitcoin/index.js","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/_assert.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/_sha2.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/crypto.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/ripemd160.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/sha1.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/sha256.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/utils.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/bech32/dist/index.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/address.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/bip66.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/block.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/bufferutils.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/crypto.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/ecc_lib.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/index.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/merkle.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/networks.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/ops.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/bip341.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/embed.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/index.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/lazy.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/p2ms.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/p2pk.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/p2pkh.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/p2sh.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/p2tr.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/p2wpkh.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/payments/p2wsh.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/psbt.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/psbt/bip371.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/psbt/psbtutils.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/push_data.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/script.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/script_number.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/script_signature.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/transaction.js","../node_modules/@swapkit/toolbox-utxo/node_modules/bitcoinjs-lib/src/types.js","../node_modules/assert/build/assert.js","../node_modules/assert/build/internal/assert/assertion_error.js","../node_modules/assert/build/internal/errors.js","../node_modules/assert/build/internal/util/comparisons.js","../node_modules/base-x/src/index.js","../node_modules/bigi/lib/bigi.js","../node_modules/bigi/lib/convert.js","../node_modules/bigi/lib/index.js","../node_modules/bip174/src/lib/combiner/index.js","../node_modules/bip174/src/lib/converter/global/globalXpub.js","../node_modules/bip174/src/lib/converter/global/unsignedTx.js","../node_modules/bip174/src/lib/converter/index.js","../node_modules/bip174/src/lib/converter/input/finalScriptSig.js","../node_modules/bip174/src/lib/converter/input/finalScriptWitness.js","../node_modules/bip174/src/lib/converter/input/nonWitnessUtxo.js","../node_modules/bip174/src/lib/converter/input/partialSig.js","../node_modules/bip174/src/lib/converter/input/porCommitment.js","../node_modules/bip174/src/lib/converter/input/sighashType.js","../node_modules/bip174/src/lib/converter/input/tapKeySig.js","../node_modules/bip174/src/lib/converter/input/tapLeafScript.js","../node_modules/bip174/src/lib/converter/input/tapMerkleRoot.js","../node_modules/bip174/src/lib/converter/input/tapScriptSig.js","../node_modules/bip174/src/lib/converter/input/witnessUtxo.js","../node_modules/bip174/src/lib/converter/output/tapTree.js","../node_modules/bip174/src/lib/converter/shared/bip32Derivation.js","../node_modules/bip174/src/lib/converter/shared/checkPubkey.js","../node_modules/bip174/src/lib/converter/shared/redeemScript.js","../node_modules/bip174/src/lib/converter/shared/tapBip32Derivation.js","../node_modules/bip174/src/lib/converter/shared/tapInternalKey.js","../node_modules/bip174/src/lib/converter/shared/witnessScript.js","../node_modules/bip174/src/lib/converter/tools.js","../node_modules/bip174/src/lib/converter/varint.js","../node_modules/bip174/src/lib/parser/fromBuffer.js","../node_modules/bip174/src/lib/parser/index.js","../node_modules/bip174/src/lib/parser/toBuffer.js","../node_modules/bip174/src/lib/psbt.js","../node_modules/bip174/src/lib/typeFields.js","../node_modules/bip174/src/lib/utils.js","../node_modules/bip66/index.js","../node_modules/bs58/index.js","../node_modules/bs58check/base.js","../node_modules/bs58check/index.js","../node_modules/bs58check/node_modules/base-x/src/index.js","../node_modules/bs58check/node_modules/bs58/index.js","../node_modules/call-bind/callBound.js","../node_modules/call-bind/index.js","../node_modules/cashaddrjs/node_modules/big-integer/BigInteger.js","../node_modules/cashaddrjs/src/base32.js","../node_modules/cashaddrjs/src/cashaddr.js","../node_modules/cashaddrjs/src/convertBits.js","../node_modules/cashaddrjs/src/validation.js","../node_modules/coininfo/lib/coininfo.js","../node_modules/coininfo/lib/coins/bch.js","../node_modules/coininfo/lib/coins/blk.js","../node_modules/coininfo/lib/coins/btc.js","../node_modules/coininfo/lib/coins/btg.js","../node_modules/coininfo/lib/coins/cbn.js","../node_modules/coininfo/lib/coins/city.js","../node_modules/coininfo/lib/coins/dash.js","../node_modules/coininfo/lib/coins/dcr.js","../node_modules/coininfo/lib/coins/dgb.js","../node_modules/coininfo/lib/coins/dnr.js","../node_modules/coininfo/lib/coins/doge.js","../node_modules/coininfo/lib/coins/grs.js","../node_modules/coininfo/lib/coins/ltc.js","../node_modules/coininfo/lib/coins/mona.js","../node_modules/coininfo/lib/coins/nbt.js","../node_modules/coininfo/lib/coins/nmc.js","../node_modules/coininfo/lib/coins/ppc.js","../node_modules/coininfo/lib/coins/qtum.js","../node_modules/coininfo/lib/coins/rdd.js","../node_modules/coininfo/lib/coins/rvn.js","../node_modules/coininfo/lib/coins/via.js","../node_modules/coininfo/lib/coins/vtc.js","../node_modules/coininfo/lib/coins/x42.js","../node_modules/coininfo/lib/coins/zec.js","../node_modules/ecpair/src/ecpair.js","../node_modules/ecpair/src/index.js","../node_modules/ecpair/src/networks.js","../node_modules/ecpair/src/testecc.js","../node_modules/ecpair/src/types.js","../node_modules/ecurve/lib/curve.js","../node_modules/ecurve/lib/index.js","../node_modules/ecurve/lib/names.js","../node_modules/ecurve/lib/point.js","../node_modules/for-each/index.js","../node_modules/has-tostringtag/shams.js","../node_modules/is-arguments/index.js","../node_modules/is-callable/index.js","../node_modules/is-generator-function/index.js","../node_modules/is-nan/implementation.js","../node_modules/is-nan/index.js","../node_modules/is-nan/polyfill.js","../node_modules/is-nan/shim.js","../node_modules/is-typed-array/index.js","../node_modules/merkle-lib/fastRoot.js","../node_modules/object-is/implementation.js","../node_modules/object-is/index.js","../node_modules/object-is/polyfill.js","../node_modules/object-is/shim.js","../node_modules/object.assign/implementation.js","../node_modules/object.assign/polyfill.js","../node_modules/possible-typed-array-names/index.js","../node_modules/set-function-length/index.js","../node_modules/typeforce/errors.js","../node_modules/typeforce/extra.js","../node_modules/typeforce/index.js","../node_modules/typeforce/native.js","../node_modules/util/support/isBufferBrowser.js","../node_modules/util/support/types.js","../node_modules/util/util.js","../node_modules/varuint-bitcoin/index.js","../node_modules/which-typed-array/index.js","../node_modules/wif/index.js","../node_modules/wif/node_modules/bs58check/base.js","../node_modules/wif/node_modules/bs58check/index.js","../node_modules/available-typed-arrays/index.js","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/hmac.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/pbkdf2.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/_u64.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@noble/hashes/src/sha512.ts","../node_modules/@swapkit/toolbox-utxo/node_modules/@scure/bip39/esm/index.js","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/_assert.ts","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/utils.ts","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/hmac.ts","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/_sha2.ts","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/ripemd160.ts","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/sha256.ts","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/_u64.ts","../node_modules/@scure/bip32/node_modules/@noble/hashes/src/sha512.ts","../node_modules/@scure/bip32/index.ts","../node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js","../node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js","../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js","../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js","../node_modules/.pnpm/vite-plugin-node-polyfills@0.17.0_vite@5.1.6/node_modules/vite-plugin-node-polyfills/shims/dist/index.cjs","../node_modules/@swapkit/toolbox-utxo/src/api/blockchairApi.ts","../node_modules/@swapkit/toolbox-utxo/src/utils/utils.ts","../node_modules/@swapkit/toolbox-utxo/src/api/rpcApi.ts","../node_modules/@swapkit/toolbox-utxo/src/utils/bchaddrjs.ts","../node_modules/@swapkit/toolbox-utxo/src/utils/coinselect.ts","../node_modules/@swapkit/toolbox-utxo/src/utils/txSize.ts","../node_modules/@swapkit/toolbox-utxo/src/toolbox/utxo.ts","../node_modules/@swapkit/toolbox-utxo/src/toolbox/bitcoinCash.ts","../node_modules/@swapkit/toolbox-utxo/src/toolbox/index.ts"],"sourcesContent":["var OPS = require('./index.json')\n\nvar map = {}\nfor (var op in OPS) {\n  var code = OPS[op]\n  map[code] = op\n}\n\nmodule.exports = map\n","'use strict'\n\nvar base58 = require('bs58')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function (checksumFn) {\n  // Encode a buffer as a base58-check encoded string\n  function encode (payload) {\n    var checksum = checksumFn(payload)\n\n    return base58.encode(Buffer.concat([\n      payload,\n      checksum\n    ], payload.length + 4))\n  }\n\n  function decodeRaw (buffer) {\n    var payload = buffer.slice(0, -4)\n    var checksum = buffer.slice(-4)\n    var newChecksum = checksumFn(payload)\n\n    if (checksum[0] ^ newChecksum[0] |\n        checksum[1] ^ newChecksum[1] |\n        checksum[2] ^ newChecksum[2] |\n        checksum[3] ^ newChecksum[3]) return\n\n    return payload\n  }\n\n  // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\n  function decodeUnsafe (string) {\n    var buffer = base58.decodeUnsafe(string)\n    if (!buffer) return\n\n    return decodeRaw(buffer)\n  }\n\n  function decode (string) {\n    var buffer = base58.decode(string)\n    var payload = decodeRaw(buffer, checksumFn)\n    if (!payload) throw new Error('Invalid checksum')\n    return payload\n  }\n\n  return {\n    encode: encode,\n    decode: decode,\n    decodeUnsafe: decodeUnsafe\n  }\n}\n","'use strict'\n\nvar createHash = require('create-hash')\nvar bs58checkBase = require('./base')\n\n// SHA256(SHA256(buffer))\nfunction sha256x2 (buffer) {\n  var tmp = createHash('sha256').update(buffer).digest()\n  return createHash('sha256').update(tmp).digest()\n}\n\nmodule.exports = bs58checkBase(sha256x2)\n","var Buffer = require('safe-buffer').Buffer\nvar bech32 = require('bech32')\nvar bs58check = require('bs58check')\nvar bscript = require('./script')\nvar btemplates = require('./templates')\nvar networks = require('./networks')\nvar typeforce = require('typeforce')\nvar types = require('./types')\n\nfunction fromBase58Check (address) {\n  var payload = bs58check.decode(address)\n\n  // TODO: 4.0.0, move to \"toOutputScript\"\n  if (payload.length < 21) throw new TypeError(address + ' is too short')\n  if (payload.length > 21) throw new TypeError(address + ' is too long')\n\n  var version = payload.readUInt8(0)\n  var hash = payload.slice(1)\n\n  return { version: version, hash: hash }\n}\n\nfunction fromBech32 (address) {\n  var result = bech32.decode(address)\n  var data = bech32.fromWords(result.words.slice(1))\n\n  return {\n    version: result.words[0],\n    prefix: result.prefix,\n    data: Buffer.from(data)\n  }\n}\n\nfunction toBase58Check (hash, version) {\n  typeforce(types.tuple(types.Hash160bit, types.UInt8), arguments)\n\n  var payload = Buffer.allocUnsafe(21)\n  payload.writeUInt8(version, 0)\n  hash.copy(payload, 1)\n\n  return bs58check.encode(payload)\n}\n\nfunction toBech32 (data, version, prefix) {\n  var words = bech32.toWords(data)\n  words.unshift(version)\n\n  return bech32.encode(prefix, words)\n}\n\nfunction fromOutputScript (outputScript, network) {\n  network = network || networks.bitcoin\n\n  if (btemplates.pubKeyHash.output.check(outputScript)) return toBase58Check(bscript.compile(outputScript).slice(3, 23), network.pubKeyHash)\n  if (btemplates.scriptHash.output.check(outputScript)) return toBase58Check(bscript.compile(outputScript).slice(2, 22), network.scriptHash)\n  if (btemplates.witnessPubKeyHash.output.check(outputScript)) return toBech32(bscript.compile(outputScript).slice(2, 22), 0, network.bech32)\n  if (btemplates.witnessScriptHash.output.check(outputScript)) return toBech32(bscript.compile(outputScript).slice(2, 34), 0, network.bech32)\n\n  throw new Error(bscript.toASM(outputScript) + ' has no matching Address')\n}\n\nfunction toOutputScript (address, network) {\n  network = network || networks.bitcoin\n\n  var decode\n  try {\n    decode = fromBase58Check(address)\n  } catch (e) {}\n\n  if (decode) {\n    if (decode.version === network.pubKeyHash) return btemplates.pubKeyHash.output.encode(decode.hash)\n    if (decode.version === network.scriptHash) return btemplates.scriptHash.output.encode(decode.hash)\n  } else {\n    try {\n      decode = fromBech32(address)\n    } catch (e) {}\n\n    if (decode) {\n      if (decode.prefix !== network.bech32) throw new Error(address + ' has an invalid prefix')\n      if (decode.version === 0) {\n        if (decode.data.length === 20) return btemplates.witnessPubKeyHash.output.encode(decode.data)\n        if (decode.data.length === 32) return btemplates.witnessScriptHash.output.encode(decode.data)\n      }\n    }\n  }\n\n  throw new Error(address + ' has no matching Script')\n}\n\nmodule.exports = {\n  fromBase58Check: fromBase58Check,\n  fromBech32: fromBech32,\n  fromOutputScript: fromOutputScript,\n  toBase58Check: toBase58Check,\n  toBech32: toBech32,\n  toOutputScript: toOutputScript\n}\n","var Buffer = require('safe-buffer').Buffer\nvar bcrypto = require('./crypto')\nvar fastMerkleRoot = require('merkle-lib/fastRoot')\nvar typeforce = require('typeforce')\nvar types = require('./types')\nvar varuint = require('varuint-bitcoin')\n\nvar Transaction = require('./transaction')\n\nfunction Block () {\n  this.version = 1\n  this.prevHash = null\n  this.merkleRoot = null\n  this.timestamp = 0\n  this.bits = 0\n  this.nonce = 0\n}\n\nBlock.fromBuffer = function (buffer) {\n  if (buffer.length < 80) throw new Error('Buffer too small (< 80 bytes)')\n\n  var offset = 0\n  function readSlice (n) {\n    offset += n\n    return buffer.slice(offset - n, offset)\n  }\n\n  function readUInt32 () {\n    var i = buffer.readUInt32LE(offset)\n    offset += 4\n    return i\n  }\n\n  function readInt32 () {\n    var i = buffer.readInt32LE(offset)\n    offset += 4\n    return i\n  }\n\n  var block = new Block()\n  block.version = readInt32()\n  block.prevHash = readSlice(32)\n  block.merkleRoot = readSlice(32)\n  block.timestamp = readUInt32()\n  block.bits = readUInt32()\n  block.nonce = readUInt32()\n\n  if (buffer.length === 80) return block\n\n  function readVarInt () {\n    var vi = varuint.decode(buffer, offset)\n    offset += varuint.decode.bytes\n    return vi\n  }\n\n  function readTransaction () {\n    var tx = Transaction.fromBuffer(buffer.slice(offset), true)\n    offset += tx.byteLength()\n    return tx\n  }\n\n  var nTransactions = readVarInt()\n  block.transactions = []\n\n  for (var i = 0; i < nTransactions; ++i) {\n    var tx = readTransaction()\n    block.transactions.push(tx)\n  }\n\n  return block\n}\n\nBlock.prototype.byteLength = function (headersOnly) {\n  if (headersOnly || !this.transactions) return 80\n\n  return 80 + varuint.encodingLength(this.transactions.length) + this.transactions.reduce(function (a, x) {\n    return a + x.byteLength()\n  }, 0)\n}\n\nBlock.fromHex = function (hex) {\n  return Block.fromBuffer(Buffer.from(hex, 'hex'))\n}\n\nBlock.prototype.getHash = function () {\n  return bcrypto.hash256(this.toBuffer(true))\n}\n\nBlock.prototype.getId = function () {\n  return this.getHash().reverse().toString('hex')\n}\n\nBlock.prototype.getUTCDate = function () {\n  var date = new Date(0) // epoch\n  date.setUTCSeconds(this.timestamp)\n\n  return date\n}\n\n// TODO: buffer, offset compatibility\nBlock.prototype.toBuffer = function (headersOnly) {\n  var buffer = Buffer.allocUnsafe(this.byteLength(headersOnly))\n\n  var offset = 0\n  function writeSlice (slice) {\n    slice.copy(buffer, offset)\n    offset += slice.length\n  }\n\n  function writeInt32 (i) {\n    buffer.writeInt32LE(i, offset)\n    offset += 4\n  }\n  function writeUInt32 (i) {\n    buffer.writeUInt32LE(i, offset)\n    offset += 4\n  }\n\n  writeInt32(this.version)\n  writeSlice(this.prevHash)\n  writeSlice(this.merkleRoot)\n  writeUInt32(this.timestamp)\n  writeUInt32(this.bits)\n  writeUInt32(this.nonce)\n\n  if (headersOnly || !this.transactions) return buffer\n\n  varuint.encode(this.transactions.length, buffer, offset)\n  offset += varuint.encode.bytes\n\n  this.transactions.forEach(function (tx) {\n    var txSize = tx.byteLength() // TODO: extract from toBuffer?\n    tx.toBuffer(buffer, offset)\n    offset += txSize\n  })\n\n  return buffer\n}\n\nBlock.prototype.toHex = function (headersOnly) {\n  return this.toBuffer(headersOnly).toString('hex')\n}\n\nBlock.calculateTarget = function (bits) {\n  var exponent = ((bits & 0xff000000) >> 24) - 3\n  var mantissa = bits & 0x007fffff\n  var target = Buffer.alloc(32, 0)\n  target.writeUInt32BE(mantissa, 28 - exponent)\n  return target\n}\n\nBlock.calculateMerkleRoot = function (transactions) {\n  typeforce([{ getHash: types.Function }], transactions)\n  if (transactions.length === 0) throw TypeError('Cannot compute merkle root for zero transactions')\n\n  var hashes = transactions.map(function (transaction) {\n    return transaction.getHash()\n  })\n\n  return fastMerkleRoot(hashes, bcrypto.hash256)\n}\n\nBlock.prototype.checkMerkleRoot = function () {\n  if (!this.transactions) return false\n\n  var actualMerkleRoot = Block.calculateMerkleRoot(this.transactions)\n  return this.merkleRoot.compare(actualMerkleRoot) === 0\n}\n\nBlock.prototype.checkProofOfWork = function () {\n  var hash = this.getHash().reverse()\n  var target = Block.calculateTarget(this.bits)\n\n  return hash.compare(target) <= 0\n}\n\nmodule.exports = Block\n","var pushdata = require('@psf/pushdata-bitcoin')\nvar varuint = require('varuint-bitcoin')\n\n// https://github.com/feross/buffer/blob/master/index.js#L1127\nfunction verifuint (value, max) {\n  if (typeof value !== 'number') throw new Error('cannot write a non-number as a number')\n  if (value < 0) throw new Error('specified a negative value for writing an unsigned value')\n  if (value > max) throw new Error('RangeError: value out of range')\n  if (Math.floor(value) !== value) throw new Error('value has a fractional component')\n}\n\nfunction readUInt64LE (buffer, offset) {\n  var a = buffer.readUInt32LE(offset)\n  var b = buffer.readUInt32LE(offset + 4)\n  b *= 0x100000000\n\n  verifuint(b + a, 0x001fffffffffffff)\n\n  return b + a\n}\n\nfunction writeUInt64LE (buffer, value, offset) {\n  verifuint(value, 0x001fffffffffffff)\n\n  buffer.writeInt32LE(value & -1, offset)\n  buffer.writeUInt32LE(Math.floor(value / 0x100000000), offset + 4)\n  return offset + 8\n}\n\n// TODO: remove in 4.0.0?\nfunction readVarInt (buffer, offset) {\n  var result = varuint.decode(buffer, offset)\n\n  return {\n    number: result,\n    size: varuint.decode.bytes\n  }\n}\n\n// TODO: remove in 4.0.0?\nfunction writeVarInt (buffer, number, offset) {\n  varuint.encode(number, buffer, offset)\n  return varuint.encode.bytes\n}\n\nmodule.exports = {\n  pushDataSize: pushdata.encodingLength,\n  readPushDataInt: pushdata.decode,\n  readUInt64LE: readUInt64LE,\n  readVarInt: readVarInt,\n  varIntBuffer: varuint.encode,\n  varIntSize: varuint.encodingLength,\n  writePushDataInt: pushdata.encode,\n  writeUInt64LE: writeUInt64LE,\n  writeVarInt: writeVarInt\n}\n","var createHash = require('create-hash')\n\nfunction ripemd160 (buffer) {\n  // return createHash('rmd160').update(buffer).digest()\n  return createHash('ripemd160').update(buffer).digest()\n}\n\nfunction sha1 (buffer) {\n  return createHash('sha1').update(buffer).digest()\n}\n\nfunction sha256 (buffer) {\n  return createHash('sha256').update(buffer).digest()\n}\n\nfunction hash160 (buffer) {\n  return ripemd160(sha256(buffer))\n}\n\nfunction hash256 (buffer) {\n  return sha256(sha256(buffer))\n}\n\nmodule.exports = {\n  hash160: hash160,\n  hash256: hash256,\n  ripemd160: ripemd160,\n  sha1: sha1,\n  sha256: sha256\n}\n","var typeforce = require('typeforce')\nvar types = require('./types')\n\nvar BigInteger = require('bigi')\nvar ECSignature = require('./ecsignature')\n\nvar ecurve = require('ecurve')\nvar secp256k1 = ecurve.getCurveByName('secp256k1')\n\nvar deterministicGenerateK = require('./rfc6979').deterministicGenerateK\n\nvar N_OVER_TWO = secp256k1.n.shiftRight(1)\n\nfunction sign (hash, d) {\n  typeforce(types.tuple(types.Hash256bit, types.BigInt), arguments)\n\n  var x = d.toBuffer(32)\n  var e = BigInteger.fromBuffer(hash)\n  var n = secp256k1.n\n  var G = secp256k1.G\n\n  var r, s\n  deterministicGenerateK(hash, x, function (k) {\n    var Q = G.multiply(k)\n\n    if (secp256k1.isInfinity(Q)) return false\n\n    r = Q.affineX.mod(n)\n    if (r.signum() === 0) return false\n\n    s = k.modInverse(n).multiply(e.add(d.multiply(r))).mod(n)\n    if (s.signum() === 0) return false\n\n    return true\n  })\n\n  // enforce low S values, see bip62: 'low s values in signatures'\n  if (s.compareTo(N_OVER_TWO) > 0) {\n    s = n.subtract(s)\n  }\n\n  return new ECSignature(r, s)\n}\n\nfunction verify (hash, signature, Q) {\n  typeforce(types.tuple(\n    types.Hash256bit,\n    types.ECSignature,\n    types.ECPoint\n  ), arguments)\n\n  var n = secp256k1.n\n  var G = secp256k1.G\n\n  var r = signature.r\n  var s = signature.s\n\n  // 1.4.1 Enforce r and s are both integers in the interval [1, n − 1]\n  if (r.signum() <= 0 || r.compareTo(n) >= 0) return false\n  if (s.signum() <= 0 || s.compareTo(n) >= 0) return false\n\n  // 1.4.2 H = Hash(M), already done by the user\n  // 1.4.3 e = H\n  var e = BigInteger.fromBuffer(hash)\n\n  // Compute s^-1\n  var sInv = s.modInverse(n)\n\n  // 1.4.4 Compute u1 = es^−1 mod n\n  //               u2 = rs^−1 mod n\n  var u1 = e.multiply(sInv).mod(n)\n  var u2 = r.multiply(sInv).mod(n)\n\n  // 1.4.5 Compute R = (xR, yR)\n  //               R = u1G + u2Q\n  var R = G.multiplyTwo(u1, Q, u2)\n\n  // 1.4.5 (cont.) Enforce R is not at infinity\n  if (secp256k1.isInfinity(R)) return false\n\n  // 1.4.6 Convert the field element R.x to an integer\n  var xR = R.affineX\n\n  // 1.4.7 Set v = xR mod n\n  var v = xR.mod(n)\n\n  // 1.4.8 If v = r, output \"valid\", and if v != r, output \"invalid\"\n  return v.equals(r)\n}\n\nmodule.exports = {\n  deterministicGenerateK: deterministicGenerateK,\n  sign: sign,\n  verify: verify,\n\n  // TODO: remove\n  __curve: secp256k1\n}\n","var baddress = require('./address')\nvar bcrypto = require('./crypto')\nvar ecdsa = require('./ecdsa')\nvar schnorr = require('./schnorr')\nvar randomBytes = require('randombytes')\nvar typeforce = require('typeforce')\nvar types = require('./types')\nvar wif = require('wif')\nvar ECSignature = require('./ecsignature')\n\nvar NETWORKS = require('./networks')\nvar BigInteger = require('bigi')\n\nvar ecurve = require('ecurve')\nvar secp256k1 = ecdsa.__curve\n\nfunction ECPair (d, Q, options) {\n  if (options) {\n    typeforce({\n      compressed: types.maybe(types.Boolean),\n      network: types.maybe(types.Network)\n    }, options)\n  }\n\n  options = options || {}\n\n  if (d) {\n    if (d.signum() <= 0) throw new Error('Private key must be greater than 0')\n    if (d.compareTo(secp256k1.n) >= 0) throw new Error('Private key must be less than the curve order')\n    if (Q) throw new TypeError('Unexpected publicKey parameter')\n\n    this.d = d\n  } else {\n    typeforce(types.ECPoint, Q)\n\n    this.__Q = Q\n  }\n\n  this.compressed = options.compressed === undefined ? true : options.compressed\n  this.network = options.network || NETWORKS.bitcoin\n}\n\nObject.defineProperty(ECPair.prototype, 'Q', {\n  get: function () {\n    if (!this.__Q && this.d) {\n      this.__Q = secp256k1.G.multiply(this.d)\n    }\n\n    return this.__Q\n  }\n})\n\nECPair.fromPublicKeyBuffer = function (buffer, network) {\n  var Q = ecurve.Point.decodeFrom(secp256k1, buffer)\n\n  return new ECPair(null, Q, {\n    compressed: Q.compressed,\n    network: network\n  })\n}\n\nECPair.fromWIF = function (string, network) {\n  var decoded = wif.decode(string)\n  var version = decoded.version\n\n  // list of networks?\n  if (types.Array(network)) {\n    network = network.filter(function (x) {\n      return version === x.wif\n    }).pop()\n\n    if (!network) throw new Error('Unknown network version')\n\n  // otherwise, assume a network object (or default to bitcoin)\n  } else {\n    network = network || NETWORKS.bitcoin\n\n    if (version !== network.wif) throw new Error('Invalid network version')\n  }\n\n  var d = BigInteger.fromBuffer(decoded.privateKey)\n\n  return new ECPair(d, null, {\n    compressed: decoded.compressed,\n    network: network\n  })\n}\n\nECPair.makeRandom = function (options) {\n  options = options || {}\n\n  var rng = options.rng || randomBytes\n\n  var d\n  do {\n    var buffer = rng(32)\n    typeforce(types.Buffer256bit, buffer)\n\n    d = BigInteger.fromBuffer(buffer)\n  } while (d.signum() <= 0 || d.compareTo(secp256k1.n) >= 0)\n\n  return new ECPair(d, null, options)\n}\n\nECPair.prototype.getAddress = function () {\n  return baddress.toBase58Check(bcrypto.hash160(this.getPublicKeyBuffer()), this.getNetwork().pubKeyHash)\n}\n\nECPair.prototype.getNetwork = function () {\n  return this.network\n}\n\nECPair.prototype.getPublicKeyBuffer = function () {\n  return this.Q.getEncoded(this.compressed)\n}\n\nECPair.prototype.sign = function (hash, signatureAlgorithm) {\n  if (!this.d) throw new Error('Missing private key')\n  if (!signatureAlgorithm) signatureAlgorithm = ECSignature.ECDSA\n\n  if(signatureAlgorithm === ECSignature.ECDSA){\n    return ecdsa.sign(hash, this.d)\n  } else if(signatureAlgorithm === ECSignature.SCHNORR){\n    return schnorr.sign(hash, this.d)\n  }\n}\n\nECPair.prototype.toWIF = function () {\n  if (!this.d) throw new Error('Missing private key')\n\n  return wif.encode(this.network.wif, this.d.toBuffer(32), this.compressed)\n}\n\nECPair.prototype.verify = function (hash, signature) {\n  return ecdsa.verify(hash, signature, this.Q)\n}\n\nmodule.exports = ECPair\n","var bip66 = require('bip66')\nvar typeforce = require('typeforce')\nvar types = require('./types')\n\nvar BigInteger = require('bigi')\n\nfunction ECSignature (r, s) {\n  typeforce(types.tuple(types.BigInt, types.BigInt), arguments)\n\n  this.r = r\n  this.s = s\n}\n\nECSignature.ECDSA = 0x00\nECSignature.SCHNORR = 0x01\n\nECSignature.parseCompact = function (buffer) {\n  typeforce(types.BufferN(65), buffer)\n\n  var flagByte = buffer.readUInt8(0) - 27\n  if (flagByte !== (flagByte & 7)) throw new Error('Invalid signature parameter')\n\n  var compressed = !!(flagByte & 4)\n  var recoveryParam = flagByte & 3\n  var signature = ECSignature.fromRSBuffer(buffer.slice(1))\n\n  return {\n    compressed: compressed,\n    i: recoveryParam,\n    signature: signature\n  }\n}\n\nECSignature.fromRSBuffer = function (buffer) {\n  typeforce(types.BufferN(64), buffer)\n\n  var r = BigInteger.fromBuffer(buffer.slice(0, 32))\n  var s = BigInteger.fromBuffer(buffer.slice(32, 64))\n  return new ECSignature(r, s)\n}\n\nECSignature.fromDER = function (buffer) {\n  var decode = bip66.decode(buffer)\n  var r = BigInteger.fromDERInteger(decode.r)\n  var s = BigInteger.fromDERInteger(decode.s)\n\n  return new ECSignature(r, s)\n}\n\n// BIP62: 1 byte hashType flag (only 0x01, 0x02, 0x03, 0x81, 0x82 and 0x83 are allowed)\nECSignature.parseScriptSignature = function (buffer) {\n  var hashType = buffer.readUInt8(buffer.length - 1)\n  var hashTypeMod = hashType & ~0xc0\n\n  if (hashTypeMod <= 0x00 || hashTypeMod >= 0x04) throw new Error('Invalid hashType ' + hashType)\n\n  return {\n    signature: ECSignature.fromDER(buffer.slice(0, -1)),\n    hashType: hashType\n  }\n}\n\nECSignature.prototype.toCompact = function (i, compressed) {\n  if (compressed) {\n    i += 4\n  }\n\n  i += 27\n\n  var buffer = Buffer.alloc(65)\n  buffer.writeUInt8(i, 0)\n  this.toRSBuffer(buffer, 1)\n  return buffer\n}\n\nECSignature.prototype.toDER = function () {\n  var r = Buffer.from(this.r.toDERInteger())\n  var s = Buffer.from(this.s.toDERInteger())\n\n  return bip66.encode(r, s)\n}\n\nECSignature.prototype.toRSBuffer = function (buffer, offset) {\n  if(!offset) offset = 0\n  buffer = buffer || Buffer.alloc(64)\n  this.r.toBuffer(32).copy(buffer, offset)\n  this.s.toBuffer(32).copy(buffer, offset + 32)\n  return buffer\n}\n\nECSignature.prototype.toScriptSignature = function (hashType, signatureAlgorithm) {\n  if(!signatureAlgorithm) signatureAlgorithm = ECSignature.ECDSA\n\n  var hashTypeMod = hashType & ~0xc0\n  if (hashTypeMod <= 0 || hashTypeMod >= 4) throw new Error('Invalid hashType ' + hashType)\n\n  var hashTypeBuffer = Buffer.alloc(1)\n  hashTypeBuffer.writeUInt8(hashType, 0)\n\n  if(signatureAlgorithm === ECSignature.ECDSA){\n    return Buffer.concat([this.toDER(), hashTypeBuffer])\n  } else if(signatureAlgorithm === ECSignature.SCHNORR) {\n    return Buffer.concat([this.toRSBuffer(), hashTypeBuffer])\n  } else {\n    throw new Error('Invalid signature Algorithm')\n  }\n}\n\nmodule.exports = ECSignature\n","var Buffer = require('safe-buffer').Buffer\nvar base58check = require('bs58check')\nvar bcrypto = require('./crypto')\nvar createHmac = require('create-hmac')\nvar typeforce = require('typeforce')\nvar types = require('./types')\nvar NETWORKS = require('./networks')\n\nvar BigInteger = require('bigi')\nvar ECPair = require('./ecpair')\n\nvar ecurve = require('ecurve')\nvar curve = ecurve.getCurveByName('secp256k1')\n\nfunction HDNode (keyPair, chainCode) {\n  // CT 6/18/2020 Commented this out. It causes problems with Gatsby and other\n  // web apps that use webpack. Somehow the keyPair comes through in a way that\n  // is perfectly valid, but failes the type check.\n  // typeforce(types.tuple('ECPair', types.Buffer256bit), arguments)\n\n  if (!keyPair.compressed) throw new TypeError('BIP32 only allows compressed keyPairs')\n\n  this.keyPair = keyPair\n  this.chainCode = chainCode\n  this.depth = 0\n  this.index = 0\n  this.parentFingerprint = 0x00000000\n}\n\nHDNode.HIGHEST_BIT = 0x80000000\nHDNode.LENGTH = 78\nHDNode.MASTER_SECRET = Buffer.from('Bitcoin seed', 'utf8')\n\nHDNode.fromSeedBuffer = function (seed, network) {\n  typeforce(types.tuple(types.Buffer, types.maybe(types.Network)), arguments)\n\n  if (seed.length < 16) throw new TypeError('Seed should be at least 128 bits')\n  if (seed.length > 64) throw new TypeError('Seed should be at most 512 bits')\n\n  var I = createHmac('sha512', HDNode.MASTER_SECRET).update(seed).digest()\n  var IL = I.slice(0, 32)\n  var IR = I.slice(32)\n\n  // In case IL is 0 or >= n, the master key is invalid\n  // This is handled by the ECPair constructor\n  var pIL = BigInteger.fromBuffer(IL)\n  var keyPair = new ECPair(pIL, null, {\n    network: network\n  })\n\n  return new HDNode(keyPair, IR)\n}\n\nHDNode.fromSeedHex = function (hex, network) {\n  return HDNode.fromSeedBuffer(Buffer.from(hex, 'hex'), network)\n}\n\nHDNode.fromBase58 = function (string, networks) {\n  var buffer = base58check.decode(string)\n  if (buffer.length !== 78) throw new Error('Invalid buffer length')\n\n  // 4 bytes: version bytes\n  var version = buffer.readUInt32BE(0)\n  var network\n\n  // list of networks?\n  if (Array.isArray(networks)) {\n    network = networks.filter(function (x) {\n      return version === x.bip32.private ||\n             version === x.bip32.public\n    }).pop()\n\n    if (!network) throw new Error('Unknown network version')\n\n  // otherwise, assume a network object (or default to bitcoin)\n  } else {\n    network = networks || NETWORKS.bitcoin\n  }\n\n  if (version !== network.bip32.private &&\n    version !== network.bip32.public) throw new Error('Invalid network version')\n\n  // 1 byte: depth: 0x00 for master nodes, 0x01 for level-1 descendants, ...\n  var depth = buffer[4]\n\n  // 4 bytes: the fingerprint of the parent's key (0x00000000 if master key)\n  var parentFingerprint = buffer.readUInt32BE(5)\n  if (depth === 0) {\n    if (parentFingerprint !== 0x00000000) throw new Error('Invalid parent fingerprint')\n  }\n\n  // 4 bytes: child number. This is the number i in xi = xpar/i, with xi the key being serialized.\n  // This is encoded in MSB order. (0x00000000 if master key)\n  var index = buffer.readUInt32BE(9)\n  if (depth === 0 && index !== 0) throw new Error('Invalid index')\n\n  // 32 bytes: the chain code\n  var chainCode = buffer.slice(13, 45)\n  var keyPair\n\n  // 33 bytes: private key data (0x00 + k)\n  if (version === network.bip32.private) {\n    if (buffer.readUInt8(45) !== 0x00) throw new Error('Invalid private key')\n\n    var d = BigInteger.fromBuffer(buffer.slice(46, 78))\n    keyPair = new ECPair(d, null, { network: network })\n\n  // 33 bytes: public key data (0x02 + X or 0x03 + X)\n  } else {\n    var Q = ecurve.Point.decodeFrom(curve, buffer.slice(45, 78))\n    // Q.compressed is assumed, if somehow this assumption is broken, `new HDNode` will throw\n\n    // Verify that the X coordinate in the public point corresponds to a point on the curve.\n    // If not, the extended public key is invalid.\n    curve.validate(Q)\n\n    keyPair = new ECPair(null, Q, { network: network })\n  }\n\n  var hd = new HDNode(keyPair, chainCode)\n  hd.depth = depth\n  hd.index = index\n  hd.parentFingerprint = parentFingerprint\n\n  return hd\n}\n\nHDNode.prototype.getAddress = function () {\n  return this.keyPair.getAddress()\n}\n\nHDNode.prototype.getIdentifier = function () {\n  return bcrypto.hash160(this.keyPair.getPublicKeyBuffer())\n}\n\nHDNode.prototype.getFingerprint = function () {\n  return this.getIdentifier().slice(0, 4)\n}\n\nHDNode.prototype.getNetwork = function () {\n  return this.keyPair.getNetwork()\n}\n\nHDNode.prototype.getPublicKeyBuffer = function () {\n  return this.keyPair.getPublicKeyBuffer()\n}\n\nHDNode.prototype.neutered = function () {\n  var neuteredKeyPair = new ECPair(null, this.keyPair.Q, {\n    network: this.keyPair.network\n  })\n\n  var neutered = new HDNode(neuteredKeyPair, this.chainCode)\n  neutered.depth = this.depth\n  neutered.index = this.index\n  neutered.parentFingerprint = this.parentFingerprint\n\n  return neutered\n}\n\nHDNode.prototype.sign = function (hash) {\n  return this.keyPair.sign(hash)\n}\n\nHDNode.prototype.verify = function (hash, signature) {\n  return this.keyPair.verify(hash, signature)\n}\n\nHDNode.prototype.toBase58 = function (__isPrivate) {\n  if (__isPrivate !== undefined) throw new TypeError('Unsupported argument in 2.0.0')\n\n  // Version\n  var network = this.keyPair.network\n  var version = (!this.isNeutered()) ? network.bip32.private : network.bip32.public\n  var buffer = Buffer.allocUnsafe(78)\n\n  // 4 bytes: version bytes\n  buffer.writeUInt32BE(version, 0)\n\n  // 1 byte: depth: 0x00 for master nodes, 0x01 for level-1 descendants, ....\n  buffer.writeUInt8(this.depth, 4)\n\n  // 4 bytes: the fingerprint of the parent's key (0x00000000 if master key)\n  buffer.writeUInt32BE(this.parentFingerprint, 5)\n\n  // 4 bytes: child number. This is the number i in xi = xpar/i, with xi the key being serialized.\n  // This is encoded in big endian. (0x00000000 if master key)\n  buffer.writeUInt32BE(this.index, 9)\n\n  // 32 bytes: the chain code\n  this.chainCode.copy(buffer, 13)\n\n  // 33 bytes: the public key or private key data\n  if (!this.isNeutered()) {\n    // 0x00 + k for private keys\n    buffer.writeUInt8(0, 45)\n    this.keyPair.d.toBuffer(32).copy(buffer, 46)\n\n  // 33 bytes: the public key\n  } else {\n    // X9.62 encoding for public keys\n    this.keyPair.getPublicKeyBuffer().copy(buffer, 45)\n  }\n\n  return base58check.encode(buffer)\n}\n\n// https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki#child-key-derivation-ckd-functions\nHDNode.prototype.derive = function (index) {\n  typeforce(types.UInt32, index)\n\n  var isHardened = index >= HDNode.HIGHEST_BIT\n  var data = Buffer.allocUnsafe(37)\n\n  // Hardened child\n  if (isHardened) {\n    if (this.isNeutered()) throw new TypeError('Could not derive hardened child key')\n\n    // data = 0x00 || ser256(kpar) || ser32(index)\n    data[0] = 0x00\n    this.keyPair.d.toBuffer(32).copy(data, 1)\n    data.writeUInt32BE(index, 33)\n\n  // Normal child\n  } else {\n    // data = serP(point(kpar)) || ser32(index)\n    //      = serP(Kpar) || ser32(index)\n    this.keyPair.getPublicKeyBuffer().copy(data, 0)\n    data.writeUInt32BE(index, 33)\n  }\n\n  var I = createHmac('sha512', this.chainCode).update(data).digest()\n  var IL = I.slice(0, 32)\n  var IR = I.slice(32)\n\n  var pIL = BigInteger.fromBuffer(IL)\n\n  // In case parse256(IL) >= n, proceed with the next value for i\n  if (pIL.compareTo(curve.n) >= 0) {\n    return this.derive(index + 1)\n  }\n\n  // Private parent key -> private child key\n  var derivedKeyPair\n  if (!this.isNeutered()) {\n    // ki = parse256(IL) + kpar (mod n)\n    var ki = pIL.add(this.keyPair.d).mod(curve.n)\n\n    // In case ki == 0, proceed with the next value for i\n    if (ki.signum() === 0) {\n      return this.derive(index + 1)\n    }\n\n    derivedKeyPair = new ECPair(ki, null, {\n      network: this.keyPair.network\n    })\n\n  // Public parent key -> public child key\n  } else {\n    // Ki = point(parse256(IL)) + Kpar\n    //    = G*IL + Kpar\n    var Ki = curve.G.multiply(pIL).add(this.keyPair.Q)\n\n    // In case Ki is the point at infinity, proceed with the next value for i\n    if (curve.isInfinity(Ki)) {\n      return this.derive(index + 1)\n    }\n\n    derivedKeyPair = new ECPair(null, Ki, {\n      network: this.keyPair.network\n    })\n  }\n\n  var hd = new HDNode(derivedKeyPair, IR)\n  hd.depth = this.depth + 1\n  hd.index = index\n  hd.parentFingerprint = this.getFingerprint().readUInt32BE(0)\n\n  return hd\n}\n\nHDNode.prototype.deriveHardened = function (index) {\n  typeforce(types.UInt31, index)\n\n  // Only derives hardened private keys by default\n  return this.derive(index + HDNode.HIGHEST_BIT)\n}\n\n// Private === not neutered\n// Public === neutered\nHDNode.prototype.isNeutered = function () {\n  return !(this.keyPair.d)\n}\n\nHDNode.prototype.derivePath = function (path) {\n  typeforce(types.BIP32Path, path)\n\n  var splitPath = path.split('/')\n  if (splitPath[0] === 'm') {\n    if (this.parentFingerprint) {\n      throw new Error('Not a master node')\n    }\n\n    splitPath = splitPath.slice(1)\n  }\n\n  return splitPath.reduce(function (prevHd, indexStr) {\n    var index\n    if (indexStr.slice(-1) === \"'\") {\n      index = parseInt(indexStr.slice(0, -1), 10)\n      return prevHd.deriveHardened(index)\n    } else {\n      index = parseInt(indexStr, 10)\n      return prevHd.derive(index)\n    }\n  }, this)\n}\n\nmodule.exports = HDNode\n","var script = require('./script')\n\nvar templates = require('./templates')\nfor (var key in templates) {\n  script[key] = templates[key]\n}\n\nmodule.exports = {\n  bufferutils: require('./bufferutils'), // TODO: remove in 4.0.0\n\n  Block: require('./block'),\n  ECPair: require('./ecpair'),\n  ECSignature: require('./ecsignature'),\n  HDNode: require('./hdnode'),\n  Transaction: require('./transaction'),\n  TransactionBuilder: require('./transaction_builder'),\n\n  address: require('./address'),\n  crypto: require('./crypto'),\n  networks: require('./networks'),\n  opcodes: require('@psf/bitcoincash-ops'),\n  script: script\n}\n","// https://en.bitcoin.it/wiki/List_of_address_prefixes\n// Dogecoin BIP32 is a proposed standard: https://bitcointalk.org/index.php?topic=409731\n\nmodule.exports = {\n  bitcoin: {\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n    bech32: 'bc',\n    bip32: {\n      public: 0x0488b21e,\n      private: 0x0488ade4\n    },\n    pubKeyHash: 0x00,\n    scriptHash: 0x05,\n    wif: 0x80\n  },\n  testnet: {\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n    bech32: 'tb',\n    bip32: {\n      public: 0x043587cf,\n      private: 0x04358394\n    },\n    pubKeyHash: 0x6f,\n    scriptHash: 0xc4,\n    wif: 0xef\n  },\n  litecoin: {\n    messagePrefix: '\\x19Litecoin Signed Message:\\n',\n    bip32: {\n      public: 0x019da462,\n      private: 0x019d9cfe\n    },\n    pubKeyHash: 0x30,\n    scriptHash: 0x32,\n    wif: 0xb0\n  }\n}\n","var Buffer = require('safe-buffer').Buffer\nvar createHmac = require('create-hmac')\nvar BigInteger = require('bigi')\n\nvar typeforce = require('typeforce')\nvar types = require('./types')\n\nvar ecurve = require('ecurve')\nvar secp256k1 = ecurve.getCurveByName('secp256k1')\n\nvar ZERO = Buffer.alloc(1, 0)\nvar ONE = Buffer.alloc(1, 1)\n\n// https://tools.ietf.org/html/rfc6979#section-3.2\nfunction deterministicGenerateK(hash, x, checkSig, algo16) {\n  typeforce(types.tuple(\n    types.Hash256bit,\n    types.Buffer256bit,\n    types.Function\n  ), arguments)\n\n  // Step A, ignored as hash already provided\n  // Step B\n  // Step C\n  var k = Buffer.alloc(32, 0)\n  var v = Buffer.alloc(32, 1)\n\n  // Step D\n  k = createHmac('sha256', k)\n    .update(v)\n    .update(ZERO)\n    .update(x)\n    .update(hash)\n\n  if(algo16){\n    typeforce(typeforce.BufferN(16), algo16)\n\n    k.update(algo16)\n  }\n\n  k = k.digest()\n\n  // Step E\n  v = createHmac('sha256', k).update(v).digest()\n\n  // Step F\n  k = createHmac('sha256', k)\n    .update(v)\n    .update(ONE)\n    .update(x)\n    .update(hash)\n    .digest()\n\n  // Step G\n  v = createHmac('sha256', k).update(v).digest()\n\n  // Step H1/H2a, ignored as tlen === qlen (256 bit)\n  // Step H2b\n  v = createHmac('sha256', k).update(v).digest()\n\n  var T = BigInteger.fromBuffer(v)\n\n  // Step H3, repeat until T is within the interval [1, n - 1] and is suitable for ECDSA\n  while (T.signum() <= 0 || T.compareTo(secp256k1.n) >= 0 || !checkSig(T)) {\n    k = createHmac('sha256', k)\n      .update(v)\n      .update(ZERO)\n      .digest()\n\n    v = createHmac('sha256', k).update(v).digest()\n\n    // Step H1/H2a, again, ignored as tlen === qlen (256 bit)\n    // Step H2b again\n    v = createHmac('sha256', k).update(v).digest()\n    T = BigInteger.fromBuffer(v)\n  }\n\n  return T\n}\n\nmodule.exports = {\n  deterministicGenerateK: deterministicGenerateK,\n}\n","var typeforce = require('typeforce')\nvar types = require('./types')\n\nvar BigInteger = require('bigi')\nvar ECSignature = require('./ecsignature')\nvar crypto = require('./crypto')\n\nvar ecurve = require('ecurve')\nvar secp256k1 = ecurve.getCurveByName('secp256k1')\n\nvar deterministicGenerateK = require('./rfc6979').deterministicGenerateK\n\nvar USE_RFC6979 = true\nfunction sign(h, x) {\n  typeforce(types.tuple(\n    types.BufferN(32),\n    types.BigInt\n  ), arguments)\n\n  var n = secp256k1.n\n  var G = secp256k1.G\n\n  if(x.compareTo(BigInteger.ZERO) <= 0 || x.compareTo(n) >= 0){\n    throw new Error('Private key x not in range')\n  }\n\n  var P = G.multiply(x);\n\n  var r, s\n  function signWithK(k){\n    var R = G.multiply(k)\n\n    // sign chosen so that the Y coordinate of R has Jacobi symbol 1\n    if(jacobi(R.affineY, secp256k1.p) != 1){\n      k = n.subtract(k)\n      R = G.multiply(k)\n    }\n\n    r = R.affineX.mod(n)\n\n    var BP = toCompressedPoint(P)\n    var Br = r.toBuffer(32)\n\n    var eh = crypto.sha256(Buffer.concat([Br, BP, h]))\n    var e = BigInteger.fromBuffer(eh).mod(n)\n\n    s = k.add(e.multiply(x)).mod(n)\n\n    return true\n  }\n\n  if(USE_RFC6979){\n    deterministicGenerateK(h, x.toBuffer(32), signWithK, Buffer.from('Schnorr+SHA256  ', 'ascii'))\n  } else {\n    var kh = crypto.sha256(Buffer.concat([x.toBuffer(32), h]))\n    var k = BigInteger.fromBuffer(kh).mod(n)\n    signWithK(k)\n  }\n\n  return new ECSignature(r, s)\n}\n\n// https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/2019-05-15-schnorr.md#signature-verification-algorithm\nfunction verify (h, signature, P) {\n  typeforce(types.tuple(\n    types.BufferN(32),\n    types.ECSignature,\n    types.ECPoint\n  ), arguments)\n\n  var n = secp256k1.n\n  var G = secp256k1.G\n\n  var r = signature.r\n  var s = signature.s\n\n  // 1. Fail if point P is not actually on the curve, or if it is the point at infinity.\n  if(!secp256k1.isOnCurve(P)) return false\n  if(secp256k1.isInfinity(P)) return false\n\n  // 2. Fail if r >= p, where p is the field size used in secp256k1.\n  if(r.compareTo(secp256k1.p) >= 0) return false\n\n  // 3. Fail if s >= n, where n is the order of the secp256k1 curve.\n  if(s.compareTo(n) >= 0) return false\n\n  // 4. Let BP be the 33-byte encoding of P as a compressed point.\n  var BP = toCompressedPoint(P)\n\n  // 5. Let Br be the 32-byte encoding of r as an unsigned big-endian 256-bit integer.\n  var Br = r.toBuffer(32)\n\n  // 6. Compute integer e = H(Br | BP | h) mod n.\n  var h = crypto.sha256(Buffer.concat([Br, BP, h]))\n  var e = BigInteger.fromBuffer(h).mod(n)\n\n  // 7. Compute elliptic curve point R' = sG + (-e)P, where G is the secp256k1 generator point.\n  var R = G.multiply(s).add(P.multiply(n.subtract(e)))\n\n  // 8. Fail if R' is the point at infinity.\n  if(secp256k1.isInfinity(R)) return false\n\n  // 9. Fail if the X coordinate of R' is not equal to r.\n  if(R.affineX.compareTo(r) != 0) return false\n\n  // 10. Fail if the Jacobi symbol of the Y coordinate of R' is not 1.\n  if(jacobi(R.affineY, secp256k1.p) != 1) return false\n\n  // 11. Otherwise, the signature is valid\n  return true\n}\n\nfunction jacobi(a, p){\n  return a.modPow(p.subtract(BigInteger.ONE).divide(BigInteger.valueOf(2)), p).intValue();\n}\n\nfunction toCompressedPoint(P){\n  typeforce(types.tuple(\n    types.ECPoint\n  ), arguments)\n\n  return Buffer.concat([Buffer.from([P.affineY.isEven() ? 0x02 : 0x03]), P.affineX.toBuffer(32)]);\n}\n\nfunction fromCompressedPoint(buffer){\n  typeforce(types.tuple(\n    types.BufferN(33)\n  ), arguments)\n\n  if(buffer.length !== 33) throw new Error('Invalid length of buffer')\n  if(buffer[0] !== 0x2 && buffer[0] !== 0x3) throw new Error('Invalid signum byte')\n\n  var isOdd = buffer[0] === 0x3\n  var x = BigInteger.fromBuffer(buffer.slice(1, 33))\n\n  return secp256k1.pointFromX(isOdd, x)\n}\n\nmodule.exports = {\n  deterministicGenerateK: deterministicGenerateK,\n  sign: sign,\n  verify: verify,\n\n  jacobi: jacobi,\n  toCompressedPoint: toCompressedPoint,\n  fromCompressedPoint: fromCompressedPoint,\n\n  // TODO: remove\n  __curve: secp256k1,\n  __useRFC6979: function(use){\n    USE_RFC6979 = use\n  }\n}\n","var Buffer = require(\"safe-buffer\").Buffer;\nvar bip66 = require(\"bip66\");\nvar pushdata = require(\"@psf/pushdata-bitcoin\");\nvar typeforce = require(\"typeforce\");\nvar types = require(\"./types\");\nvar scriptNumber = require(\"./script_number\");\n\nvar OPS = require(\"@psf/bitcoincash-ops\");\nvar REVERSE_OPS = require(\"@psf/bitcoincash-ops/map\");\nvar OP_INT_BASE = OPS.OP_RESERVED; // OP_1 - 1\n\nfunction isOPInt(value) {\n  return (\n    types.Number(value) &&\n    (value === OPS.OP_0 ||\n      (value >= OPS.OP_1 && value <= OPS.OP_16) ||\n      value === OPS.OP_1NEGATE)\n  );\n}\n\nfunction isPushOnlyChunk(value) {\n  return types.Buffer(value) || isOPInt(value);\n}\n\nfunction isPushOnly(value) {\n  return types.Array(value) && value.every(isPushOnlyChunk);\n}\n\n// This function reaks havoc on the OP_RETURN call of an SLP transaction.\nfunction asMinimalOP(buffer) {\n  if (buffer.length === 0) return OPS.OP_0;\n  if (buffer.length !== 1) return;\n  if (buffer[0] >= 1 && buffer[0] <= 16) return OP_INT_BASE + buffer[0];\n  if (buffer[0] === 0x81) return OPS.OP_1NEGATE;\n}\n\n// Originalize compile() function. This will not correctly compile some scripts,\n// including the OP_RETURN for SLP tokens. Use compile2() for that.\nfunction compile(chunks) {\n  // TODO: remove me\n  if (Buffer.isBuffer(chunks)) return chunks;\n\n  typeforce(types.Array, chunks);\n\n  var bufferSize = chunks.reduce(function(accum, chunk) {\n    // data chunk\n    if (Buffer.isBuffer(chunk)) {\n      // adhere to BIP62.3, minimal push policy\n      if (chunk.length === 1 && asMinimalOP(chunk) !== undefined) {\n        return accum + 1;\n      }\n\n      return accum + pushdata.encodingLength(chunk.length) + chunk.length;\n    }\n\n    // opcode\n    return accum + 1;\n  }, 0.0);\n\n  var buffer = Buffer.allocUnsafe(bufferSize);\n  var offset = 0;\n\n  chunks.forEach(function(chunk) {\n    // data chunk\n    if (Buffer.isBuffer(chunk)) {\n      // adhere to BIP62.3, minimal push policy\n      var opcode = asMinimalOP(chunk);\n      if (opcode !== undefined) {\n        buffer.writeUInt8(opcode, offset);\n        offset += 1;\n        return;\n      }\n\n      offset += pushdata.encode(buffer, chunk.length, offset);\n      chunk.copy(buffer, offset);\n      offset += chunk.length;\n\n      // opcode\n    } else {\n      buffer.writeUInt8(chunk, offset);\n      offset += 1;\n    }\n  });\n\n  if (offset !== buffer.length) throw new Error(\"Could not decode chunks\");\n  return buffer;\n}\n\n// Compile for non-minimal Script, like for SLP OP_RETURNs.\n// Expects an array of Buffers, to be compiled into a binary blob returned\n// as a Buffer. This final blob is ready to used as an output of a Bitcoin\n// Cash transaction.\nfunction compile2(chunks) {\n  // If the chunks object is a Buffer, return it.\n  if (Buffer.isBuffer(chunks)) return chunks\n\n  // Calculate the final size the buffer should be. Allows error checking in\n  // case compilation goes wonky.\n  var bufferSize = chunks.reduce(function(accum, chunk) {\n    // If the chunk is of type Buffer.\n    if (Buffer.isBuffer(chunk)) {\n      // Return the final complied length this Buffer will take up.\n      return accum + pushdata.encodingLength(chunk.length) + chunk.length\n    }\n\n    // Otherwise the chunk object is an OP code. It will take up 1 byte.\n    return accum + 1\n  }, 0.0)\n\n  // buffer will hold final compiled Buffer.\n  var buffer = Buffer.allocUnsafe(bufferSize)\n  var offset = 0\n\n  // Loop through each element in the chunks Array.\n  chunks.forEach(function(chunk, index) {\n    // If the chunk is a Buffer and not an OP code.\n    if (Buffer.isBuffer(chunk)) {\n      // console.log(\" \")\n      // console.log(`index: ${index}`)\n      // console.log(`chunk: ${chunk.toString(\"hex\")}`)\n      // console.log(`original buffer: ${buffer.toString(\"hex\")}`)\n\n      // Calculate the offset for adding this new chunk.\n      offset += pushdata.encode(buffer, chunk.length, offset)\n\n      // Copy the current chunk into the buffer.\n      chunk.copy(buffer, offset)\n\n      // Calculate the new offset.\n      offset += chunk.length\n\n      // The chunk is an OP code and not a Buffer.\n    } else {\n      // Add the 1-byte OP code to the final Buffer output.\n      buffer.writeUInt8(chunk, offset)\n      offset += 1\n    }\n  })\n\n  // If the calculated offset and buffer length don't match, then something\n  // went wrong. Throw an error.\n  if (offset !== buffer.length) throw new Error(\"Could not decode chunks\")\n\n  // Return the final, compiled binary blog as a buffer.\n  return buffer\n}\n\nfunction decompile(buffer) {\n  // TODO: remove me\n  if (types.Array(buffer)) return buffer;\n\n  typeforce(types.Buffer, buffer);\n\n  var chunks = [];\n  var i = 0;\n\n  while (i < buffer.length) {\n    var opcode = buffer[i];\n\n    // data chunk\n    if (opcode > OPS.OP_0 && opcode <= OPS.OP_PUSHDATA4) {\n      var d = pushdata.decode(buffer, i);\n\n      // did reading a pushDataInt fail? empty script\n      if (d === null) return [];\n      i += d.size;\n\n      // attempt to read too much data? empty script\n      // if (i + d.number > buffer.length) return []\n\n      var data = buffer.slice(i, i + d.number);\n      i += d.number;\n\n      // decompile minimally\n      var op = asMinimalOP(data);\n      if (op !== undefined) {\n        chunks.push(op);\n      } else {\n        chunks.push(data);\n      }\n\n      // opcode\n    } else {\n      chunks.push(opcode);\n\n      i += 1;\n    }\n  }\n\n  return chunks;\n}\n\nfunction toASM(chunks) {\n  if (Buffer.isBuffer(chunks)) {\n    chunks = decompile(chunks);\n  }\n\n  return chunks\n    .map(function(chunk) {\n      // data?\n      if (Buffer.isBuffer(chunk)) {\n        var op = asMinimalOP(chunk);\n        if (op === undefined) return chunk.toString(\"hex\");\n        chunk = op;\n      }\n\n      // opcode!\n      return REVERSE_OPS[chunk];\n    })\n    .join(\" \");\n}\n\nfunction fromASM(asm) {\n  typeforce(types.String, asm);\n\n  return compile(\n    asm.split(\" \").map(function(chunkStr) {\n      // opcode?\n      if (OPS[chunkStr] !== undefined) return OPS[chunkStr];\n      // typeforce(types.Hex, chunkStr)\n\n      // data!\n      return Buffer.from(chunkStr, \"hex\");\n    })\n  );\n}\n\nfunction toStack(chunks) {\n  chunks = decompile(chunks);\n  typeforce(isPushOnly, chunks);\n\n  return chunks.map(function(op) {\n    if (Buffer.isBuffer(op)) return op;\n    if (op === OPS.OP_0) return Buffer.allocUnsafe(0);\n\n    return scriptNumber.encode(op - OP_INT_BASE);\n  });\n}\n\nfunction isCanonicalPubKey(buffer) {\n  if (!Buffer.isBuffer(buffer)) return false;\n  if (buffer.length < 33) return false;\n\n  switch (buffer[0]) {\n    case 0x02:\n    case 0x03:\n      return buffer.length === 33;\n    case 0x04:\n      return buffer.length === 65;\n  }\n\n  return false;\n}\n\nfunction isDefinedHashType(hashType) {\n  var hashTypeMod = hashType & ~0xc0;\n\n  // return hashTypeMod > SIGHASH_ALL && hashTypeMod < SIGHASH_SINGLE\n  return hashTypeMod > 0x00 && hashTypeMod < 0x04;\n}\n\nfunction isCanonicalSignature(buffer) {\n  if (!Buffer.isBuffer(buffer)) return false;\n  if (!isDefinedHashType(buffer[buffer.length - 1])) return false;\n\n  if(buffer.length === 65) return true;\n\n  return bip66.check(buffer.slice(0, -1));\n}\n\nmodule.exports = {\n  compile: compile,\n  compile2: compile2,\n  decompile: decompile,\n  fromASM: fromASM,\n  toASM: toASM,\n  toStack: toStack,\n\n  number: require(\"./script_number\"),\n\n  isCanonicalPubKey: isCanonicalPubKey,\n  isCanonicalSignature: isCanonicalSignature,\n  isPushOnly: isPushOnly,\n  isDefinedHashType: isDefinedHashType\n};\n","var Buffer = require('safe-buffer').Buffer\n\nfunction decode (buffer, maxLength, minimal) {\n  maxLength = maxLength || 4\n  minimal = minimal === undefined ? true : minimal\n\n  var length = buffer.length\n  if (length === 0) return 0\n  if (length > maxLength) throw new TypeError('Script number overflow')\n  if (minimal) {\n    if ((buffer[length - 1] & 0x7f) === 0) {\n      if (length <= 1 || (buffer[length - 2] & 0x80) === 0) throw new Error('Non-minimally encoded script number')\n    }\n  }\n\n  // 40-bit\n  if (length === 5) {\n    var a = buffer.readUInt32LE(0)\n    var b = buffer.readUInt8(4)\n\n    if (b & 0x80) return -(((b & ~0x80) * 0x100000000) + a)\n    return (b * 0x100000000) + a\n  }\n\n  var result = 0\n\n  // 32-bit / 24-bit / 16-bit / 8-bit\n  for (var i = 0; i < length; ++i) {\n    result |= buffer[i] << (8 * i)\n  }\n\n  if (buffer[length - 1] & 0x80) return -(result & ~(0x80 << (8 * (length - 1))))\n  return result\n}\n\nfunction scriptNumSize (i) {\n  return i > 0x7fffffff ? 5\n    : i > 0x7fffff ? 4\n      : i > 0x7fff ? 3\n        : i > 0x7f ? 2\n          : i > 0x00 ? 1\n            : 0\n}\n\nfunction encode (number) {\n  var value = Math.abs(number)\n  var size = scriptNumSize(value)\n  var buffer = Buffer.allocUnsafe(size)\n  var negative = number < 0\n\n  for (var i = 0; i < size; ++i) {\n    buffer.writeUInt8(value & 0xff, i)\n    value >>= 8\n  }\n\n  if (buffer[size - 1] & 0x80) {\n    buffer.writeUInt8(negative ? 0x80 : 0x00, size - 1)\n  } else if (negative) {\n    buffer[size - 1] |= 0x80\n  }\n\n  return buffer\n}\n\nmodule.exports = {\n  decode: decode,\n  encode: encode\n}\n","var decompile = require('../script').decompile\nvar multisig = require('./multisig')\nvar nullData = require('./nulldata')\nvar pubKey = require('./pubkey')\nvar pubKeyHash = require('./pubkeyhash')\nvar scriptHash = require('./scripthash')\nvar witnessPubKeyHash = require('./witnesspubkeyhash')\nvar witnessScriptHash = require('./witnessscripthash')\nvar witnessCommitment = require('./witnesscommitment')\n\nvar types = {\n  MULTISIG: 'multisig',\n  NONSTANDARD: 'nonstandard',\n  NULLDATA: 'nulldata',\n  P2PK: 'pubkey',\n  P2PKH: 'pubkeyhash',\n  P2SH: 'scripthash',\n  P2WPKH: 'witnesspubkeyhash',\n  P2WSH: 'witnessscripthash',\n  WITNESS_COMMITMENT: 'witnesscommitment'\n}\n\nfunction classifyOutput (script) {\n  if (witnessPubKeyHash.output.check(script)) return types.P2WPKH\n  if (witnessScriptHash.output.check(script)) return types.P2WSH\n  if (pubKeyHash.output.check(script)) return types.P2PKH\n  if (scriptHash.output.check(script)) return types.P2SH\n\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script)\n  if (multisig.output.check(chunks)) return types.MULTISIG\n  if (pubKey.output.check(chunks)) return types.P2PK\n  if (witnessCommitment.output.check(chunks)) return types.WITNESS_COMMITMENT\n  if (nullData.output.check(chunks)) return types.NULLDATA\n\n  return types.NONSTANDARD\n}\n\nfunction classifyInput (script, allowIncomplete) {\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script)\n\n  if (pubKeyHash.input.check(chunks)) return types.P2PKH\n  if (scriptHash.input.check(chunks, allowIncomplete)) return types.P2SH\n  if (multisig.input.check(chunks, allowIncomplete)) return types.MULTISIG\n  if (pubKey.input.check(chunks)) return types.P2PK\n\n  return types.NONSTANDARD\n}\n\nfunction classifyWitness (script, allowIncomplete) {\n  // XXX: optimization, below functions .decompile before use\n  var chunks = decompile(script)\n\n  if (witnessPubKeyHash.input.check(chunks)) return types.P2WPKH\n  if (witnessScriptHash.input.check(chunks, allowIncomplete)) return types.P2WSH\n\n  return types.NONSTANDARD\n}\n\nmodule.exports = {\n  classifyInput: classifyInput,\n  classifyOutput: classifyOutput,\n  classifyWitness: classifyWitness,\n  multisig: multisig,\n  nullData: nullData,\n  pubKey: pubKey,\n  pubKeyHash: pubKeyHash,\n  scriptHash: scriptHash,\n  witnessPubKeyHash: witnessPubKeyHash,\n  witnessScriptHash: witnessScriptHash,\n  witnessCommitment: witnessCommitment,\n  types: types\n}\n","module.exports = {\n  input: require('./input'),\n  output: require('./output')\n}\n","// OP_0 [signatures ...]\n\nvar Buffer = require('safe-buffer').Buffer\nvar bscript = require('../../script')\nvar p2mso = require('./output')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nfunction partialSignature (value) {\n  return value === OPS.OP_0 || bscript.isCanonicalSignature(value)\n}\n\nfunction check (script, allowIncomplete) {\n  var chunks = bscript.decompile(script)\n  if (chunks.length < 2) return false\n  if (chunks[0] !== OPS.OP_0) return false\n\n  if (allowIncomplete) {\n    return chunks.slice(1).every(partialSignature)\n  }\n\n  return chunks.slice(1).every(bscript.isCanonicalSignature)\n}\ncheck.toJSON = function () { return 'multisig input' }\n\nvar EMPTY_BUFFER = Buffer.allocUnsafe(0)\n\nfunction encodeStack (signatures, scriptPubKey) {\n  typeforce([partialSignature], signatures)\n\n  if (scriptPubKey) {\n    var scriptData = p2mso.decode(scriptPubKey)\n\n    if (signatures.length < scriptData.m) {\n      throw new TypeError('Not enough signatures provided')\n    }\n\n    if (signatures.length > scriptData.pubKeys.length) {\n      throw new TypeError('Too many signatures provided')\n    }\n  }\n\n  return [].concat(EMPTY_BUFFER, signatures.map(function (sig) {\n    if (sig === OPS.OP_0) {\n      return EMPTY_BUFFER\n    }\n    return sig\n  }))\n}\n\nfunction encode (signatures, scriptPubKey) {\n  return bscript.compile(encodeStack(signatures, scriptPubKey))\n}\n\nfunction decodeStack (stack, allowIncomplete) {\n  typeforce(typeforce.Array, stack)\n  typeforce(check, stack, allowIncomplete)\n  return stack.slice(1)\n}\n\nfunction decode (buffer, allowIncomplete) {\n  var stack = bscript.decompile(buffer)\n  return decodeStack(stack, allowIncomplete)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  decodeStack: decodeStack,\n  encode: encode,\n  encodeStack: encodeStack\n}\n","// m [pubKeys ...] n OP_CHECKMULTISIG\n\nvar bscript = require('../../script')\nvar types = require('../../types')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\nvar OP_INT_BASE = OPS.OP_RESERVED // OP_1 - 1\n\nfunction check (script, allowIncomplete) {\n  var chunks = bscript.decompile(script)\n\n  if (chunks.length < 4) return false\n  if (chunks[chunks.length - 1] !== OPS.OP_CHECKMULTISIG) return false\n  if (!types.Number(chunks[0])) return false\n  if (!types.Number(chunks[chunks.length - 2])) return false\n  var m = chunks[0] - OP_INT_BASE\n  var n = chunks[chunks.length - 2] - OP_INT_BASE\n\n  if (m <= 0) return false\n  if (n > 16) return false\n  if (m > n) return false\n  if (n !== chunks.length - 3) return false\n  if (allowIncomplete) return true\n\n  var keys = chunks.slice(1, -2)\n  return keys.every(bscript.isCanonicalPubKey)\n}\ncheck.toJSON = function () { return 'multi-sig output' }\n\nfunction encode (m, pubKeys) {\n  typeforce({\n    m: types.Number,\n    pubKeys: [bscript.isCanonicalPubKey]\n  }, {\n    m: m,\n    pubKeys: pubKeys\n  })\n\n  var n = pubKeys.length\n  if (n < m) throw new TypeError('Not enough pubKeys provided')\n\n  return bscript.compile([].concat(\n    OP_INT_BASE + m,\n    pubKeys,\n    OP_INT_BASE + n,\n    OPS.OP_CHECKMULTISIG\n  ))\n}\n\nfunction decode (buffer, allowIncomplete) {\n  var chunks = bscript.decompile(buffer)\n  typeforce(check, chunks, allowIncomplete)\n\n  return {\n    m: chunks[0] - OP_INT_BASE,\n    pubKeys: chunks.slice(1, -2)\n  }\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","// OP_RETURN {data}\n\nvar bscript = require('../script')\nvar types = require('../types')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nfunction check (script) {\n  var buffer = bscript.compile(script)\n\n  return buffer.length > 1 &&\n    buffer[0] === OPS.OP_RETURN\n}\ncheck.toJSON = function () { return 'null data output' }\n\nfunction encode (data) {\n  typeforce(types.Buffer, data)\n\n  return bscript.compile([OPS.OP_RETURN, data])\n}\n\nfunction decode (buffer) {\n  typeforce(check, buffer)\n\n  return buffer.slice(2)\n}\n\nmodule.exports = {\n  output: {\n    check: check,\n    decode: decode,\n    encode: encode\n  }\n}\n","module.exports = {\n  input: require('./input'),\n  output: require('./output')\n}\n","// {signature}\n\nvar bscript = require('../../script')\nvar typeforce = require('typeforce')\n\nfunction check (script) {\n  var chunks = bscript.decompile(script)\n\n  return chunks.length === 1 &&\n    bscript.isCanonicalSignature(chunks[0])\n}\ncheck.toJSON = function () { return 'pubKey input' }\n\nfunction encodeStack (signature) {\n  typeforce(bscript.isCanonicalSignature, signature)\n  return [signature]\n}\n\nfunction encode (signature) {\n  return bscript.compile(encodeStack(signature))\n}\n\nfunction decodeStack (stack) {\n  typeforce(typeforce.Array, stack)\n  typeforce(check, stack)\n  return stack[0]\n}\n\nfunction decode (buffer) {\n  var stack = bscript.decompile(buffer)\n  return decodeStack(stack)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  decodeStack: decodeStack,\n  encode: encode,\n  encodeStack: encodeStack\n}\n","// {pubKey} OP_CHECKSIG\n\nvar bscript = require('../../script')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nfunction check (script) {\n  var chunks = bscript.decompile(script)\n\n  return chunks.length === 2 &&\n    bscript.isCanonicalPubKey(chunks[0]) &&\n    chunks[1] === OPS.OP_CHECKSIG\n}\ncheck.toJSON = function () { return 'pubKey output' }\n\nfunction encode (pubKey) {\n  typeforce(bscript.isCanonicalPubKey, pubKey)\n\n  return bscript.compile([pubKey, OPS.OP_CHECKSIG])\n}\n\nfunction decode (buffer) {\n  var chunks = bscript.decompile(buffer)\n  typeforce(check, chunks)\n\n  return chunks[0]\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","module.exports = {\n  input: require('./input'),\n  output: require('./output')\n}\n","// {signature} {pubKey}\n\nvar bscript = require('../../script')\nvar typeforce = require('typeforce')\n\nfunction check (script) {\n  var chunks = bscript.decompile(script)\n\n  return chunks.length === 2 &&\n    bscript.isCanonicalSignature(chunks[0]) &&\n    bscript.isCanonicalPubKey(chunks[1])\n}\ncheck.toJSON = function () { return 'pubKeyHash input' }\n\nfunction encodeStack (signature, pubKey) {\n  typeforce({\n    signature: bscript.isCanonicalSignature,\n    pubKey: bscript.isCanonicalPubKey\n  }, {\n    signature: signature,\n    pubKey: pubKey\n  })\n\n  return [signature, pubKey]\n}\n\nfunction encode (signature, pubKey) {\n  return bscript.compile(encodeStack(signature, pubKey))\n}\n\nfunction decodeStack (stack) {\n  typeforce(typeforce.Array, stack)\n  typeforce(check, stack)\n\n  return {\n    signature: stack[0],\n    pubKey: stack[1]\n  }\n}\n\nfunction decode (buffer) {\n  var stack = bscript.decompile(buffer)\n  return decodeStack(stack)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  decodeStack: decodeStack,\n  encode: encode,\n  encodeStack: encodeStack\n}\n","// OP_DUP OP_HASH160 {pubKeyHash} OP_EQUALVERIFY OP_CHECKSIG\n\nvar bscript = require('../../script')\nvar types = require('../../types')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nfunction check (script) {\n  var buffer = bscript.compile(script)\n\n  return buffer.length === 25 &&\n    buffer[0] === OPS.OP_DUP &&\n    buffer[1] === OPS.OP_HASH160 &&\n    buffer[2] === 0x14 &&\n    buffer[23] === OPS.OP_EQUALVERIFY &&\n    buffer[24] === OPS.OP_CHECKSIG\n}\ncheck.toJSON = function () { return 'pubKeyHash output' }\n\nfunction encode (pubKeyHash) {\n  typeforce(types.Hash160bit, pubKeyHash)\n\n  return bscript.compile([\n    OPS.OP_DUP,\n    OPS.OP_HASH160,\n    pubKeyHash,\n    OPS.OP_EQUALVERIFY,\n    OPS.OP_CHECKSIG\n  ])\n}\n\nfunction decode (buffer) {\n  typeforce(check, buffer)\n\n  return buffer.slice(3, 23)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","module.exports = {\n  input: require('./input'),\n  output: require('./output')\n}\n","// <scriptSig> {serialized scriptPubKey script}\n\nvar Buffer = require('safe-buffer').Buffer\nvar bscript = require('../../script')\nvar typeforce = require('typeforce')\n\nvar p2ms = require('../multisig/')\nvar p2pk = require('../pubkey/')\nvar p2pkh = require('../pubkeyhash/')\nvar p2wpkho = require('../witnesspubkeyhash/output')\nvar p2wsho = require('../witnessscripthash/output')\n\nfunction check (script, allowIncomplete) {\n  var chunks = bscript.decompile(script)\n  if (chunks.length < 1) return false\n\n  var lastChunk = chunks[chunks.length - 1]\n  if (!Buffer.isBuffer(lastChunk)) return false\n\n  var scriptSigChunks = bscript.decompile(bscript.compile(chunks.slice(0, -1)))\n  var redeemScriptChunks = bscript.decompile(lastChunk)\n\n  // is redeemScript a valid script?\n  if (redeemScriptChunks.length === 0) return false\n\n  // is redeemScriptSig push only?\n  if (!bscript.isPushOnly(scriptSigChunks)) return false\n\n  // is witness?\n  if (chunks.length === 1) {\n    return p2wsho.check(redeemScriptChunks) ||\n      p2wpkho.check(redeemScriptChunks)\n  }\n\n  // match types\n  if (p2pkh.input.check(scriptSigChunks) &&\n    p2pkh.output.check(redeemScriptChunks)) return true\n\n  if (p2ms.input.check(scriptSigChunks, allowIncomplete) &&\n    p2ms.output.check(redeemScriptChunks)) return true\n\n  if (p2pk.input.check(scriptSigChunks) &&\n    p2pk.output.check(redeemScriptChunks)) return true\n\n  return false\n}\ncheck.toJSON = function () { return 'scriptHash input' }\n\nfunction encodeStack (redeemScriptStack, redeemScript) {\n  var serializedScriptPubKey = bscript.compile(redeemScript)\n\n  return [].concat(redeemScriptStack, serializedScriptPubKey)\n}\n\nfunction encode (redeemScriptSig, redeemScript) {\n  var redeemScriptStack = bscript.decompile(redeemScriptSig)\n\n  return bscript.compile(encodeStack(redeemScriptStack, redeemScript))\n}\n\nfunction decodeStack (stack) {\n  typeforce(typeforce.Array, stack)\n  typeforce(check, stack)\n\n  return {\n    redeemScriptStack: stack.slice(0, -1),\n    redeemScript: stack[stack.length - 1]\n  }\n}\n\nfunction decode (buffer) {\n  var stack = bscript.decompile(buffer)\n  var result = decodeStack(stack)\n  result.redeemScriptSig = bscript.compile(result.redeemScriptStack)\n  delete result.redeemScriptStack\n  return result\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  decodeStack: decodeStack,\n  encode: encode,\n  encodeStack: encodeStack\n}\n","// OP_HASH160 {scriptHash} OP_EQUAL\n\nvar bscript = require('../../script')\nvar types = require('../../types')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nfunction check (script) {\n  var buffer = bscript.compile(script)\n\n  return buffer.length === 23 &&\n    buffer[0] === OPS.OP_HASH160 &&\n    buffer[1] === 0x14 &&\n    buffer[22] === OPS.OP_EQUAL\n}\ncheck.toJSON = function () { return 'scriptHash output' }\n\nfunction encode (scriptHash) {\n  typeforce(types.Hash160bit, scriptHash)\n\n  return bscript.compile([OPS.OP_HASH160, scriptHash, OPS.OP_EQUAL])\n}\n\nfunction decode (buffer) {\n  typeforce(check, buffer)\n\n  return buffer.slice(2, 22)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","module.exports = {\n  output: require('./output')\n}\n","// OP_RETURN {aa21a9ed} {commitment}\n\nvar Buffer = require('safe-buffer').Buffer\nvar bscript = require('../../script')\nvar types = require('../../types')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nvar HEADER = Buffer.from('aa21a9ed', 'hex')\n\nfunction check (script) {\n  var buffer = bscript.compile(script)\n\n  return buffer.length > 37 &&\n    buffer[0] === OPS.OP_RETURN &&\n    buffer[1] === 0x24 &&\n    buffer.slice(2, 6).equals(HEADER)\n}\n\ncheck.toJSON = function () { return 'Witness commitment output' }\n\nfunction encode (commitment) {\n  typeforce(types.Hash256bit, commitment)\n\n  var buffer = Buffer.allocUnsafe(36)\n  HEADER.copy(buffer, 0)\n  commitment.copy(buffer, 4)\n\n  return bscript.compile([OPS.OP_RETURN, buffer])\n}\n\nfunction decode (buffer) {\n  typeforce(check, buffer)\n\n  return bscript.decompile(buffer)[1].slice(4, 36)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","module.exports = {\n  input: require('./input'),\n  output: require('./output')\n}\n","// {signature} {pubKey}\n\nvar bscript = require('../../script')\nvar typeforce = require('typeforce')\n\nfunction isCompressedCanonicalPubKey (pubKey) {\n  return bscript.isCanonicalPubKey(pubKey) && pubKey.length === 33\n}\n\nfunction check (script) {\n  var chunks = bscript.decompile(script)\n\n  return chunks.length === 2 &&\n    bscript.isCanonicalSignature(chunks[0]) &&\n    isCompressedCanonicalPubKey(chunks[1])\n}\ncheck.toJSON = function () { return 'witnessPubKeyHash input' }\n\nfunction encodeStack (signature, pubKey) {\n  typeforce({\n    signature: bscript.isCanonicalSignature,\n    pubKey: isCompressedCanonicalPubKey\n  }, {\n    signature: signature,\n    pubKey: pubKey\n  })\n\n  return [signature, pubKey]\n}\n\nfunction decodeStack (stack) {\n  typeforce(typeforce.Array, stack)\n  typeforce(check, stack)\n\n  return {\n    signature: stack[0],\n    pubKey: stack[1]\n  }\n}\n\nmodule.exports = {\n  check: check,\n  decodeStack: decodeStack,\n  encodeStack: encodeStack\n}\n","// OP_0 {pubKeyHash}\n\nvar bscript = require('../../script')\nvar types = require('../../types')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nfunction check (script) {\n  var buffer = bscript.compile(script)\n\n  return buffer.length === 22 &&\n    buffer[0] === OPS.OP_0 &&\n    buffer[1] === 0x14\n}\ncheck.toJSON = function () { return 'Witness pubKeyHash output' }\n\nfunction encode (pubKeyHash) {\n  typeforce(types.Hash160bit, pubKeyHash)\n\n  return bscript.compile([OPS.OP_0, pubKeyHash])\n}\n\nfunction decode (buffer) {\n  typeforce(check, buffer)\n\n  return buffer.slice(2)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","module.exports = {\n  input: require('./input'),\n  output: require('./output')\n}\n","// <scriptSig> {serialized scriptPubKey script}\n\nvar bscript = require('../../script')\nvar types = require('../../types')\nvar typeforce = require('typeforce')\n\nvar p2ms = require('../multisig/')\nvar p2pk = require('../pubkey/')\nvar p2pkh = require('../pubkeyhash/')\n\nfunction check (chunks, allowIncomplete) {\n  typeforce(types.Array, chunks)\n  if (chunks.length < 1) return false\n\n  var witnessScript = chunks[chunks.length - 1]\n  if (!Buffer.isBuffer(witnessScript)) return false\n\n  var witnessScriptChunks = bscript.decompile(witnessScript)\n\n  // is witnessScript a valid script?\n  if (witnessScriptChunks.length === 0) return false\n\n  var witnessRawScriptSig = bscript.compile(chunks.slice(0, -1))\n\n  // match types\n  if (p2pkh.input.check(witnessRawScriptSig) &&\n    p2pkh.output.check(witnessScriptChunks)) return true\n\n  if (p2ms.input.check(witnessRawScriptSig, allowIncomplete) &&\n    p2ms.output.check(witnessScriptChunks)) return true\n\n  if (p2pk.input.check(witnessRawScriptSig) &&\n    p2pk.output.check(witnessScriptChunks)) return true\n\n  return false\n}\ncheck.toJSON = function () { return 'witnessScriptHash input' }\n\nfunction encodeStack (witnessData, witnessScript) {\n  typeforce({\n    witnessData: [types.Buffer],\n    witnessScript: types.Buffer\n  }, {\n    witnessData: witnessData,\n    witnessScript: witnessScript\n  })\n\n  return [].concat(witnessData, witnessScript)\n}\n\nfunction decodeStack (stack) {\n  typeforce(typeforce.Array, stack)\n  typeforce(check, stack)\n  return {\n    witnessData: stack.slice(0, -1),\n    witnessScript: stack[stack.length - 1]\n  }\n}\n\nmodule.exports = {\n  check: check,\n  decodeStack: decodeStack,\n  encodeStack: encodeStack\n}\n","// OP_0 {scriptHash}\n\nvar bscript = require('../../script')\nvar types = require('../../types')\nvar typeforce = require('typeforce')\nvar OPS = require('@psf/bitcoincash-ops')\n\nfunction check (script) {\n  var buffer = bscript.compile(script)\n\n  return buffer.length === 34 &&\n    buffer[0] === OPS.OP_0 &&\n    buffer[1] === 0x20\n}\ncheck.toJSON = function () { return 'Witness scriptHash output' }\n\nfunction encode (scriptHash) {\n  typeforce(types.Hash256bit, scriptHash)\n\n  return bscript.compile([OPS.OP_0, scriptHash])\n}\n\nfunction decode (buffer) {\n  typeforce(check, buffer)\n\n  return buffer.slice(2)\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","var Buffer = require('safe-buffer').Buffer\nvar bcrypto = require('./crypto')\nvar bscript = require('./script')\nvar bufferutils = require('./bufferutils')\nvar opcodes = require('@psf/bitcoincash-ops')\nvar typeforce = require('typeforce')\nvar types = require('./types')\nvar varuint = require('varuint-bitcoin')\n\nfunction varSliceSize (someScript) {\n  var length = someScript.length\n\n  return varuint.encodingLength(length) + length\n}\n\nfunction vectorSize (someVector) {\n  var length = someVector.length\n\n  return varuint.encodingLength(length) + someVector.reduce(function (sum, witness) {\n    return sum + varSliceSize(witness)\n  }, 0)\n}\n\nfunction Transaction () {\n  this.version = 2\n  this.locktime = 0\n  this.ins = []\n  this.outs = []\n}\n\nTransaction.DEFAULT_SEQUENCE = 0xffffffff\nTransaction.SIGHASH_ALL = 0x01\nTransaction.SIGHASH_NONE = 0x02\nTransaction.SIGHASH_SINGLE = 0x03\nTransaction.SIGHASH_ANYONECANPAY = 0x80\nTransaction.SIGHASH_BITCOINCASHBIP143 = 0x40\nTransaction.ADVANCED_TRANSACTION_MARKER = 0x00\nTransaction.ADVANCED_TRANSACTION_FLAG = 0x01\n\nvar EMPTY_SCRIPT = Buffer.allocUnsafe(0)\nvar EMPTY_WITNESS = []\nvar ZERO = Buffer.from('0000000000000000000000000000000000000000000000000000000000000000', 'hex')\nvar ONE = Buffer.from('0000000000000000000000000000000000000000000000000000000000000001', 'hex')\nvar VALUE_UINT64_MAX = Buffer.from('ffffffffffffffff', 'hex')\nvar BLANK_OUTPUT = {\n  script: EMPTY_SCRIPT,\n  valueBuffer: VALUE_UINT64_MAX\n}\n\nTransaction.fromBuffer = function (buffer, __noStrict) {\n  var offset = 0\n  function readSlice (n) {\n    offset += n\n    return buffer.slice(offset - n, offset)\n  }\n\n  function readUInt32 () {\n    var i = buffer.readUInt32LE(offset)\n    offset += 4\n    return i\n  }\n\n  function readInt32 () {\n    var i = buffer.readInt32LE(offset)\n    offset += 4\n    return i\n  }\n\n  function readUInt64 () {\n    var i = bufferutils.readUInt64LE(buffer, offset)\n    offset += 8\n    return i\n  }\n\n  function readVarInt () {\n    var vi = varuint.decode(buffer, offset)\n    offset += varuint.decode.bytes\n    return vi\n  }\n\n  function readVarSlice () {\n    return readSlice(readVarInt())\n  }\n\n  function readVector () {\n    var count = readVarInt()\n    var vector = []\n    for (var i = 0; i < count; i++) vector.push(readVarSlice())\n    return vector\n  }\n\n  var tx = new Transaction()\n  tx.version = readInt32()\n\n  var marker = buffer.readUInt8(offset)\n  var flag = buffer.readUInt8(offset + 1)\n\n  var hasWitnesses = false\n  if (marker === Transaction.ADVANCED_TRANSACTION_MARKER &&\n      flag === Transaction.ADVANCED_TRANSACTION_FLAG) {\n    offset += 2\n    hasWitnesses = true\n  }\n\n  var vinLen = readVarInt()\n  for (var i = 0; i < vinLen; ++i) {\n    tx.ins.push({\n      hash: readSlice(32),\n      index: readUInt32(),\n      script: readVarSlice(),\n      sequence: readUInt32(),\n      witness: EMPTY_WITNESS\n    })\n  }\n\n  var voutLen = readVarInt()\n  for (i = 0; i < voutLen; ++i) {\n    tx.outs.push({\n      value: readUInt64(),\n      script: readVarSlice()\n    })\n  }\n\n  if (hasWitnesses) {\n    for (i = 0; i < vinLen; ++i) {\n      tx.ins[i].witness = readVector()\n    }\n\n    // was this pointless?\n    if (!tx.hasWitnesses()) throw new Error('Transaction has superfluous witness data')\n  }\n\n  tx.locktime = readUInt32()\n\n  if (__noStrict) return tx\n  if (offset !== buffer.length) throw new Error('Transaction has unexpected data')\n\n  return tx\n}\n\nTransaction.fromHex = function (hex) {\n  return Transaction.fromBuffer(Buffer.from(hex, 'hex'))\n}\n\nTransaction.isCoinbaseHash = function (buffer) {\n  typeforce(types.Hash256bit, buffer)\n  for (var i = 0; i < 32; ++i) {\n    if (buffer[i] !== 0) return false\n  }\n  return true\n}\n\nTransaction.prototype.isCoinbase = function () {\n  return this.ins.length === 1 && Transaction.isCoinbaseHash(this.ins[0].hash)\n}\n\nTransaction.prototype.addInput = function (hash, index, sequence, scriptSig) {\n  typeforce(types.tuple(\n    types.Hash256bit,\n    types.UInt32,\n    types.maybe(types.UInt32),\n    types.maybe(types.Buffer)\n  ), arguments)\n\n  if (types.Null(sequence)) {\n    sequence = Transaction.DEFAULT_SEQUENCE\n  }\n\n  // Add the input and return the input's index\n  return (this.ins.push({\n    hash: hash,\n    index: index,\n    script: scriptSig || EMPTY_SCRIPT,\n    sequence: sequence,\n    witness: EMPTY_WITNESS\n  }) - 1)\n}\n\nTransaction.prototype.addOutput = function (scriptPubKey, value) {\n  typeforce(types.tuple(types.Buffer, types.Satoshi), arguments)\n\n  // Add the output and return the output's index\n  return (this.outs.push({\n    script: scriptPubKey,\n    value: value\n  }) - 1)\n}\n\nTransaction.prototype.hasWitnesses = function () {\n  return this.ins.some(function (x) {\n    return x.witness.length !== 0\n  })\n}\n\nTransaction.prototype.weight = function () {\n  var base = this.__byteLength(false)\n  var total = this.__byteLength(true)\n  return base * 3 + total\n}\n\nTransaction.prototype.virtualSize = function () {\n  return Math.ceil(this.weight() / 4)\n}\n\nTransaction.prototype.byteLength = function () {\n  return this.__byteLength(true)\n}\n\nTransaction.prototype.__byteLength = function (__allowWitness) {\n  var hasWitnesses = __allowWitness && this.hasWitnesses()\n\n  return (\n    (hasWitnesses ? 10 : 8) +\n    varuint.encodingLength(this.ins.length) +\n    varuint.encodingLength(this.outs.length) +\n    this.ins.reduce(function (sum, input) { return sum + 40 + varSliceSize(input.script) }, 0) +\n    this.outs.reduce(function (sum, output) { return sum + 8 + varSliceSize(output.script) }, 0) +\n    (hasWitnesses ? this.ins.reduce(function (sum, input) { return sum + vectorSize(input.witness) }, 0) : 0)\n  )\n}\n\nTransaction.prototype.clone = function () {\n  var newTx = new Transaction()\n  newTx.version = this.version\n  newTx.locktime = this.locktime\n\n  newTx.ins = this.ins.map(function (txIn) {\n    return {\n      hash: txIn.hash,\n      index: txIn.index,\n      script: txIn.script,\n      sequence: txIn.sequence,\n      witness: txIn.witness\n    }\n  })\n\n  newTx.outs = this.outs.map(function (txOut) {\n    return {\n      script: txOut.script,\n      value: txOut.value\n    }\n  })\n\n  return newTx\n}\n\n/**\n * Hash transaction for signing a specific input.\n *\n * Bitcoin uses a different hash for each signed transaction input.\n * This method copies the transaction, makes the necessary changes based on the\n * hashType, and then hashes the result.\n * This hash can then be used to sign the provided transaction input.\n */\nTransaction.prototype.hashForSignature = function (inIndex, prevOutScript, hashType) {\n  typeforce(types.tuple(types.UInt32, types.Buffer, /* types.UInt8 */ types.Number), arguments)\n\n  // https://github.com/bitcoin/bitcoin/blob/master/src/test/sighash_tests.cpp#L29\n  if (inIndex >= this.ins.length) return ONE\n\n  // ignore OP_CODESEPARATOR\n  var ourScript = bscript.compile(bscript.decompile(prevOutScript).filter(function (x) {\n    return x !== opcodes.OP_CODESEPARATOR\n  }))\n\n  var txTmp = this.clone()\n\n  // SIGHASH_NONE: ignore all outputs? (wildcard payee)\n  if ((hashType & 0x1f) === Transaction.SIGHASH_NONE) {\n    txTmp.outs = []\n\n    // ignore sequence numbers (except at inIndex)\n    txTmp.ins.forEach(function (input, i) {\n      if (i === inIndex) return\n\n      input.sequence = 0\n    })\n\n  // SIGHASH_SINGLE: ignore all outputs, except at the same index?\n  } else if ((hashType & 0x1f) === Transaction.SIGHASH_SINGLE) {\n    // https://github.com/bitcoin/bitcoin/blob/master/src/test/sighash_tests.cpp#L60\n    if (inIndex >= this.outs.length) return ONE\n\n    // truncate outputs after\n    txTmp.outs.length = inIndex + 1\n\n    // \"blank\" outputs before\n    for (var i = 0; i < inIndex; i++) {\n      txTmp.outs[i] = BLANK_OUTPUT\n    }\n\n    // ignore sequence numbers (except at inIndex)\n    txTmp.ins.forEach(function (input, y) {\n      if (y === inIndex) return\n\n      input.sequence = 0\n    })\n  }\n\n  // SIGHASH_ANYONECANPAY: ignore inputs entirely?\n  if (hashType & Transaction.SIGHASH_ANYONECANPAY) {\n    txTmp.ins = [txTmp.ins[inIndex]]\n    txTmp.ins[0].script = ourScript\n\n  // SIGHASH_ALL: only ignore input scripts\n  } else {\n    // \"blank\" others input scripts\n    txTmp.ins.forEach(function (input) { input.script = EMPTY_SCRIPT })\n    txTmp.ins[inIndex].script = ourScript\n  }\n\n  // serialize and hash\n  var buffer = Buffer.allocUnsafe(txTmp.__byteLength(false) + 4)\n  buffer.writeInt32LE(hashType, buffer.length - 4)\n  txTmp.__toBuffer(buffer, 0, false)\n\n  return bcrypto.hash256(buffer)\n}\n\nTransaction.prototype.hashForWitnessV0 = function (inIndex, prevOutScript, value, hashType) {\n  typeforce(types.tuple(types.UInt32, types.Buffer, types.Satoshi, types.UInt32), arguments)\n\n  var tbuffer, toffset\n  function writeSlice (slice) { toffset += slice.copy(tbuffer, toffset) }\n  function writeUInt32 (i) { toffset = tbuffer.writeUInt32LE(i, toffset) }\n  function writeUInt64 (i) { toffset = bufferutils.writeUInt64LE(tbuffer, i, toffset) }\n  function writeVarInt (i) {\n    varuint.encode(i, tbuffer, toffset)\n    toffset += varuint.encode.bytes\n  }\n  function writeVarSlice (slice) { writeVarInt(slice.length); writeSlice(slice) }\n\n  var hashOutputs = ZERO\n  var hashPrevouts = ZERO\n  var hashSequence = ZERO\n\n  if (!(hashType & Transaction.SIGHASH_ANYONECANPAY)) {\n    tbuffer = Buffer.allocUnsafe(36 * this.ins.length)\n    toffset = 0\n\n    this.ins.forEach(function (txIn) {\n      writeSlice(txIn.hash)\n      writeUInt32(txIn.index)\n    })\n\n    hashPrevouts = bcrypto.hash256(tbuffer)\n  }\n\n  if (!(hashType & Transaction.SIGHASH_ANYONECANPAY) &&\n       (hashType & 0x1f) !== Transaction.SIGHASH_SINGLE &&\n       (hashType & 0x1f) !== Transaction.SIGHASH_NONE) {\n    tbuffer = Buffer.allocUnsafe(4 * this.ins.length)\n    toffset = 0\n\n    this.ins.forEach(function (txIn) {\n      writeUInt32(txIn.sequence)\n    })\n\n    hashSequence = bcrypto.hash256(tbuffer)\n  }\n\n  if ((hashType & 0x1f) !== Transaction.SIGHASH_SINGLE &&\n      (hashType & 0x1f) !== Transaction.SIGHASH_NONE) {\n    var txOutsSize = this.outs.reduce(function (sum, output) {\n      return sum + 8 + varSliceSize(output.script)\n    }, 0)\n\n    tbuffer = Buffer.allocUnsafe(txOutsSize)\n    toffset = 0\n\n    this.outs.forEach(function (out) {\n      writeUInt64(out.value)\n      writeVarSlice(out.script)\n    })\n\n    hashOutputs = bcrypto.hash256(tbuffer)\n  } else if ((hashType & 0x1f) === Transaction.SIGHASH_SINGLE && inIndex < this.outs.length) {\n    var output = this.outs[inIndex]\n\n    tbuffer = Buffer.allocUnsafe(8 + varSliceSize(output.script))\n    toffset = 0\n    writeUInt64(output.value)\n    writeVarSlice(output.script)\n\n    hashOutputs = bcrypto.hash256(tbuffer)\n  }\n\n  tbuffer = Buffer.allocUnsafe(156 + varSliceSize(prevOutScript))\n  toffset = 0\n\n  var input = this.ins[inIndex]\n  writeUInt32(this.version)\n  writeSlice(hashPrevouts)\n  writeSlice(hashSequence)\n  writeSlice(input.hash)\n  writeUInt32(input.index)\n  writeVarSlice(prevOutScript)\n  writeUInt64(value)\n  writeUInt32(input.sequence)\n  writeSlice(hashOutputs)\n  writeUInt32(this.locktime)\n  writeUInt32(hashType)\n  return bcrypto.hash256(tbuffer)\n}\n\n/**\n * Hash transaction for signing a specific input for Bitcoin Cash.\n */\nTransaction.prototype.hashForCashSignature = function (inIndex, prevOutScript, inAmount, hashType) {\n  typeforce(types.tuple(types.UInt32, types.Buffer, /* types.UInt8 */ types.Number, types.maybe(types.UInt53)), arguments)\n\n  // This function works the way it does because Bitcoin Cash\n  // uses BIP143 as their replay protection, AND their algo\n  // includes `forkId | hashType`, AND since their forkId=0,\n  // this is a NOP, and has no difference to segwit. To support\n  // other forks, another parameter is required, and a new parameter\n  // would be required in the hashForWitnessV0 function, or\n  // it could be broken into two..\n\n  // BIP143 sighash activated in BitcoinCash via 0x40 bit\n  if (hashType & Transaction.SIGHASH_BITCOINCASHBIP143) {\n    if (types.Null(inAmount)) {\n      throw new Error('Bitcoin Cash sighash requires value of input to be signed.')\n    }\n    return this.hashForWitnessV0(inIndex, prevOutScript, inAmount, hashType)\n  } else {\n    return this.hashForSignature(inIndex, prevOutScript, hashType)\n  }\n}\n\nTransaction.prototype.getHash = function () {\n  return bcrypto.hash256(this.__toBuffer(undefined, undefined, false))\n}\n\nTransaction.prototype.getId = function () {\n  // transaction hash's are displayed in reverse order\n  return this.getHash().reverse().toString('hex')\n}\n\nTransaction.prototype.toBuffer = function (buffer, initialOffset) {\n  return this.__toBuffer(buffer, initialOffset, true)\n}\n\nTransaction.prototype.__toBuffer = function (buffer, initialOffset, __allowWitness) {\n  if (!buffer) buffer = Buffer.allocUnsafe(this.__byteLength(__allowWitness))\n\n  var offset = initialOffset || 0\n  function writeSlice (slice) { offset += slice.copy(buffer, offset) }\n  function writeUInt8 (i) { offset = buffer.writeUInt8(i, offset) }\n  function writeUInt32 (i) { offset = buffer.writeUInt32LE(i, offset) }\n  function writeInt32 (i) { offset = buffer.writeInt32LE(i, offset) }\n  function writeUInt64 (i) { offset = bufferutils.writeUInt64LE(buffer, i, offset) }\n  function writeVarInt (i) {\n    varuint.encode(i, buffer, offset)\n    offset += varuint.encode.bytes\n  }\n  function writeVarSlice (slice) { writeVarInt(slice.length); writeSlice(slice) }\n  function writeVector (vector) { writeVarInt(vector.length); vector.forEach(writeVarSlice) }\n\n  writeInt32(this.version)\n\n  var hasWitnesses = __allowWitness && this.hasWitnesses()\n\n  if (hasWitnesses) {\n    writeUInt8(Transaction.ADVANCED_TRANSACTION_MARKER)\n    writeUInt8(Transaction.ADVANCED_TRANSACTION_FLAG)\n  }\n\n  writeVarInt(this.ins.length)\n\n  this.ins.forEach(function (txIn) {\n    writeSlice(txIn.hash)\n    writeUInt32(txIn.index)\n    writeVarSlice(txIn.script)\n    writeUInt32(txIn.sequence)\n  })\n\n  writeVarInt(this.outs.length)\n  this.outs.forEach(function (txOut) {\n    if (!txOut.valueBuffer) {\n      writeUInt64(txOut.value)\n    } else {\n      writeSlice(txOut.valueBuffer)\n    }\n\n    writeVarSlice(txOut.script)\n  })\n\n  if (hasWitnesses) {\n    this.ins.forEach(function (input) {\n      writeVector(input.witness)\n    })\n  }\n\n  writeUInt32(this.locktime)\n\n  // avoid slicing unless necessary\n  if (initialOffset !== undefined) return buffer.slice(initialOffset, offset)\n  return buffer\n}\n\nTransaction.prototype.toHex = function () {\n  return this.toBuffer().toString('hex')\n}\n\nTransaction.prototype.setInputScript = function (index, scriptSig) {\n  typeforce(types.tuple(types.Number, types.Buffer), arguments)\n\n  this.ins[index].script = scriptSig\n}\n\nTransaction.prototype.setWitness = function (index, witness) {\n  typeforce(types.tuple(types.Number, [types.Buffer]), arguments)\n\n  this.ins[index].witness = witness\n}\n\nmodule.exports = Transaction\n","var Buffer = require('safe-buffer').Buffer\nvar baddress = require('./address')\nvar bcrypto = require('./crypto')\nvar bscript = require('./script')\nvar btemplates = require('./templates')\nvar networks = require('./networks')\nvar ops = require('@psf/bitcoincash-ops')\nvar typeforce = require('typeforce')\nvar types = require('./types')\nvar scriptTypes = btemplates.types\nvar SIGNABLE = [btemplates.types.P2PKH, btemplates.types.P2PK, btemplates.types.MULTISIG]\nvar P2SH = SIGNABLE.concat([btemplates.types.P2WPKH, btemplates.types.P2WSH])\n\nvar ECPair = require('./ecpair')\nvar ECSignature = require('./ecsignature')\nvar Transaction = require('./transaction')\n\nfunction supportedType (type) {\n  return SIGNABLE.indexOf(type) !== -1\n}\n\nfunction supportedP2SHType (type) {\n  return P2SH.indexOf(type) !== -1\n}\n\nfunction extractChunks (type, chunks, script) {\n  var pubKeys = []\n  var signatures = []\n  switch (type) {\n    case scriptTypes.P2PKH:\n      // if (redeemScript) throw new Error('Nonstandard... P2SH(P2PKH)')\n      pubKeys = chunks.slice(1)\n      signatures = chunks.slice(0, 1)\n      break\n\n    case scriptTypes.P2PK:\n      pubKeys[0] = script ? btemplates.pubKey.output.decode(script) : undefined\n      signatures = chunks.slice(0, 1)\n      break\n\n    case scriptTypes.MULTISIG:\n      if (script) {\n        var multisig = btemplates.multisig.output.decode(script)\n        pubKeys = multisig.pubKeys\n      }\n\n      signatures = chunks.slice(1).map(function (chunk) {\n        return chunk.length === 0 ? undefined : chunk\n      })\n      break\n  }\n\n  return {\n    pubKeys: pubKeys,\n    signatures: signatures\n  }\n}\nfunction expandInput (scriptSig, witnessStack) {\n  if (scriptSig.length === 0 && witnessStack.length === 0) return {}\n\n  var prevOutScript\n  var prevOutType\n  var scriptType\n  var script\n  var redeemScript\n  var witnessScript\n  var witnessScriptType\n  var redeemScriptType\n  var witness = false\n  var p2wsh = false\n  var p2sh = false\n  var witnessProgram\n  var chunks\n\n  var scriptSigChunks = bscript.decompile(scriptSig)\n  var sigType = btemplates.classifyInput(scriptSigChunks, true)\n  if (sigType === scriptTypes.P2SH) {\n    p2sh = true\n    redeemScript = scriptSigChunks[scriptSigChunks.length - 1]\n    redeemScriptType = btemplates.classifyOutput(redeemScript)\n    prevOutScript = btemplates.scriptHash.output.encode(bcrypto.hash160(redeemScript))\n    prevOutType = scriptTypes.P2SH\n    script = redeemScript\n  }\n\n  var classifyWitness = btemplates.classifyWitness(witnessStack, true)\n  if (classifyWitness === scriptTypes.P2WSH) {\n    witnessScript = witnessStack[witnessStack.length - 1]\n    witnessScriptType = btemplates.classifyOutput(witnessScript)\n    p2wsh = true\n    witness = true\n    if (scriptSig.length === 0) {\n      prevOutScript = btemplates.witnessScriptHash.output.encode(bcrypto.sha256(witnessScript))\n      prevOutType = scriptTypes.P2WSH\n      if (redeemScript !== undefined) {\n        throw new Error('Redeem script given when unnecessary')\n      }\n      // bare witness\n    } else {\n      if (!redeemScript) {\n        throw new Error('No redeemScript provided for P2WSH, but scriptSig non-empty')\n      }\n      witnessProgram = btemplates.witnessScriptHash.output.encode(bcrypto.sha256(witnessScript))\n      if (!redeemScript.equals(witnessProgram)) {\n        throw new Error('Redeem script didn\\'t match witnessScript')\n      }\n    }\n\n    if (!supportedType(btemplates.classifyOutput(witnessScript))) {\n      throw new Error('unsupported witness script')\n    }\n\n    script = witnessScript\n    scriptType = witnessScriptType\n    chunks = witnessStack.slice(0, -1)\n  } else if (classifyWitness === scriptTypes.P2WPKH) {\n    witness = true\n    var key = witnessStack[witnessStack.length - 1]\n    var keyHash = bcrypto.hash160(key)\n    if (scriptSig.length === 0) {\n      prevOutScript = btemplates.witnessPubKeyHash.output.encode(keyHash)\n      prevOutType = scriptTypes.P2WPKH\n      if (typeof redeemScript !== 'undefined') {\n        throw new Error('Redeem script given when unnecessary')\n      }\n    } else {\n      if (!redeemScript) {\n        throw new Error('No redeemScript provided for P2WPKH, but scriptSig wasn\\'t empty')\n      }\n      witnessProgram = btemplates.witnessPubKeyHash.output.encode(keyHash)\n      if (!redeemScript.equals(witnessProgram)) {\n        throw new Error('Redeem script did not have the right witness program')\n      }\n    }\n\n    scriptType = scriptTypes.P2PKH\n    chunks = witnessStack\n  } else if (redeemScript) {\n    if (!supportedP2SHType(redeemScriptType)) {\n      throw new Error('Bad redeemscript!')\n    }\n\n    script = redeemScript\n    scriptType = redeemScriptType\n    chunks = scriptSigChunks.slice(0, -1)\n  } else {\n    prevOutType = scriptType = btemplates.classifyInput(scriptSig)\n    chunks = scriptSigChunks\n  }\n\n  var expanded = extractChunks(scriptType, chunks, script)\n\n  var result = {\n    pubKeys: expanded.pubKeys,\n    signatures: expanded.signatures,\n    prevOutScript: prevOutScript,\n    prevOutType: prevOutType,\n    signType: scriptType,\n    signScript: script,\n    witness: Boolean(witness)\n  }\n\n  if (p2sh) {\n    result.redeemScript = redeemScript\n    result.redeemScriptType = redeemScriptType\n  }\n\n  if (p2wsh) {\n    result.witnessScript = witnessScript\n    result.witnessScriptType = witnessScriptType\n  }\n\n  return result\n}\n\n// could be done in expandInput, but requires the original Transaction for hashForSignature\nfunction fixMultisigOrder (input, transaction, vin, value, bitcoinCash) {\n  if (input.redeemScriptType !== scriptTypes.MULTISIG || !input.redeemScript) return\n  if (input.pubKeys.length === input.signatures.length) return\n\n  var unmatched = input.signatures.concat()\n\n  input.signatures = input.pubKeys.map(function (pubKey) {\n    var keyPair = ECPair.fromPublicKeyBuffer(pubKey)\n    var match\n\n    // check for a signature\n    unmatched.some(function (signature, i) {\n      // skip if undefined || OP_0\n      if (!signature) return false\n\n      // TODO: avoid O(n) hashForSignature\n      var parsed = ECSignature.parseScriptSignature(signature)\n      var hash\n      if (bitcoinCash) {\n        hash = transaction.hashForCashSignature(vin, input.signScript, value, parsed.hashType)\n      } else {\n        if (input.witness) {\n          hash = transaction.hashForWitnessV0(vin, input.signScript, value, parsed.hashType)\n        } else {\n          hash = transaction.hashForSignature(vin, input.signScript, parsed.hashType)\n        }\n      }\n\n      // skip if signature does not match pubKey\n      if (!keyPair.verify(hash, parsed.signature)) return false\n\n      // remove matched signature from unmatched\n      unmatched[i] = undefined\n      match = signature\n\n      return true\n    })\n\n    return match\n  })\n}\n\nfunction expandOutput (script, scriptType, ourPubKey) {\n  typeforce(types.Buffer, script)\n\n  var scriptChunks = bscript.decompile(script)\n  if (!scriptType) {\n    scriptType = btemplates.classifyOutput(script)\n  }\n\n  var pubKeys = []\n\n  switch (scriptType) {\n    // does our hash160(pubKey) match the output scripts?\n    case scriptTypes.P2PKH:\n      if (!ourPubKey) break\n\n      var pkh1 = scriptChunks[2]\n      var pkh2 = bcrypto.hash160(ourPubKey)\n      if (pkh1.equals(pkh2)) pubKeys = [ourPubKey]\n      break\n\n    // does our hash160(pubKey) match the output scripts?\n    case scriptTypes.P2WPKH:\n      if (!ourPubKey) break\n\n      var wpkh1 = scriptChunks[1]\n      var wpkh2 = bcrypto.hash160(ourPubKey)\n      if (wpkh1.equals(wpkh2)) pubKeys = [ourPubKey]\n      break\n\n    case scriptTypes.P2PK:\n      pubKeys = scriptChunks.slice(0, 1)\n      break\n\n    case scriptTypes.MULTISIG:\n      pubKeys = scriptChunks.slice(1, -2)\n      break\n\n    default: return { scriptType: scriptType }\n  }\n\n  return {\n    pubKeys: pubKeys,\n    scriptType: scriptType,\n    signatures: pubKeys.map(function () { return undefined })\n  }\n}\n\nfunction checkP2SHInput (input, redeemScriptHash) {\n  if (input.prevOutType) {\n    if (input.prevOutType !== scriptTypes.P2SH) throw new Error('PrevOutScript must be P2SH')\n\n    var prevOutScriptScriptHash = bscript.decompile(input.prevOutScript)[1]\n    if (!prevOutScriptScriptHash.equals(redeemScriptHash)) throw new Error('Inconsistent hash160(RedeemScript)')\n  }\n}\n\nfunction checkP2WSHInput (input, witnessScriptHash) {\n  if (input.prevOutType) {\n    if (input.prevOutType !== scriptTypes.P2WSH) throw new Error('PrevOutScript must be P2WSH')\n\n    var scriptHash = bscript.decompile(input.prevOutScript)[1]\n    if (!scriptHash.equals(witnessScriptHash)) throw new Error('Inconsistent sha25(WitnessScript)')\n  }\n}\n\nfunction prepareInput (input, kpPubKey, redeemScript, witnessValue, witnessScript) {\n  var expanded\n  var prevOutType\n  var prevOutScript\n\n  var p2sh = false\n  var p2shType\n  var redeemScriptHash\n\n  var witness = false\n  var p2wsh = false\n  var witnessType\n  var witnessScriptHash\n\n  var signType\n  var signScript\n\n  if (redeemScript && witnessScript) {\n    redeemScriptHash = bcrypto.hash160(redeemScript)\n    witnessScriptHash = bcrypto.sha256(witnessScript)\n    checkP2SHInput(input, redeemScriptHash)\n\n    if (!redeemScript.equals(btemplates.witnessScriptHash.output.encode(witnessScriptHash))) throw new Error('Witness script inconsistent with redeem script')\n\n    expanded = expandOutput(witnessScript, undefined, kpPubKey)\n    if (!expanded.pubKeys) throw new Error('WitnessScript not supported \"' + bscript.toASM(redeemScript) + '\"')\n\n    prevOutType = btemplates.types.P2SH\n    prevOutScript = btemplates.scriptHash.output.encode(redeemScriptHash)\n    p2sh = witness = p2wsh = true\n    p2shType = btemplates.types.P2WSH\n    signType = witnessType = expanded.scriptType\n    signScript = witnessScript\n  } else if (redeemScript) {\n    redeemScriptHash = bcrypto.hash160(redeemScript)\n    checkP2SHInput(input, redeemScriptHash)\n\n    expanded = expandOutput(redeemScript, undefined, kpPubKey)\n    if (!expanded.pubKeys) throw new Error('RedeemScript not supported \"' + bscript.toASM(redeemScript) + '\"')\n\n    prevOutType = btemplates.types.P2SH\n    prevOutScript = btemplates.scriptHash.output.encode(redeemScriptHash)\n    p2sh = true\n    signType = p2shType = expanded.scriptType\n    signScript = redeemScript\n    witness = signType === btemplates.types.P2WPKH\n  } else if (witnessScript) {\n    witnessScriptHash = bcrypto.sha256(witnessScript)\n    checkP2WSHInput(input, witnessScriptHash)\n\n    expanded = expandOutput(witnessScript, undefined, kpPubKey)\n    if (!expanded.pubKeys) throw new Error('WitnessScript not supported \"' + bscript.toASM(redeemScript) + '\"')\n\n    prevOutType = btemplates.types.P2WSH\n    prevOutScript = btemplates.witnessScriptHash.output.encode(witnessScriptHash)\n    witness = p2wsh = true\n    signType = witnessType = expanded.scriptType\n    signScript = witnessScript\n  } else if (input.prevOutType) {\n    // embedded scripts are not possible without a redeemScript\n    if (input.prevOutType === scriptTypes.P2SH ||\n      input.prevOutType === scriptTypes.P2WSH) {\n      throw new Error('PrevOutScript is ' + input.prevOutType + ', requires redeemScript')\n    }\n\n    prevOutType = input.prevOutType\n    prevOutScript = input.prevOutScript\n    expanded = expandOutput(input.prevOutScript, input.prevOutType, kpPubKey)\n    if (!expanded.pubKeys) return\n\n    witness = (input.prevOutType === scriptTypes.P2WPKH)\n    signType = prevOutType\n    signScript = prevOutScript\n  } else {\n    prevOutScript = btemplates.pubKeyHash.output.encode(bcrypto.hash160(kpPubKey))\n    expanded = expandOutput(prevOutScript, scriptTypes.P2PKH, kpPubKey)\n\n    prevOutType = scriptTypes.P2PKH\n    witness = false\n    signType = prevOutType\n    signScript = prevOutScript\n  }\n\n  if (signType === scriptTypes.P2WPKH) {\n    signScript = btemplates.pubKeyHash.output.encode(btemplates.witnessPubKeyHash.output.decode(signScript))\n  }\n\n  if (p2sh) {\n    input.redeemScript = redeemScript\n    input.redeemScriptType = p2shType\n  }\n\n  if (p2wsh) {\n    input.witnessScript = witnessScript\n    input.witnessScriptType = witnessType\n  }\n\n  input.pubKeys = expanded.pubKeys\n  input.signatures = expanded.signatures\n  input.signScript = signScript\n  input.signType = signType\n  input.prevOutScript = prevOutScript\n  input.prevOutType = prevOutType\n  input.witness = witness\n}\n\nfunction buildStack (type, signatures, pubKeys, allowIncomplete) {\n  if (type === scriptTypes.P2PKH) {\n    if (signatures.length === 1 && Buffer.isBuffer(signatures[0]) && pubKeys.length === 1) return btemplates.pubKeyHash.input.encodeStack(signatures[0], pubKeys[0])\n  } else if (type === scriptTypes.P2PK) {\n    if (signatures.length === 1 && Buffer.isBuffer(signatures[0])) return btemplates.pubKey.input.encodeStack(signatures[0])\n  } else if (type === scriptTypes.MULTISIG) {\n    if (signatures.length > 0) {\n      signatures = signatures.map(function (signature) {\n        return signature || ops.OP_0\n      })\n      if (!allowIncomplete) {\n        // remove blank signatures\n        signatures = signatures.filter(function (x) { return x !== ops.OP_0 })\n      }\n\n      return btemplates.multisig.input.encodeStack(signatures)\n    }\n  } else {\n    throw new Error('Not yet supported')\n  }\n\n  if (!allowIncomplete) throw new Error('Not enough signatures provided')\n  return []\n}\n\nfunction buildInput (input, allowIncomplete) {\n  var scriptType = input.prevOutType\n  var sig = []\n  var witness = []\n\n  if (supportedType(scriptType)) {\n    sig = buildStack(scriptType, input.signatures, input.pubKeys, allowIncomplete)\n  }\n\n  var p2sh = false\n  if (scriptType === btemplates.types.P2SH) {\n    // We can remove this error later when we have a guarantee prepareInput\n    // rejects unsignable scripts - it MUST be signable at this point.\n    if (!allowIncomplete && !supportedP2SHType(input.redeemScriptType)) {\n      throw new Error('Impossible to sign this type')\n    }\n\n    if (supportedType(input.redeemScriptType)) {\n      sig = buildStack(input.redeemScriptType, input.signatures, input.pubKeys, allowIncomplete)\n    }\n\n    // If it wasn't SIGNABLE, it's witness, defer to that\n    if (input.redeemScriptType) {\n      p2sh = true\n      scriptType = input.redeemScriptType\n    }\n  }\n\n  switch (scriptType) {\n    // P2WPKH is a special case of P2PKH\n    case btemplates.types.P2WPKH:\n      witness = buildStack(btemplates.types.P2PKH, input.signatures, input.pubKeys, allowIncomplete)\n      break\n\n    case btemplates.types.P2WSH:\n      // We can remove this check later\n      if (!allowIncomplete && !supportedType(input.witnessScriptType)) {\n        throw new Error('Impossible to sign this type')\n      }\n\n      if (supportedType(input.witnessScriptType)) {\n        witness = buildStack(input.witnessScriptType, input.signatures, input.pubKeys, allowIncomplete)\n        witness.push(input.witnessScript)\n        scriptType = input.witnessScriptType\n      }\n\n      break\n  }\n\n  // append redeemScript if necessary\n  if (p2sh) {\n    sig.push(input.redeemScript)\n  }\n\n  return {\n    type: scriptType,\n    script: bscript.compile(sig),\n    witness: witness\n  }\n}\n\nfunction TransactionBuilder (network, maximumFeeRate) {\n  this.prevTxMap = {}\n  this.network = network || networks.bitcoin\n\n  // WARNING: This is __NOT__ to be relied on, its just another potential safety mechanism (safety in-depth)\n  this.maximumFeeRate = maximumFeeRate || 2500\n\n  this.inputs = []\n  this.bitcoinCash = true\n  this.tx = new Transaction()\n}\n\nTransactionBuilder.prototype.setLockTime = function (locktime) {\n  typeforce(types.UInt32, locktime)\n\n  // if any signatures exist, throw\n  if (this.inputs.some(function (input) {\n    if (!input.signatures) return false\n\n    return input.signatures.some(function (s) { return s })\n  })) {\n    throw new Error('No, this would invalidate signatures')\n  }\n\n  this.tx.locktime = locktime\n}\n\nTransactionBuilder.fromTransaction = function (transaction, network, bitcoinCashTx) {\n  var txb = new TransactionBuilder(network)\n\n  // Copy transaction fields\n  txb.setLockTime(transaction.locktime)\n\n  // Copy outputs (done first to avoid signature invalidation)\n  transaction.outs.forEach(function (txOut) {\n    txb.addOutput(txOut.script, txOut.value)\n  })\n\n  // Copy inputs\n  transaction.ins.forEach(function (txIn) {\n    txb.__addInputUnsafe(txIn.hash, txIn.index, {\n      sequence: txIn.sequence,\n      script: txIn.script,\n      witness: txIn.witness,\n      value: txIn.value\n    })\n  })\n\n  // fix some things not possible through the public API\n  txb.inputs.forEach(function (input, i) {\n    fixMultisigOrder(input, transaction, i, input.value, bitcoinCashTx)\n  })\n\n  return txb\n}\n\nTransactionBuilder.prototype.addInput = function (txHash, vout, sequence, prevOutScript) {\n  if (!this.__canModifyInputs()) {\n    throw new Error('No, this would invalidate signatures')\n  }\n\n  var value\n\n  // is it a hex string?\n  if (typeof txHash === 'string') {\n    // transaction hashs's are displayed in reverse order, un-reverse it\n    txHash = Buffer.from(txHash, 'hex').reverse()\n\n  // is it a Transaction object?\n  } else if (txHash instanceof Transaction) {\n    var txOut = txHash.outs[vout]\n    prevOutScript = txOut.script\n    value = txOut.value\n\n    txHash = txHash.getHash()\n  }\n\n  return this.__addInputUnsafe(txHash, vout, {\n    sequence: sequence,\n    prevOutScript: prevOutScript,\n    value: value\n  })\n}\n\nTransactionBuilder.prototype.__addInputUnsafe = function (txHash, vout, options) {\n  if (Transaction.isCoinbaseHash(txHash)) {\n    throw new Error('coinbase inputs not supported')\n  }\n\n  var prevTxOut = txHash.toString('hex') + ':' + vout\n  if (this.prevTxMap[prevTxOut] !== undefined) throw new Error('Duplicate TxOut: ' + prevTxOut)\n\n  var input = {}\n\n  // derive what we can from the scriptSig\n  if (options.script !== undefined) {\n    input = expandInput(options.script, options.witness || [])\n  }\n\n  // if an input value was given, retain it\n  if (options.value !== undefined) {\n    input.value = options.value\n  }\n\n  // derive what we can from the previous transactions output script\n  if (!input.prevOutScript && options.prevOutScript) {\n    var prevOutType\n\n    if (!input.pubKeys && !input.signatures) {\n      var expanded = expandOutput(options.prevOutScript)\n\n      if (expanded.pubKeys) {\n        input.pubKeys = expanded.pubKeys\n        input.signatures = expanded.signatures\n      }\n\n      prevOutType = expanded.scriptType\n    }\n\n    input.prevOutScript = options.prevOutScript\n    input.prevOutType = prevOutType || btemplates.classifyOutput(options.prevOutScript)\n  }\n\n  var vin = this.tx.addInput(txHash, vout, options.sequence, options.scriptSig)\n  this.inputs[vin] = input\n  this.prevTxMap[prevTxOut] = vin\n  return vin\n}\n\nTransactionBuilder.prototype.addOutput = function (scriptPubKey, value) {\n  if (!this.__canModifyOutputs()) {\n    throw new Error('No, this would invalidate signatures')\n  }\n\n  // Attempt to get a script if it's a base58 address string\n  if (typeof scriptPubKey === 'string') {\n    scriptPubKey = baddress.toOutputScript(scriptPubKey, this.network)\n  }\n\n  return this.tx.addOutput(scriptPubKey, value)\n}\n\nTransactionBuilder.prototype.build = function () {\n  return this.__build(false)\n}\nTransactionBuilder.prototype.buildIncomplete = function () {\n  return this.__build(true)\n}\n\nTransactionBuilder.prototype.__build = function (allowIncomplete) {\n  if (!allowIncomplete) {\n    if (!this.tx.ins.length) throw new Error('Transaction has no inputs')\n    if (!this.tx.outs.length) throw new Error('Transaction has no outputs')\n  }\n\n  var tx = this.tx.clone()\n  // Create script signatures from inputs\n  this.inputs.forEach(function (input, i) {\n    var scriptType = input.witnessScriptType || input.redeemScriptType || input.prevOutType\n    if (!scriptType && !allowIncomplete) throw new Error('Transaction is not complete')\n    var result = buildInput(input, allowIncomplete)\n\n    // skip if no result\n    if (!allowIncomplete) {\n      if (!supportedType(result.type) && result.type !== btemplates.types.P2WPKH) {\n        throw new Error(result.type + ' not supported')\n      }\n    }\n\n    tx.setInputScript(i, result.script)\n    tx.setWitness(i, result.witness)\n  })\n\n  if (!allowIncomplete) {\n    // do not rely on this, its merely a last resort\n    if (this.__overMaximumFees(tx.virtualSize())) {\n      throw new Error('Transaction has absurd fees')\n    }\n  }\n\n  return tx\n}\n\nfunction canSign (input) {\n  return input.prevOutScript !== undefined &&\n    input.signScript !== undefined &&\n    input.pubKeys !== undefined &&\n    input.signatures !== undefined &&\n    input.signatures.length === input.pubKeys.length &&\n    input.pubKeys.length > 0 &&\n    (\n      input.witness === false ||\n      (input.witness === true && input.value !== undefined)\n    )\n}\n\nTransactionBuilder.prototype.sign = function (vin, keyPair, redeemScript, hashType, witnessValue, witnessScript, signatureAlgorithm) {\n  hashType = hashType | Transaction.SIGHASH_BITCOINCASHBIP143;\n\n  if (!this.inputs[vin]) throw new Error('No input at index: ' + vin)\n  hashType = hashType || Transaction.SIGHASH_ALL\n\n  var input = this.inputs[vin]\n\n  // if redeemScript was previously provided, enforce consistency\n  if (input.redeemScript !== undefined &&\n      redeemScript &&\n      !input.redeemScript.equals(redeemScript)) {\n    throw new Error('Inconsistent redeemScript')\n  }\n\n  var kpPubKey = keyPair.publicKey || keyPair.getPublicKeyBuffer()\n  if (!canSign(input)) {\n    if (witnessValue !== undefined) {\n      if (input.value !== undefined && input.value !== witnessValue) throw new Error('Input didn\\'t match witnessValue')\n      typeforce(types.Satoshi, witnessValue)\n      input.value = witnessValue\n    }\n\n    if (!canSign(input)) prepareInput(input, kpPubKey, redeemScript, witnessValue, witnessScript)\n    if (!canSign(input)) throw Error(input.prevOutType + ' not supported')\n  }\n\n  // ready to sign\n  // var signatureHash = this.tx.hashForCashSignature(vin, input.signScript, witnessValue, hashType)\n  var signatureHash = this.tx.hashForCashSignature(vin, input.signScript, witnessValue, hashType);\n  // if (this.bitcoinCash) {\n  //   signatureHash = this.tx.hashForCashSignature(vin, input.signScript, witnessValue, hashType)\n  // } else {\n  //   if (input.witness) {\n  //     signatureHash = this.tx.hashForWitnessV0(vin, input.signScript, witnessValue, hashType)\n  //   } else {\n  //     signatureHash = this.tx.hashForSignature(vin, input.signScript, hashType)\n  //   }\n  // }\n\n  // enforce in order signing of public keys\n  var signed = input.pubKeys.some(function (pubKey, i) {\n    if (!kpPubKey.equals(pubKey)) return false\n    if (input.signatures[i]) throw new Error('Signature already exists')\n    if (kpPubKey.length !== 33 &&\n      input.signType === scriptTypes.P2WPKH) throw new Error('BIP143 rejects uncompressed public keys in P2WPKH or P2WSH')\n\n    var signature = keyPair.sign(signatureHash, signatureAlgorithm)\n    if (Buffer.isBuffer(signature)) signature = ECSignature.fromRSBuffer(signature)\n\n    input.signatures[i] = signature.toScriptSignature(hashType, signatureAlgorithm)\n    return true\n  })\n\n  if (!signed) throw new Error('Key pair cannot sign for this input')\n}\n\nfunction signatureHashType (buffer) {\n  return buffer.readUInt8(buffer.length - 1)\n}\n\nTransactionBuilder.prototype.__canModifyInputs = function () {\n  return this.inputs.every(function (input) {\n    // any signatures?\n    if (input.signatures === undefined) return true\n\n    return input.signatures.every(function (signature) {\n      if (!signature) return true\n      var hashType = signatureHashType(signature)\n\n      // if SIGHASH_ANYONECANPAY is set, signatures would not\n      // be invalidated by more inputs\n      return hashType & Transaction.SIGHASH_ANYONECANPAY\n    })\n  })\n}\n\nTransactionBuilder.prototype.__canModifyOutputs = function () {\n  var nInputs = this.tx.ins.length\n  var nOutputs = this.tx.outs.length\n\n  return this.inputs.every(function (input) {\n    if (input.signatures === undefined) return true\n\n    return input.signatures.every(function (signature) {\n      if (!signature) return true\n      var hashType = signatureHashType(signature)\n\n      var hashTypeMod = hashType & 0x1f\n      if (hashTypeMod === Transaction.SIGHASH_NONE) return true\n      if (hashTypeMod === Transaction.SIGHASH_SINGLE) {\n        // if SIGHASH_SINGLE is set, and nInputs > nOutputs\n        // some signatures would be invalidated by the addition\n        // of more outputs\n        return nInputs <= nOutputs\n      }\n    })\n  })\n}\n\nTransactionBuilder.prototype.__overMaximumFees = function (bytes) {\n  // not all inputs will have .value defined\n  var incoming = this.inputs.reduce(function (a, x) { return a + (x.value >>> 0) }, 0)\n\n  // but all outputs do, and if we have any input value\n  // we can immediately determine if the outputs are too small\n  var outgoing = this.tx.outs.reduce(function (a, x) { return a + x.value }, 0)\n  var fee = incoming - outgoing\n  var feeRate = fee / bytes\n\n  return feeRate > this.maximumFeeRate\n}\n\nmodule.exports = TransactionBuilder\n","var typeforce = require('typeforce')\n\nvar UINT31_MAX = Math.pow(2, 31) - 1\nfunction UInt31 (value) {\n  return typeforce.UInt32(value) && value <= UINT31_MAX\n}\n\nfunction BIP32Path (value) {\n  return typeforce.String(value) && value.match(/^(m\\/)?(\\d+'?\\/)*\\d+'?$/)\n}\nBIP32Path.toJSON = function () { return 'BIP32 derivation path' }\n\nvar SATOSHI_MAX = 21 * 1e14\nfunction Satoshi (value) {\n  return typeforce.UInt53(value) && value <= SATOSHI_MAX\n}\n\n// external dependent types\nvar BigInt = typeforce.quacksLike('BigInteger')\nvar ECPoint = typeforce.quacksLike('Point')\n\n// exposed, external API\nvar ECSignature = typeforce.compile({ r: BigInt, s: BigInt })\nvar Network = typeforce.compile({\n  messagePrefix: typeforce.oneOf(typeforce.Buffer, typeforce.String),\n  bip32: {\n    public: typeforce.UInt32,\n    private: typeforce.UInt32\n  },\n  pubKeyHash: typeforce.UInt8,\n  scriptHash: typeforce.UInt8,\n  wif: typeforce.UInt8\n})\n\n// extend typeforce types with ours\nvar types = {\n  BigInt: BigInt,\n  BIP32Path: BIP32Path,\n  Buffer256bit: typeforce.BufferN(32),\n  ECPoint: ECPoint,\n  ECSignature: ECSignature,\n  Hash160bit: typeforce.BufferN(20),\n  Hash256bit: typeforce.BufferN(32),\n  Network: Network,\n  Satoshi: Satoshi,\n  UInt31: UInt31\n}\n\nfor (var typeName in typeforce) {\n  types[typeName] = typeforce[typeName]\n}\n\nmodule.exports = types\n","var OPS = require(\"@psf/bitcoincash-ops\");\n\nfunction encodingLength(i) {\n  return i < OPS.OP_PUSHDATA1 ? 1 : i <= 0xff ? 2 : i <= 0xffff ? 3 : 5;\n}\n\nfunction encode(buffer, number, offset) {\n  var size = encodingLength(number);\n\n  // ~6 bit\n  if (size === 1) {\n    buffer.writeUInt8(number, offset);\n\n    // 8 bit\n  } else if (size === 2) {\n    buffer.writeUInt8(OPS.OP_PUSHDATA1, offset);\n    buffer.writeUInt8(number, offset + 1);\n\n    // 16 bit\n  } else if (size === 3) {\n    buffer.writeUInt8(OPS.OP_PUSHDATA2, offset);\n    buffer.writeUInt16LE(number, offset + 1);\n\n    // 32 bit\n  } else {\n    buffer.writeUInt8(OPS.OP_PUSHDATA4, offset);\n    buffer.writeUInt32LE(number, offset + 1);\n  }\n\n  return size;\n}\n\nfunction decode(buffer, offset) {\n  var opcode = buffer.readUInt8(offset);\n  var number, size;\n\n  // ~6 bit\n  if (opcode < OPS.OP_PUSHDATA1) {\n    number = opcode;\n    size = 1;\n\n    // 8 bit\n  } else if (opcode === OPS.OP_PUSHDATA1) {\n    if (offset + 2 > buffer.length) return null;\n    number = buffer.readUInt8(offset + 1);\n    size = 2;\n\n    // 16 bit\n  } else if (opcode === OPS.OP_PUSHDATA2) {\n    if (offset + 3 > buffer.length) return null;\n    number = buffer.readUInt16LE(offset + 1);\n    size = 3;\n\n    // 32 bit\n  } else {\n    if (offset + 5 > buffer.length) return null;\n    if (opcode !== OPS.OP_PUSHDATA4) throw new Error(\"Unexpected opcode\");\n\n    number = buffer.readUInt32LE(offset + 1);\n    size = 5;\n  }\n\n  return {\n    opcode: opcode,\n    number: number,\n    size: size\n  };\n}\n\nmodule.exports = {\n  encodingLength: encodingLength,\n  encode: encode,\n  decode: decode\n};\n","function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\n// copied from utils\nfunction isBytes(a: unknown): a is Uint8Array {\n  return (\n    a instanceof Uint8Array ||\n    (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array')\n  );\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!isBytes(b)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\n\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n","import { exists, output } from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    exists(this);\n    output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n","// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n","import { SHA2 } from './_sha2.js';\nimport { wrapConstructor } from './utils.js';\n\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\nconst Rho = /* @__PURE__ */ new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\nconst Id = /* @__PURE__ */ Uint8Array.from({ length: 16 }, (_, i) => i);\nconst Pi = /* @__PURE__ */ Id.map((i) => (9 * i + 5) % 16);\nlet idxL = [Id];\nlet idxR = [Pi];\nfor (let i = 0; i < 4; i++) for (let j of [idxL, idxR]) j.push(j[i].map((k) => Rho[k]));\n\nconst shifts = /* @__PURE__ */ [\n  [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],\n  [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],\n  [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],\n  [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],\n  [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],\n].map((i) => new Uint8Array(i));\nconst shiftsL = /* @__PURE__ */ idxL.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst shiftsR = /* @__PURE__ */ idxR.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst Kl = /* @__PURE__ */ new Uint32Array([\n  0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e,\n]);\nconst Kr = /* @__PURE__ */ new Uint32Array([\n  0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000,\n]);\n// The rotate left (circular left shift) operation for uint32\nconst rotl = (word: number, shift: number) => (word << shift) | (word >>> (32 - shift));\n// It's called f() in spec.\nfunction f(group: number, x: number, y: number, z: number): number {\n  if (group === 0) return x ^ y ^ z;\n  else if (group === 1) return (x & y) | (~x & z);\n  else if (group === 2) return (x | ~y) ^ z;\n  else if (group === 3) return (x & z) | (y & ~z);\n  else return x ^ (y | ~z);\n}\n// Temporary buffer, not used to store anything between runs\nconst BUF = /* @__PURE__ */ new Uint32Array(16);\nexport class RIPEMD160 extends SHA2<RIPEMD160> {\n  private h0 = 0x67452301 | 0;\n  private h1 = 0xefcdab89 | 0;\n  private h2 = 0x98badcfe | 0;\n  private h3 = 0x10325476 | 0;\n  private h4 = 0xc3d2e1f0 | 0;\n\n  constructor() {\n    super(64, 20, 8, true);\n  }\n  protected get(): [number, number, number, number, number] {\n    const { h0, h1, h2, h3, h4 } = this;\n    return [h0, h1, h2, h3, h4];\n  }\n  protected set(h0: number, h1: number, h2: number, h3: number, h4: number) {\n    this.h0 = h0 | 0;\n    this.h1 = h1 | 0;\n    this.h2 = h2 | 0;\n    this.h3 = h3 | 0;\n    this.h4 = h4 | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    for (let i = 0; i < 16; i++, offset += 4) BUF[i] = view.getUint32(offset, true);\n    // prettier-ignore\n    let al = this.h0 | 0, ar = al,\n        bl = this.h1 | 0, br = bl,\n        cl = this.h2 | 0, cr = cl,\n        dl = this.h3 | 0, dr = dl,\n        el = this.h4 | 0, er = el;\n\n    // Instead of iterating 0 to 80, we split it into 5 groups\n    // And use the groups in constants, functions, etc. Much simpler\n    for (let group = 0; group < 5; group++) {\n      const rGroup = 4 - group;\n      const hbl = Kl[group], hbr = Kr[group]; // prettier-ignore\n      const rl = idxL[group], rr = idxR[group]; // prettier-ignore\n      const sl = shiftsL[group], sr = shiftsR[group]; // prettier-ignore\n      for (let i = 0; i < 16; i++) {\n        const tl = (rotl(al + f(group, bl, cl, dl) + BUF[rl[i]] + hbl, sl[i]) + el) | 0;\n        al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n      }\n      // 2 loops are 10% faster\n      for (let i = 0; i < 16; i++) {\n        const tr = (rotl(ar + f(rGroup, br, cr, dr) + BUF[rr[i]] + hbr, sr[i]) + er) | 0;\n        ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n      }\n    }\n    // Add the compressed chunk to the current hash value\n    this.set(\n      (this.h1 + cl + dr) | 0,\n      (this.h2 + dl + er) | 0,\n      (this.h3 + el + ar) | 0,\n      (this.h4 + al + br) | 0,\n      (this.h0 + bl + cr) | 0\n    );\n  }\n  protected roundClean() {\n    BUF.fill(0);\n  }\n  destroy() {\n    this.destroyed = true;\n    this.buffer.fill(0);\n    this.set(0, 0, 0, 0, 0);\n  }\n}\n\n/**\n * RIPEMD-160 - a hash function from 1990s.\n * @param message - msg that would be hashed\n */\nexport const ripemd160 = /* @__PURE__ */ wrapConstructor(() => new RIPEMD160());\n","import { SHA2 } from './_sha2.js';\nimport { wrapConstructor } from './utils.js';\n\n// SHA1 was cryptographically broken.\n// It is still widely used in legacy apps. Don't use it for a new protocol.\n\n// RFC 3174\nconst rotl = (word: number, shift: number) => (word << shift) | ((word >>> (32 - shift)) >>> 0);\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Initial state\nconst IV = /* @__PURE__ */ new Uint32Array([\n  0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0,\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA1_W = /* @__PURE__ */ new Uint32Array(80);\nclass SHA1 extends SHA2<SHA1> {\n  private A = IV[0] | 0;\n  private B = IV[1] | 0;\n  private C = IV[2] | 0;\n  private D = IV[3] | 0;\n  private E = IV[4] | 0;\n\n  constructor() {\n    super(64, 20, 8, false);\n  }\n  protected get(): [number, number, number, number, number] {\n    const { A, B, C, D, E } = this;\n    return [A, B, C, D, E];\n  }\n  protected set(A: number, B: number, C: number, D: number, E: number) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    for (let i = 0; i < 16; i++, offset += 4) SHA1_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 80; i++)\n      SHA1_W[i] = rotl(SHA1_W[i - 3] ^ SHA1_W[i - 8] ^ SHA1_W[i - 14] ^ SHA1_W[i - 16], 1);\n    // Compression function main loop, 80 rounds\n    let { A, B, C, D, E } = this;\n    for (let i = 0; i < 80; i++) {\n      let F, K;\n      if (i < 20) {\n        F = Chi(B, C, D);\n        K = 0x5a827999;\n      } else if (i < 40) {\n        F = B ^ C ^ D;\n        K = 0x6ed9eba1;\n      } else if (i < 60) {\n        F = Maj(B, C, D);\n        K = 0x8f1bbcdc;\n      } else {\n        F = B ^ C ^ D;\n        K = 0xca62c1d6;\n      }\n      const T = (rotl(A, 5) + F + E + K + SHA1_W[i]) | 0;\n      E = D;\n      D = C;\n      C = rotl(B, 30);\n      B = A;\n      A = T;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    this.set(A, B, C, D, E);\n  }\n  protected roundClean() {\n    SHA1_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n\nexport const sha1 = /* @__PURE__ */ wrapConstructor(() => new SHA1());\n","import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */new Uint32Array([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */new Uint32Array([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends SHA2<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  A = IV[0] | 0;\n  B = IV[1] | 0;\n  C = IV[2] | 0;\n  D = IV[3] | 0;\n  E = IV[4] | 0;\n  F = IV[5] | 0;\n  G = IV[6] | 0;\n  H = IV[7] | 0;\n\n  constructor() {\n    super(64, 32, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n  A = 0xc1059ed8 | 0;\n  B = 0x367cd507 | 0;\n  C = 0x3070dd17 | 0;\n  D = 0xf70e5939 | 0;\n  E = 0xffc00b31 | 0;\n  F = 0x68581511 | 0;\n  G = 0x64f98fa7 | 0;\n  H = 0xbefa4fa4 | 0;\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\nfunction isBytes(a: unknown): a is Uint8Array {\n  return (\n    a instanceof Uint8Array ||\n    (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array')\n  );\n}\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\n// Other libraries would silently corrupt the data instead of throwing an error,\n// when they don't support it.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!isBytes(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 } as const;\nfunction asciiToBase16(char: number): number | undefined {\n  if (char >= asciis._0 && char <= asciis._9) return char - asciis._0;\n  if (char >= asciis._A && char <= asciis._F) return char - (asciis._A - 10);\n  if (char >= asciis._a && char <= asciis._f) return char - (asciis._a - 10);\n  return;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!isBytes(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    if (!isBytes(a)) throw new Error('Uint8Array expected');\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\nconst toStr = {}.toString;\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bech32m = exports.bech32 = void 0;\nconst ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\nconst ALPHABET_MAP = {};\nfor (let z = 0; z < ALPHABET.length; z++) {\n    const x = ALPHABET.charAt(z);\n    ALPHABET_MAP[x] = z;\n}\nfunction polymodStep(pre) {\n    const b = pre >> 25;\n    return (((pre & 0x1ffffff) << 5) ^\n        (-((b >> 0) & 1) & 0x3b6a57b2) ^\n        (-((b >> 1) & 1) & 0x26508e6d) ^\n        (-((b >> 2) & 1) & 0x1ea119fa) ^\n        (-((b >> 3) & 1) & 0x3d4233dd) ^\n        (-((b >> 4) & 1) & 0x2a1462b3));\n}\nfunction prefixChk(prefix) {\n    let chk = 1;\n    for (let i = 0; i < prefix.length; ++i) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            return 'Invalid prefix (' + prefix + ')';\n        chk = polymodStep(chk) ^ (c >> 5);\n    }\n    chk = polymodStep(chk);\n    for (let i = 0; i < prefix.length; ++i) {\n        const v = prefix.charCodeAt(i);\n        chk = polymodStep(chk) ^ (v & 0x1f);\n    }\n    return chk;\n}\nfunction convert(data, inBits, outBits, pad) {\n    let value = 0;\n    let bits = 0;\n    const maxV = (1 << outBits) - 1;\n    const result = [];\n    for (let i = 0; i < data.length; ++i) {\n        value = (value << inBits) | data[i];\n        bits += inBits;\n        while (bits >= outBits) {\n            bits -= outBits;\n            result.push((value >> bits) & maxV);\n        }\n    }\n    if (pad) {\n        if (bits > 0) {\n            result.push((value << (outBits - bits)) & maxV);\n        }\n    }\n    else {\n        if (bits >= inBits)\n            return 'Excess padding';\n        if ((value << (outBits - bits)) & maxV)\n            return 'Non-zero padding';\n    }\n    return result;\n}\nfunction toWords(bytes) {\n    return convert(bytes, 8, 5, true);\n}\nfunction fromWordsUnsafe(words) {\n    const res = convert(words, 5, 8, false);\n    if (Array.isArray(res))\n        return res;\n}\nfunction fromWords(words) {\n    const res = convert(words, 5, 8, false);\n    if (Array.isArray(res))\n        return res;\n    throw new Error(res);\n}\nfunction getLibraryFromEncoding(encoding) {\n    let ENCODING_CONST;\n    if (encoding === 'bech32') {\n        ENCODING_CONST = 1;\n    }\n    else {\n        ENCODING_CONST = 0x2bc830a3;\n    }\n    function encode(prefix, words, LIMIT) {\n        LIMIT = LIMIT || 90;\n        if (prefix.length + 7 + words.length > LIMIT)\n            throw new TypeError('Exceeds length limit');\n        prefix = prefix.toLowerCase();\n        // determine chk mod\n        let chk = prefixChk(prefix);\n        if (typeof chk === 'string')\n            throw new Error(chk);\n        let result = prefix + '1';\n        for (let i = 0; i < words.length; ++i) {\n            const x = words[i];\n            if (x >> 5 !== 0)\n                throw new Error('Non 5-bit word');\n            chk = polymodStep(chk) ^ x;\n            result += ALPHABET.charAt(x);\n        }\n        for (let i = 0; i < 6; ++i) {\n            chk = polymodStep(chk);\n        }\n        chk ^= ENCODING_CONST;\n        for (let i = 0; i < 6; ++i) {\n            const v = (chk >> ((5 - i) * 5)) & 0x1f;\n            result += ALPHABET.charAt(v);\n        }\n        return result;\n    }\n    function __decode(str, LIMIT) {\n        LIMIT = LIMIT || 90;\n        if (str.length < 8)\n            return str + ' too short';\n        if (str.length > LIMIT)\n            return 'Exceeds length limit';\n        // don't allow mixed case\n        const lowered = str.toLowerCase();\n        const uppered = str.toUpperCase();\n        if (str !== lowered && str !== uppered)\n            return 'Mixed-case string ' + str;\n        str = lowered;\n        const split = str.lastIndexOf('1');\n        if (split === -1)\n            return 'No separator character for ' + str;\n        if (split === 0)\n            return 'Missing prefix for ' + str;\n        const prefix = str.slice(0, split);\n        const wordChars = str.slice(split + 1);\n        if (wordChars.length < 6)\n            return 'Data too short';\n        let chk = prefixChk(prefix);\n        if (typeof chk === 'string')\n            return chk;\n        const words = [];\n        for (let i = 0; i < wordChars.length; ++i) {\n            const c = wordChars.charAt(i);\n            const v = ALPHABET_MAP[c];\n            if (v === undefined)\n                return 'Unknown character ' + c;\n            chk = polymodStep(chk) ^ v;\n            // not in the checksum?\n            if (i + 6 >= wordChars.length)\n                continue;\n            words.push(v);\n        }\n        if (chk !== ENCODING_CONST)\n            return 'Invalid checksum for ' + str;\n        return { prefix, words };\n    }\n    function decodeUnsafe(str, LIMIT) {\n        const res = __decode(str, LIMIT);\n        if (typeof res === 'object')\n            return res;\n    }\n    function decode(str, LIMIT) {\n        const res = __decode(str, LIMIT);\n        if (typeof res === 'object')\n            return res;\n        throw new Error(res);\n    }\n    return {\n        decodeUnsafe,\n        decode,\n        encode,\n        toWords,\n        fromWordsUnsafe,\n        fromWords,\n    };\n}\nexports.bech32 = getLibraryFromEncoding('bech32');\nexports.bech32m = getLibraryFromEncoding('bech32m');\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.toOutputScript =\n  exports.fromOutputScript =\n  exports.toBech32 =\n  exports.toBase58Check =\n  exports.fromBech32 =\n  exports.fromBase58Check =\n    void 0;\nconst networks = require('./networks');\nconst payments = require('./payments');\nconst bscript = require('./script');\nconst types_1 = require('./types');\nconst bech32_1 = require('bech32');\nconst bs58check = require('bs58check');\nconst FUTURE_SEGWIT_MAX_SIZE = 40;\nconst FUTURE_SEGWIT_MIN_SIZE = 2;\nconst FUTURE_SEGWIT_MAX_VERSION = 16;\nconst FUTURE_SEGWIT_MIN_VERSION = 2;\nconst FUTURE_SEGWIT_VERSION_DIFF = 0x50;\nconst FUTURE_SEGWIT_VERSION_WARNING =\n  'WARNING: Sending to a future segwit version address can lead to loss of funds. ' +\n  'End users MUST be warned carefully in the GUI and asked if they wish to proceed ' +\n  'with caution. Wallets should verify the segwit version from the output of fromBech32, ' +\n  'then decide when it is safe to use which version of segwit.';\nfunction _toFutureSegwitAddress(output, network) {\n  const data = output.slice(2);\n  if (\n    data.length < FUTURE_SEGWIT_MIN_SIZE ||\n    data.length > FUTURE_SEGWIT_MAX_SIZE\n  )\n    throw new TypeError('Invalid program length for segwit address');\n  const version = output[0] - FUTURE_SEGWIT_VERSION_DIFF;\n  if (\n    version < FUTURE_SEGWIT_MIN_VERSION ||\n    version > FUTURE_SEGWIT_MAX_VERSION\n  )\n    throw new TypeError('Invalid version for segwit address');\n  if (output[1] !== data.length)\n    throw new TypeError('Invalid script for segwit address');\n  console.warn(FUTURE_SEGWIT_VERSION_WARNING);\n  return toBech32(data, version, network.bech32);\n}\nfunction fromBase58Check(address) {\n  const payload = Buffer.from(bs58check.decode(address));\n  // TODO: 4.0.0, move to \"toOutputScript\"\n  if (payload.length < 21) throw new TypeError(address + ' is too short');\n  if (payload.length > 21) throw new TypeError(address + ' is too long');\n  const version = payload.readUInt8(0);\n  const hash = payload.slice(1);\n  return { version, hash };\n}\nexports.fromBase58Check = fromBase58Check;\nfunction fromBech32(address) {\n  let result;\n  let version;\n  try {\n    result = bech32_1.bech32.decode(address);\n  } catch (e) {}\n  if (result) {\n    version = result.words[0];\n    if (version !== 0) throw new TypeError(address + ' uses wrong encoding');\n  } else {\n    result = bech32_1.bech32m.decode(address);\n    version = result.words[0];\n    if (version === 0) throw new TypeError(address + ' uses wrong encoding');\n  }\n  const data = bech32_1.bech32.fromWords(result.words.slice(1));\n  return {\n    version,\n    prefix: result.prefix,\n    data: Buffer.from(data),\n  };\n}\nexports.fromBech32 = fromBech32;\nfunction toBase58Check(hash, version) {\n  (0, types_1.typeforce)(\n    (0, types_1.tuple)(types_1.Hash160bit, types_1.UInt8),\n    arguments,\n  );\n  const payload = Buffer.allocUnsafe(21);\n  payload.writeUInt8(version, 0);\n  hash.copy(payload, 1);\n  return bs58check.encode(payload);\n}\nexports.toBase58Check = toBase58Check;\nfunction toBech32(data, version, prefix) {\n  const words = bech32_1.bech32.toWords(data);\n  words.unshift(version);\n  return version === 0\n    ? bech32_1.bech32.encode(prefix, words)\n    : bech32_1.bech32m.encode(prefix, words);\n}\nexports.toBech32 = toBech32;\nfunction fromOutputScript(output, network) {\n  // TODO: Network\n  network = network || networks.bitcoin;\n  try {\n    return payments.p2pkh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return payments.p2sh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return payments.p2wpkh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return payments.p2wsh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return payments.p2tr({ output, network }).address;\n  } catch (e) {}\n  try {\n    return _toFutureSegwitAddress(output, network);\n  } catch (e) {}\n  throw new Error(bscript.toASM(output) + ' has no matching Address');\n}\nexports.fromOutputScript = fromOutputScript;\nfunction toOutputScript(address, network) {\n  network = network || networks.bitcoin;\n  let decodeBase58;\n  let decodeBech32;\n  try {\n    decodeBase58 = fromBase58Check(address);\n  } catch (e) {}\n  if (decodeBase58) {\n    if (decodeBase58.version === network.pubKeyHash)\n      return payments.p2pkh({ hash: decodeBase58.hash }).output;\n    if (decodeBase58.version === network.scriptHash)\n      return payments.p2sh({ hash: decodeBase58.hash }).output;\n  } else {\n    try {\n      decodeBech32 = fromBech32(address);\n    } catch (e) {}\n    if (decodeBech32) {\n      if (decodeBech32.prefix !== network.bech32)\n        throw new Error(address + ' has an invalid prefix');\n      if (decodeBech32.version === 0) {\n        if (decodeBech32.data.length === 20)\n          return payments.p2wpkh({ hash: decodeBech32.data }).output;\n        if (decodeBech32.data.length === 32)\n          return payments.p2wsh({ hash: decodeBech32.data }).output;\n      } else if (decodeBech32.version === 1) {\n        if (decodeBech32.data.length === 32)\n          return payments.p2tr({ pubkey: decodeBech32.data }).output;\n      } else if (\n        decodeBech32.version >= FUTURE_SEGWIT_MIN_VERSION &&\n        decodeBech32.version <= FUTURE_SEGWIT_MAX_VERSION &&\n        decodeBech32.data.length >= FUTURE_SEGWIT_MIN_SIZE &&\n        decodeBech32.data.length <= FUTURE_SEGWIT_MAX_SIZE\n      ) {\n        console.warn(FUTURE_SEGWIT_VERSION_WARNING);\n        return bscript.compile([\n          decodeBech32.version + FUTURE_SEGWIT_VERSION_DIFF,\n          decodeBech32.data,\n        ]);\n      }\n    }\n  }\n  throw new Error(address + ' has no matching Script');\n}\nexports.toOutputScript = toOutputScript;\n","'use strict';\n// Reference https://github.com/bitcoin/bips/blob/master/bip-0066.mediawiki\n// Format: 0x30 [total-length] 0x02 [R-length] [R] 0x02 [S-length] [S]\n// NOTE: SIGHASH byte ignored AND restricted, truncate before use\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.encode = exports.decode = exports.check = void 0;\nfunction check(buffer) {\n  if (buffer.length < 8) return false;\n  if (buffer.length > 72) return false;\n  if (buffer[0] !== 0x30) return false;\n  if (buffer[1] !== buffer.length - 2) return false;\n  if (buffer[2] !== 0x02) return false;\n  const lenR = buffer[3];\n  if (lenR === 0) return false;\n  if (5 + lenR >= buffer.length) return false;\n  if (buffer[4 + lenR] !== 0x02) return false;\n  const lenS = buffer[5 + lenR];\n  if (lenS === 0) return false;\n  if (6 + lenR + lenS !== buffer.length) return false;\n  if (buffer[4] & 0x80) return false;\n  if (lenR > 1 && buffer[4] === 0x00 && !(buffer[5] & 0x80)) return false;\n  if (buffer[lenR + 6] & 0x80) return false;\n  if (lenS > 1 && buffer[lenR + 6] === 0x00 && !(buffer[lenR + 7] & 0x80))\n    return false;\n  return true;\n}\nexports.check = check;\nfunction decode(buffer) {\n  if (buffer.length < 8) throw new Error('DER sequence length is too short');\n  if (buffer.length > 72) throw new Error('DER sequence length is too long');\n  if (buffer[0] !== 0x30) throw new Error('Expected DER sequence');\n  if (buffer[1] !== buffer.length - 2)\n    throw new Error('DER sequence length is invalid');\n  if (buffer[2] !== 0x02) throw new Error('Expected DER integer');\n  const lenR = buffer[3];\n  if (lenR === 0) throw new Error('R length is zero');\n  if (5 + lenR >= buffer.length) throw new Error('R length is too long');\n  if (buffer[4 + lenR] !== 0x02) throw new Error('Expected DER integer (2)');\n  const lenS = buffer[5 + lenR];\n  if (lenS === 0) throw new Error('S length is zero');\n  if (6 + lenR + lenS !== buffer.length) throw new Error('S length is invalid');\n  if (buffer[4] & 0x80) throw new Error('R value is negative');\n  if (lenR > 1 && buffer[4] === 0x00 && !(buffer[5] & 0x80))\n    throw new Error('R value excessively padded');\n  if (buffer[lenR + 6] & 0x80) throw new Error('S value is negative');\n  if (lenS > 1 && buffer[lenR + 6] === 0x00 && !(buffer[lenR + 7] & 0x80))\n    throw new Error('S value excessively padded');\n  // non-BIP66 - extract R, S values\n  return {\n    r: buffer.slice(4, 4 + lenR),\n    s: buffer.slice(6 + lenR),\n  };\n}\nexports.decode = decode;\n/*\n * Expects r and s to be positive DER integers.\n *\n * The DER format uses the most significant bit as a sign bit (& 0x80).\n * If the significant bit is set AND the integer is positive, a 0x00 is prepended.\n *\n * Examples:\n *\n *      0 =>     0x00\n *      1 =>     0x01\n *     -1 =>     0xff\n *    127 =>     0x7f\n *   -127 =>     0x81\n *    128 =>   0x0080\n *   -128 =>     0x80\n *    255 =>   0x00ff\n *   -255 =>   0xff01\n *  16300 =>   0x3fac\n * -16300 =>   0xc054\n *  62300 => 0x00f35c\n * -62300 => 0xff0ca4\n */\nfunction encode(r, s) {\n  const lenR = r.length;\n  const lenS = s.length;\n  if (lenR === 0) throw new Error('R length is zero');\n  if (lenS === 0) throw new Error('S length is zero');\n  if (lenR > 33) throw new Error('R length is too long');\n  if (lenS > 33) throw new Error('S length is too long');\n  if (r[0] & 0x80) throw new Error('R value is negative');\n  if (s[0] & 0x80) throw new Error('S value is negative');\n  if (lenR > 1 && r[0] === 0x00 && !(r[1] & 0x80))\n    throw new Error('R value excessively padded');\n  if (lenS > 1 && s[0] === 0x00 && !(s[1] & 0x80))\n    throw new Error('S value excessively padded');\n  const signature = Buffer.allocUnsafe(6 + lenR + lenS);\n  // 0x30 [total-length] 0x02 [R-length] [R] 0x02 [S-length] [S]\n  signature[0] = 0x30;\n  signature[1] = signature.length - 2;\n  signature[2] = 0x02;\n  signature[3] = r.length;\n  r.copy(signature, 4);\n  signature[4 + lenR] = 0x02;\n  signature[5 + lenR] = s.length;\n  s.copy(signature, 6 + lenR);\n  return signature;\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.Block = void 0;\nconst bufferutils_1 = require('./bufferutils');\nconst bcrypto = require('./crypto');\nconst merkle_1 = require('./merkle');\nconst transaction_1 = require('./transaction');\nconst types = require('./types');\nconst { typeforce } = types;\nconst errorMerkleNoTxes = new TypeError(\n  'Cannot compute merkle root for zero transactions',\n);\nconst errorWitnessNotSegwit = new TypeError(\n  'Cannot compute witness commit for non-segwit block',\n);\nclass Block {\n  constructor() {\n    this.version = 1;\n    this.prevHash = undefined;\n    this.merkleRoot = undefined;\n    this.timestamp = 0;\n    this.witnessCommit = undefined;\n    this.bits = 0;\n    this.nonce = 0;\n    this.transactions = undefined;\n  }\n  static fromBuffer(buffer) {\n    if (buffer.length < 80) throw new Error('Buffer too small (< 80 bytes)');\n    const bufferReader = new bufferutils_1.BufferReader(buffer);\n    const block = new Block();\n    block.version = bufferReader.readInt32();\n    block.prevHash = bufferReader.readSlice(32);\n    block.merkleRoot = bufferReader.readSlice(32);\n    block.timestamp = bufferReader.readUInt32();\n    block.bits = bufferReader.readUInt32();\n    block.nonce = bufferReader.readUInt32();\n    if (buffer.length === 80) return block;\n    const readTransaction = () => {\n      const tx = transaction_1.Transaction.fromBuffer(\n        bufferReader.buffer.slice(bufferReader.offset),\n        true,\n      );\n      bufferReader.offset += tx.byteLength();\n      return tx;\n    };\n    const nTransactions = bufferReader.readVarInt();\n    block.transactions = [];\n    for (let i = 0; i < nTransactions; ++i) {\n      const tx = readTransaction();\n      block.transactions.push(tx);\n    }\n    const witnessCommit = block.getWitnessCommit();\n    // This Block contains a witness commit\n    if (witnessCommit) block.witnessCommit = witnessCommit;\n    return block;\n  }\n  static fromHex(hex) {\n    return Block.fromBuffer(Buffer.from(hex, 'hex'));\n  }\n  static calculateTarget(bits) {\n    const exponent = ((bits & 0xff000000) >> 24) - 3;\n    const mantissa = bits & 0x007fffff;\n    const target = Buffer.alloc(32, 0);\n    target.writeUIntBE(mantissa, 29 - exponent, 3);\n    return target;\n  }\n  static calculateMerkleRoot(transactions, forWitness) {\n    typeforce([{ getHash: types.Function }], transactions);\n    if (transactions.length === 0) throw errorMerkleNoTxes;\n    if (forWitness && !txesHaveWitnessCommit(transactions))\n      throw errorWitnessNotSegwit;\n    const hashes = transactions.map(transaction =>\n      transaction.getHash(forWitness),\n    );\n    const rootHash = (0, merkle_1.fastMerkleRoot)(hashes, bcrypto.hash256);\n    return forWitness\n      ? bcrypto.hash256(\n          Buffer.concat([rootHash, transactions[0].ins[0].witness[0]]),\n        )\n      : rootHash;\n  }\n  getWitnessCommit() {\n    if (!txesHaveWitnessCommit(this.transactions)) return null;\n    // The merkle root for the witness data is in an OP_RETURN output.\n    // There is no rule for the index of the output, so use filter to find it.\n    // The root is prepended with 0xaa21a9ed so check for 0x6a24aa21a9ed\n    // If multiple commits are found, the output with highest index is assumed.\n    const witnessCommits = this.transactions[0].outs\n      .filter(out =>\n        out.script.slice(0, 6).equals(Buffer.from('6a24aa21a9ed', 'hex')),\n      )\n      .map(out => out.script.slice(6, 38));\n    if (witnessCommits.length === 0) return null;\n    // Use the commit with the highest output (should only be one though)\n    const result = witnessCommits[witnessCommits.length - 1];\n    if (!(result instanceof Buffer && result.length === 32)) return null;\n    return result;\n  }\n  hasWitnessCommit() {\n    if (\n      this.witnessCommit instanceof Buffer &&\n      this.witnessCommit.length === 32\n    )\n      return true;\n    if (this.getWitnessCommit() !== null) return true;\n    return false;\n  }\n  hasWitness() {\n    return anyTxHasWitness(this.transactions);\n  }\n  weight() {\n    const base = this.byteLength(false, false);\n    const total = this.byteLength(false, true);\n    return base * 3 + total;\n  }\n  byteLength(headersOnly, allowWitness = true) {\n    if (headersOnly || !this.transactions) return 80;\n    return (\n      80 +\n      bufferutils_1.varuint.encodingLength(this.transactions.length) +\n      this.transactions.reduce((a, x) => a + x.byteLength(allowWitness), 0)\n    );\n  }\n  getHash() {\n    return bcrypto.hash256(this.toBuffer(true));\n  }\n  getId() {\n    return (0, bufferutils_1.reverseBuffer)(this.getHash()).toString('hex');\n  }\n  getUTCDate() {\n    const date = new Date(0); // epoch\n    date.setUTCSeconds(this.timestamp);\n    return date;\n  }\n  // TODO: buffer, offset compatibility\n  toBuffer(headersOnly) {\n    const buffer = Buffer.allocUnsafe(this.byteLength(headersOnly));\n    const bufferWriter = new bufferutils_1.BufferWriter(buffer);\n    bufferWriter.writeInt32(this.version);\n    bufferWriter.writeSlice(this.prevHash);\n    bufferWriter.writeSlice(this.merkleRoot);\n    bufferWriter.writeUInt32(this.timestamp);\n    bufferWriter.writeUInt32(this.bits);\n    bufferWriter.writeUInt32(this.nonce);\n    if (headersOnly || !this.transactions) return buffer;\n    bufferutils_1.varuint.encode(\n      this.transactions.length,\n      buffer,\n      bufferWriter.offset,\n    );\n    bufferWriter.offset += bufferutils_1.varuint.encode.bytes;\n    this.transactions.forEach(tx => {\n      const txSize = tx.byteLength(); // TODO: extract from toBuffer?\n      tx.toBuffer(buffer, bufferWriter.offset);\n      bufferWriter.offset += txSize;\n    });\n    return buffer;\n  }\n  toHex(headersOnly) {\n    return this.toBuffer(headersOnly).toString('hex');\n  }\n  checkTxRoots() {\n    // If the Block has segwit transactions but no witness commit,\n    // there's no way it can be valid, so fail the check.\n    const hasWitnessCommit = this.hasWitnessCommit();\n    if (!hasWitnessCommit && this.hasWitness()) return false;\n    return (\n      this.__checkMerkleRoot() &&\n      (hasWitnessCommit ? this.__checkWitnessCommit() : true)\n    );\n  }\n  checkProofOfWork() {\n    const hash = (0, bufferutils_1.reverseBuffer)(this.getHash());\n    const target = Block.calculateTarget(this.bits);\n    return hash.compare(target) <= 0;\n  }\n  __checkMerkleRoot() {\n    if (!this.transactions) throw errorMerkleNoTxes;\n    const actualMerkleRoot = Block.calculateMerkleRoot(this.transactions);\n    return this.merkleRoot.compare(actualMerkleRoot) === 0;\n  }\n  __checkWitnessCommit() {\n    if (!this.transactions) throw errorMerkleNoTxes;\n    if (!this.hasWitnessCommit()) throw errorWitnessNotSegwit;\n    const actualWitnessCommit = Block.calculateMerkleRoot(\n      this.transactions,\n      true,\n    );\n    return this.witnessCommit.compare(actualWitnessCommit) === 0;\n  }\n}\nexports.Block = Block;\nfunction txesHaveWitnessCommit(transactions) {\n  return (\n    transactions instanceof Array &&\n    transactions[0] &&\n    transactions[0].ins &&\n    transactions[0].ins instanceof Array &&\n    transactions[0].ins[0] &&\n    transactions[0].ins[0].witness &&\n    transactions[0].ins[0].witness instanceof Array &&\n    transactions[0].ins[0].witness.length > 0\n  );\n}\nfunction anyTxHasWitness(transactions) {\n  return (\n    transactions instanceof Array &&\n    transactions.some(\n      tx =>\n        typeof tx === 'object' &&\n        tx.ins instanceof Array &&\n        tx.ins.some(\n          input =>\n            typeof input === 'object' &&\n            input.witness instanceof Array &&\n            input.witness.length > 0,\n        ),\n    )\n  );\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.BufferReader =\n  exports.BufferWriter =\n  exports.cloneBuffer =\n  exports.reverseBuffer =\n  exports.writeUInt64LE =\n  exports.readUInt64LE =\n  exports.varuint =\n    void 0;\nconst types = require('./types');\nconst { typeforce } = types;\nconst varuint = require('varuint-bitcoin');\nexports.varuint = varuint;\n// https://github.com/feross/buffer/blob/master/index.js#L1127\nfunction verifuint(value, max) {\n  if (typeof value !== 'number')\n    throw new Error('cannot write a non-number as a number');\n  if (value < 0)\n    throw new Error('specified a negative value for writing an unsigned value');\n  if (value > max) throw new Error('RangeError: value out of range');\n  if (Math.floor(value) !== value)\n    throw new Error('value has a fractional component');\n}\nfunction readUInt64LE(buffer, offset) {\n  const a = buffer.readUInt32LE(offset);\n  let b = buffer.readUInt32LE(offset + 4);\n  b *= 0x100000000;\n  verifuint(b + a, 0x001fffffffffffff);\n  return b + a;\n}\nexports.readUInt64LE = readUInt64LE;\nfunction writeUInt64LE(buffer, value, offset) {\n  verifuint(value, 0x001fffffffffffff);\n  buffer.writeInt32LE(value & -1, offset);\n  buffer.writeUInt32LE(Math.floor(value / 0x100000000), offset + 4);\n  return offset + 8;\n}\nexports.writeUInt64LE = writeUInt64LE;\nfunction reverseBuffer(buffer) {\n  if (buffer.length < 1) return buffer;\n  let j = buffer.length - 1;\n  let tmp = 0;\n  for (let i = 0; i < buffer.length / 2; i++) {\n    tmp = buffer[i];\n    buffer[i] = buffer[j];\n    buffer[j] = tmp;\n    j--;\n  }\n  return buffer;\n}\nexports.reverseBuffer = reverseBuffer;\nfunction cloneBuffer(buffer) {\n  const clone = Buffer.allocUnsafe(buffer.length);\n  buffer.copy(clone);\n  return clone;\n}\nexports.cloneBuffer = cloneBuffer;\n/**\n * Helper class for serialization of bitcoin data types into a pre-allocated buffer.\n */\nclass BufferWriter {\n  static withCapacity(size) {\n    return new BufferWriter(Buffer.alloc(size));\n  }\n  constructor(buffer, offset = 0) {\n    this.buffer = buffer;\n    this.offset = offset;\n    typeforce(types.tuple(types.Buffer, types.UInt32), [buffer, offset]);\n  }\n  writeUInt8(i) {\n    this.offset = this.buffer.writeUInt8(i, this.offset);\n  }\n  writeInt32(i) {\n    this.offset = this.buffer.writeInt32LE(i, this.offset);\n  }\n  writeUInt32(i) {\n    this.offset = this.buffer.writeUInt32LE(i, this.offset);\n  }\n  writeUInt64(i) {\n    this.offset = writeUInt64LE(this.buffer, i, this.offset);\n  }\n  writeVarInt(i) {\n    varuint.encode(i, this.buffer, this.offset);\n    this.offset += varuint.encode.bytes;\n  }\n  writeSlice(slice) {\n    if (this.buffer.length < this.offset + slice.length) {\n      throw new Error('Cannot write slice out of bounds');\n    }\n    this.offset += slice.copy(this.buffer, this.offset);\n  }\n  writeVarSlice(slice) {\n    this.writeVarInt(slice.length);\n    this.writeSlice(slice);\n  }\n  writeVector(vector) {\n    this.writeVarInt(vector.length);\n    vector.forEach(buf => this.writeVarSlice(buf));\n  }\n  end() {\n    if (this.buffer.length === this.offset) {\n      return this.buffer;\n    }\n    throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`);\n  }\n}\nexports.BufferWriter = BufferWriter;\n/**\n * Helper class for reading of bitcoin data types from a buffer.\n */\nclass BufferReader {\n  constructor(buffer, offset = 0) {\n    this.buffer = buffer;\n    this.offset = offset;\n    typeforce(types.tuple(types.Buffer, types.UInt32), [buffer, offset]);\n  }\n  readUInt8() {\n    const result = this.buffer.readUInt8(this.offset);\n    this.offset++;\n    return result;\n  }\n  readInt32() {\n    const result = this.buffer.readInt32LE(this.offset);\n    this.offset += 4;\n    return result;\n  }\n  readUInt32() {\n    const result = this.buffer.readUInt32LE(this.offset);\n    this.offset += 4;\n    return result;\n  }\n  readUInt64() {\n    const result = readUInt64LE(this.buffer, this.offset);\n    this.offset += 8;\n    return result;\n  }\n  readVarInt() {\n    const vi = varuint.decode(this.buffer, this.offset);\n    this.offset += varuint.decode.bytes;\n    return vi;\n  }\n  readSlice(n) {\n    if (this.buffer.length < this.offset + n) {\n      throw new Error('Cannot read slice out of bounds');\n    }\n    const result = this.buffer.slice(this.offset, this.offset + n);\n    this.offset += n;\n    return result;\n  }\n  readVarSlice() {\n    return this.readSlice(this.readVarInt());\n  }\n  readVector() {\n    const count = this.readVarInt();\n    const vector = [];\n    for (let i = 0; i < count; i++) vector.push(this.readVarSlice());\n    return vector;\n  }\n}\nexports.BufferReader = BufferReader;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.taggedHash =\n  exports.TAGGED_HASH_PREFIXES =\n  exports.TAGS =\n  exports.hash256 =\n  exports.hash160 =\n  exports.sha256 =\n  exports.sha1 =\n  exports.ripemd160 =\n    void 0;\nconst ripemd160_1 = require('@noble/hashes/ripemd160');\nconst sha1_1 = require('@noble/hashes/sha1');\nconst sha256_1 = require('@noble/hashes/sha256');\nfunction ripemd160(buffer) {\n  return Buffer.from((0, ripemd160_1.ripemd160)(Uint8Array.from(buffer)));\n}\nexports.ripemd160 = ripemd160;\nfunction sha1(buffer) {\n  return Buffer.from((0, sha1_1.sha1)(Uint8Array.from(buffer)));\n}\nexports.sha1 = sha1;\nfunction sha256(buffer) {\n  return Buffer.from((0, sha256_1.sha256)(Uint8Array.from(buffer)));\n}\nexports.sha256 = sha256;\nfunction hash160(buffer) {\n  return Buffer.from(\n    (0, ripemd160_1.ripemd160)((0, sha256_1.sha256)(Uint8Array.from(buffer))),\n  );\n}\nexports.hash160 = hash160;\nfunction hash256(buffer) {\n  return Buffer.from(\n    (0, sha256_1.sha256)((0, sha256_1.sha256)(Uint8Array.from(buffer))),\n  );\n}\nexports.hash256 = hash256;\nexports.TAGS = [\n  'BIP0340/challenge',\n  'BIP0340/aux',\n  'BIP0340/nonce',\n  'TapLeaf',\n  'TapBranch',\n  'TapSighash',\n  'TapTweak',\n  'KeyAgg list',\n  'KeyAgg coefficient',\n];\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nexports.TAGGED_HASH_PREFIXES = {\n  'BIP0340/challenge': Buffer.from([\n    123, 181, 45, 122, 159, 239, 88, 50, 62, 177, 191, 122, 64, 125, 179, 130,\n    210, 243, 242, 216, 27, 177, 34, 79, 73, 254, 81, 143, 109, 72, 211, 124,\n    123, 181, 45, 122, 159, 239, 88, 50, 62, 177, 191, 122, 64, 125, 179, 130,\n    210, 243, 242, 216, 27, 177, 34, 79, 73, 254, 81, 143, 109, 72, 211, 124,\n  ]),\n  'BIP0340/aux': Buffer.from([\n    241, 239, 78, 94, 192, 99, 202, 218, 109, 148, 202, 250, 157, 152, 126, 160,\n    105, 38, 88, 57, 236, 193, 31, 151, 45, 119, 165, 46, 216, 193, 204, 144,\n    241, 239, 78, 94, 192, 99, 202, 218, 109, 148, 202, 250, 157, 152, 126, 160,\n    105, 38, 88, 57, 236, 193, 31, 151, 45, 119, 165, 46, 216, 193, 204, 144,\n  ]),\n  'BIP0340/nonce': Buffer.from([\n    7, 73, 119, 52, 167, 155, 203, 53, 91, 155, 140, 125, 3, 79, 18, 28, 244,\n    52, 215, 62, 247, 45, 218, 25, 135, 0, 97, 251, 82, 191, 235, 47, 7, 73,\n    119, 52, 167, 155, 203, 53, 91, 155, 140, 125, 3, 79, 18, 28, 244, 52, 215,\n    62, 247, 45, 218, 25, 135, 0, 97, 251, 82, 191, 235, 47,\n  ]),\n  TapLeaf: Buffer.from([\n    174, 234, 143, 220, 66, 8, 152, 49, 5, 115, 75, 88, 8, 29, 30, 38, 56, 211,\n    95, 28, 181, 64, 8, 212, 211, 87, 202, 3, 190, 120, 233, 238, 174, 234, 143,\n    220, 66, 8, 152, 49, 5, 115, 75, 88, 8, 29, 30, 38, 56, 211, 95, 28, 181,\n    64, 8, 212, 211, 87, 202, 3, 190, 120, 233, 238,\n  ]),\n  TapBranch: Buffer.from([\n    25, 65, 161, 242, 229, 110, 185, 95, 162, 169, 241, 148, 190, 92, 1, 247,\n    33, 111, 51, 237, 130, 176, 145, 70, 52, 144, 208, 91, 245, 22, 160, 21, 25,\n    65, 161, 242, 229, 110, 185, 95, 162, 169, 241, 148, 190, 92, 1, 247, 33,\n    111, 51, 237, 130, 176, 145, 70, 52, 144, 208, 91, 245, 22, 160, 21,\n  ]),\n  TapSighash: Buffer.from([\n    244, 10, 72, 223, 75, 42, 112, 200, 180, 146, 75, 242, 101, 70, 97, 237, 61,\n    149, 253, 102, 163, 19, 235, 135, 35, 117, 151, 198, 40, 228, 160, 49, 244,\n    10, 72, 223, 75, 42, 112, 200, 180, 146, 75, 242, 101, 70, 97, 237, 61, 149,\n    253, 102, 163, 19, 235, 135, 35, 117, 151, 198, 40, 228, 160, 49,\n  ]),\n  TapTweak: Buffer.from([\n    232, 15, 225, 99, 156, 156, 160, 80, 227, 175, 27, 57, 193, 67, 198, 62, 66,\n    156, 188, 235, 21, 217, 64, 251, 181, 197, 161, 244, 175, 87, 197, 233, 232,\n    15, 225, 99, 156, 156, 160, 80, 227, 175, 27, 57, 193, 67, 198, 62, 66, 156,\n    188, 235, 21, 217, 64, 251, 181, 197, 161, 244, 175, 87, 197, 233,\n  ]),\n  'KeyAgg list': Buffer.from([\n    72, 28, 151, 28, 60, 11, 70, 215, 240, 178, 117, 174, 89, 141, 78, 44, 126,\n    215, 49, 156, 89, 74, 92, 110, 199, 158, 160, 212, 153, 2, 148, 240, 72, 28,\n    151, 28, 60, 11, 70, 215, 240, 178, 117, 174, 89, 141, 78, 44, 126, 215, 49,\n    156, 89, 74, 92, 110, 199, 158, 160, 212, 153, 2, 148, 240,\n  ]),\n  'KeyAgg coefficient': Buffer.from([\n    191, 201, 4, 3, 77, 28, 136, 232, 200, 14, 34, 229, 61, 36, 86, 109, 100,\n    130, 78, 214, 66, 114, 129, 192, 145, 0, 249, 77, 205, 82, 201, 129, 191,\n    201, 4, 3, 77, 28, 136, 232, 200, 14, 34, 229, 61, 36, 86, 109, 100, 130,\n    78, 214, 66, 114, 129, 192, 145, 0, 249, 77, 205, 82, 201, 129,\n  ]),\n};\nfunction taggedHash(prefix, data) {\n  return sha256(Buffer.concat([exports.TAGGED_HASH_PREFIXES[prefix], data]));\n}\nexports.taggedHash = taggedHash;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.getEccLib = exports.initEccLib = void 0;\nconst _ECCLIB_CACHE = {};\nfunction initEccLib(eccLib) {\n  if (!eccLib) {\n    // allow clearing the library\n    _ECCLIB_CACHE.eccLib = eccLib;\n  } else if (eccLib !== _ECCLIB_CACHE.eccLib) {\n    // new instance, verify it\n    verifyEcc(eccLib);\n    _ECCLIB_CACHE.eccLib = eccLib;\n  }\n}\nexports.initEccLib = initEccLib;\nfunction getEccLib() {\n  if (!_ECCLIB_CACHE.eccLib)\n    throw new Error(\n      'No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance',\n    );\n  return _ECCLIB_CACHE.eccLib;\n}\nexports.getEccLib = getEccLib;\nconst h = hex => Buffer.from(hex, 'hex');\nfunction verifyEcc(ecc) {\n  assert(typeof ecc.isXOnlyPoint === 'function');\n  assert(\n    ecc.isXOnlyPoint(\n      h('79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    ),\n  );\n  assert(\n    ecc.isXOnlyPoint(\n      h('fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e'),\n    ),\n  );\n  assert(\n    ecc.isXOnlyPoint(\n      h('f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9'),\n    ),\n  );\n  assert(\n    ecc.isXOnlyPoint(\n      h('0000000000000000000000000000000000000000000000000000000000000001'),\n    ),\n  );\n  assert(\n    !ecc.isXOnlyPoint(\n      h('0000000000000000000000000000000000000000000000000000000000000000'),\n    ),\n  );\n  assert(\n    !ecc.isXOnlyPoint(\n      h('fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f'),\n    ),\n  );\n  assert(typeof ecc.xOnlyPointAddTweak === 'function');\n  tweakAddVectors.forEach(t => {\n    const r = ecc.xOnlyPointAddTweak(h(t.pubkey), h(t.tweak));\n    if (t.result === null) {\n      assert(r === null);\n    } else {\n      assert(r !== null);\n      assert(r.parity === t.parity);\n      assert(Buffer.from(r.xOnlyPubkey).equals(h(t.result)));\n    }\n  });\n}\nfunction assert(bool) {\n  if (!bool) throw new Error('ecc library invalid');\n}\nconst tweakAddVectors = [\n  {\n    pubkey: '79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798',\n    tweak: 'fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140',\n    parity: -1,\n    result: null,\n  },\n  {\n    pubkey: '1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b',\n    tweak: 'a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac',\n    parity: 1,\n    result: 'e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf',\n  },\n  {\n    pubkey: '2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991',\n    tweak: '823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47',\n    parity: 0,\n    result: '9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c',\n  },\n];\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.initEccLib =\n  exports.Transaction =\n  exports.opcodes =\n  exports.Psbt =\n  exports.Block =\n  exports.script =\n  exports.payments =\n  exports.networks =\n  exports.crypto =\n  exports.address =\n    void 0;\nconst address = require('./address');\nexports.address = address;\nconst crypto = require('./crypto');\nexports.crypto = crypto;\nconst networks = require('./networks');\nexports.networks = networks;\nconst payments = require('./payments');\nexports.payments = payments;\nconst script = require('./script');\nexports.script = script;\nvar block_1 = require('./block');\nObject.defineProperty(exports, 'Block', {\n  enumerable: true,\n  get: function () {\n    return block_1.Block;\n  },\n});\nvar psbt_1 = require('./psbt');\nObject.defineProperty(exports, 'Psbt', {\n  enumerable: true,\n  get: function () {\n    return psbt_1.Psbt;\n  },\n});\nvar ops_1 = require('./ops');\nObject.defineProperty(exports, 'opcodes', {\n  enumerable: true,\n  get: function () {\n    return ops_1.OPS;\n  },\n});\nvar transaction_1 = require('./transaction');\nObject.defineProperty(exports, 'Transaction', {\n  enumerable: true,\n  get: function () {\n    return transaction_1.Transaction;\n  },\n});\nvar ecc_lib_1 = require('./ecc_lib');\nObject.defineProperty(exports, 'initEccLib', {\n  enumerable: true,\n  get: function () {\n    return ecc_lib_1.initEccLib;\n  },\n});\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.fastMerkleRoot = void 0;\nfunction fastMerkleRoot(values, digestFn) {\n  if (!Array.isArray(values)) throw TypeError('Expected values Array');\n  if (typeof digestFn !== 'function')\n    throw TypeError('Expected digest Function');\n  let length = values.length;\n  const results = values.concat();\n  while (length > 1) {\n    let j = 0;\n    for (let i = 0; i < length; i += 2, ++j) {\n      const left = results[i];\n      const right = i + 1 === length ? left : results[i + 1];\n      const data = Buffer.concat([left, right]);\n      results[j] = digestFn(data);\n    }\n    length = j;\n  }\n  return results[0];\n}\nexports.fastMerkleRoot = fastMerkleRoot;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.testnet = exports.regtest = exports.bitcoin = void 0;\nexports.bitcoin = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'bc',\n  bip32: {\n    public: 0x0488b21e,\n    private: 0x0488ade4,\n  },\n  pubKeyHash: 0x00,\n  scriptHash: 0x05,\n  wif: 0x80,\n};\nexports.regtest = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'bcrt',\n  bip32: {\n    public: 0x043587cf,\n    private: 0x04358394,\n  },\n  pubKeyHash: 0x6f,\n  scriptHash: 0xc4,\n  wif: 0xef,\n};\nexports.testnet = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'tb',\n  bip32: {\n    public: 0x043587cf,\n    private: 0x04358394,\n  },\n  pubKeyHash: 0x6f,\n  scriptHash: 0xc4,\n  wif: 0xef,\n};\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.REVERSE_OPS = exports.OPS = void 0;\nconst OPS = {\n  OP_FALSE: 0,\n  OP_0: 0,\n  OP_PUSHDATA1: 76,\n  OP_PUSHDATA2: 77,\n  OP_PUSHDATA4: 78,\n  OP_1NEGATE: 79,\n  OP_RESERVED: 80,\n  OP_TRUE: 81,\n  OP_1: 81,\n  OP_2: 82,\n  OP_3: 83,\n  OP_4: 84,\n  OP_5: 85,\n  OP_6: 86,\n  OP_7: 87,\n  OP_8: 88,\n  OP_9: 89,\n  OP_10: 90,\n  OP_11: 91,\n  OP_12: 92,\n  OP_13: 93,\n  OP_14: 94,\n  OP_15: 95,\n  OP_16: 96,\n  OP_NOP: 97,\n  OP_VER: 98,\n  OP_IF: 99,\n  OP_NOTIF: 100,\n  OP_VERIF: 101,\n  OP_VERNOTIF: 102,\n  OP_ELSE: 103,\n  OP_ENDIF: 104,\n  OP_VERIFY: 105,\n  OP_RETURN: 106,\n  OP_TOALTSTACK: 107,\n  OP_FROMALTSTACK: 108,\n  OP_2DROP: 109,\n  OP_2DUP: 110,\n  OP_3DUP: 111,\n  OP_2OVER: 112,\n  OP_2ROT: 113,\n  OP_2SWAP: 114,\n  OP_IFDUP: 115,\n  OP_DEPTH: 116,\n  OP_DROP: 117,\n  OP_DUP: 118,\n  OP_NIP: 119,\n  OP_OVER: 120,\n  OP_PICK: 121,\n  OP_ROLL: 122,\n  OP_ROT: 123,\n  OP_SWAP: 124,\n  OP_TUCK: 125,\n  OP_CAT: 126,\n  OP_SUBSTR: 127,\n  OP_LEFT: 128,\n  OP_RIGHT: 129,\n  OP_SIZE: 130,\n  OP_INVERT: 131,\n  OP_AND: 132,\n  OP_OR: 133,\n  OP_XOR: 134,\n  OP_EQUAL: 135,\n  OP_EQUALVERIFY: 136,\n  OP_RESERVED1: 137,\n  OP_RESERVED2: 138,\n  OP_1ADD: 139,\n  OP_1SUB: 140,\n  OP_2MUL: 141,\n  OP_2DIV: 142,\n  OP_NEGATE: 143,\n  OP_ABS: 144,\n  OP_NOT: 145,\n  OP_0NOTEQUAL: 146,\n  OP_ADD: 147,\n  OP_SUB: 148,\n  OP_MUL: 149,\n  OP_DIV: 150,\n  OP_MOD: 151,\n  OP_LSHIFT: 152,\n  OP_RSHIFT: 153,\n  OP_BOOLAND: 154,\n  OP_BOOLOR: 155,\n  OP_NUMEQUAL: 156,\n  OP_NUMEQUALVERIFY: 157,\n  OP_NUMNOTEQUAL: 158,\n  OP_LESSTHAN: 159,\n  OP_GREATERTHAN: 160,\n  OP_LESSTHANOREQUAL: 161,\n  OP_GREATERTHANOREQUAL: 162,\n  OP_MIN: 163,\n  OP_MAX: 164,\n  OP_WITHIN: 165,\n  OP_RIPEMD160: 166,\n  OP_SHA1: 167,\n  OP_SHA256: 168,\n  OP_HASH160: 169,\n  OP_HASH256: 170,\n  OP_CODESEPARATOR: 171,\n  OP_CHECKSIG: 172,\n  OP_CHECKSIGVERIFY: 173,\n  OP_CHECKMULTISIG: 174,\n  OP_CHECKMULTISIGVERIFY: 175,\n  OP_NOP1: 176,\n  OP_NOP2: 177,\n  OP_CHECKLOCKTIMEVERIFY: 177,\n  OP_NOP3: 178,\n  OP_CHECKSEQUENCEVERIFY: 178,\n  OP_NOP4: 179,\n  OP_NOP5: 180,\n  OP_NOP6: 181,\n  OP_NOP7: 182,\n  OP_NOP8: 183,\n  OP_NOP9: 184,\n  OP_NOP10: 185,\n  OP_CHECKSIGADD: 186,\n  OP_PUBKEYHASH: 253,\n  OP_PUBKEY: 254,\n  OP_INVALIDOPCODE: 255,\n};\nexports.OPS = OPS;\nconst REVERSE_OPS = {};\nexports.REVERSE_OPS = REVERSE_OPS;\nfor (const op of Object.keys(OPS)) {\n  const code = OPS[op];\n  REVERSE_OPS[code] = op;\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.tweakKey =\n  exports.tapTweakHash =\n  exports.tapleafHash =\n  exports.findScriptPath =\n  exports.toHashTree =\n  exports.rootHashFromPath =\n  exports.MAX_TAPTREE_DEPTH =\n  exports.LEAF_VERSION_TAPSCRIPT =\n    void 0;\nconst buffer_1 = require('buffer');\nconst ecc_lib_1 = require('../ecc_lib');\nconst bcrypto = require('../crypto');\nconst bufferutils_1 = require('../bufferutils');\nconst types_1 = require('../types');\nexports.LEAF_VERSION_TAPSCRIPT = 0xc0;\nexports.MAX_TAPTREE_DEPTH = 128;\nconst isHashBranch = ht => 'left' in ht && 'right' in ht;\nfunction rootHashFromPath(controlBlock, leafHash) {\n  if (controlBlock.length < 33)\n    throw new TypeError(\n      `The control-block length is too small. Got ${controlBlock.length}, expected min 33.`,\n    );\n  const m = (controlBlock.length - 33) / 32;\n  let kj = leafHash;\n  for (let j = 0; j < m; j++) {\n    const ej = controlBlock.slice(33 + 32 * j, 65 + 32 * j);\n    if (kj.compare(ej) < 0) {\n      kj = tapBranchHash(kj, ej);\n    } else {\n      kj = tapBranchHash(ej, kj);\n    }\n  }\n  return kj;\n}\nexports.rootHashFromPath = rootHashFromPath;\n/**\n * Build a hash tree of merkle nodes from the scripts binary tree.\n * @param scriptTree - the tree of scripts to pairwise hash.\n */\nfunction toHashTree(scriptTree) {\n  if ((0, types_1.isTapleaf)(scriptTree))\n    return { hash: tapleafHash(scriptTree) };\n  const hashes = [toHashTree(scriptTree[0]), toHashTree(scriptTree[1])];\n  hashes.sort((a, b) => a.hash.compare(b.hash));\n  const [left, right] = hashes;\n  return {\n    hash: tapBranchHash(left.hash, right.hash),\n    left,\n    right,\n  };\n}\nexports.toHashTree = toHashTree;\n/**\n * Given a HashTree, finds the path from a particular hash to the root.\n * @param node - the root of the tree\n * @param hash - the hash to search for\n * @returns - array of sibling hashes, from leaf (inclusive) to root\n * (exclusive) needed to prove inclusion of the specified hash. undefined if no\n * path is found\n */\nfunction findScriptPath(node, hash) {\n  if (isHashBranch(node)) {\n    const leftPath = findScriptPath(node.left, hash);\n    if (leftPath !== undefined) return [...leftPath, node.right.hash];\n    const rightPath = findScriptPath(node.right, hash);\n    if (rightPath !== undefined) return [...rightPath, node.left.hash];\n  } else if (node.hash.equals(hash)) {\n    return [];\n  }\n  return undefined;\n}\nexports.findScriptPath = findScriptPath;\nfunction tapleafHash(leaf) {\n  const version = leaf.version || exports.LEAF_VERSION_TAPSCRIPT;\n  return bcrypto.taggedHash(\n    'TapLeaf',\n    buffer_1.Buffer.concat([\n      buffer_1.Buffer.from([version]),\n      serializeScript(leaf.output),\n    ]),\n  );\n}\nexports.tapleafHash = tapleafHash;\nfunction tapTweakHash(pubKey, h) {\n  return bcrypto.taggedHash(\n    'TapTweak',\n    buffer_1.Buffer.concat(h ? [pubKey, h] : [pubKey]),\n  );\n}\nexports.tapTweakHash = tapTweakHash;\nfunction tweakKey(pubKey, h) {\n  if (!buffer_1.Buffer.isBuffer(pubKey)) return null;\n  if (pubKey.length !== 32) return null;\n  if (h && h.length !== 32) return null;\n  const tweakHash = tapTweakHash(pubKey, h);\n  const res = (0, ecc_lib_1.getEccLib)().xOnlyPointAddTweak(pubKey, tweakHash);\n  if (!res || res.xOnlyPubkey === null) return null;\n  return {\n    parity: res.parity,\n    x: buffer_1.Buffer.from(res.xOnlyPubkey),\n  };\n}\nexports.tweakKey = tweakKey;\nfunction tapBranchHash(a, b) {\n  return bcrypto.taggedHash('TapBranch', buffer_1.Buffer.concat([a, b]));\n}\nfunction serializeScript(s) {\n  const varintLen = bufferutils_1.varuint.encodingLength(s.length);\n  const buffer = buffer_1.Buffer.allocUnsafe(varintLen); // better\n  bufferutils_1.varuint.encode(s.length, buffer);\n  return buffer_1.Buffer.concat([buffer, s]);\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2data = void 0;\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst OPS = bscript.OPS;\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n// output: OP_RETURN ...\nfunction p2data(a, opts) {\n  if (!a.data && !a.output) throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      data: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'embed', network };\n  lazy.prop(o, 'output', () => {\n    if (!a.data) return;\n    return bscript.compile([OPS.OP_RETURN].concat(a.data));\n  });\n  lazy.prop(o, 'data', () => {\n    if (!a.output) return;\n    return bscript.decompile(a.output).slice(1);\n  });\n  // extended validation\n  if (opts.validate) {\n    if (a.output) {\n      const chunks = bscript.decompile(a.output);\n      if (chunks[0] !== OPS.OP_RETURN) throw new TypeError('Output is invalid');\n      if (!chunks.slice(1).every(types_1.typeforce.Buffer))\n        throw new TypeError('Output is invalid');\n      if (a.data && !stacksEqual(a.data, o.data))\n        throw new TypeError('Data mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2data = p2data;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2tr =\n  exports.p2wsh =\n  exports.p2wpkh =\n  exports.p2sh =\n  exports.p2pkh =\n  exports.p2pk =\n  exports.p2ms =\n  exports.embed =\n    void 0;\nconst embed_1 = require('./embed');\nObject.defineProperty(exports, 'embed', {\n  enumerable: true,\n  get: function () {\n    return embed_1.p2data;\n  },\n});\nconst p2ms_1 = require('./p2ms');\nObject.defineProperty(exports, 'p2ms', {\n  enumerable: true,\n  get: function () {\n    return p2ms_1.p2ms;\n  },\n});\nconst p2pk_1 = require('./p2pk');\nObject.defineProperty(exports, 'p2pk', {\n  enumerable: true,\n  get: function () {\n    return p2pk_1.p2pk;\n  },\n});\nconst p2pkh_1 = require('./p2pkh');\nObject.defineProperty(exports, 'p2pkh', {\n  enumerable: true,\n  get: function () {\n    return p2pkh_1.p2pkh;\n  },\n});\nconst p2sh_1 = require('./p2sh');\nObject.defineProperty(exports, 'p2sh', {\n  enumerable: true,\n  get: function () {\n    return p2sh_1.p2sh;\n  },\n});\nconst p2wpkh_1 = require('./p2wpkh');\nObject.defineProperty(exports, 'p2wpkh', {\n  enumerable: true,\n  get: function () {\n    return p2wpkh_1.p2wpkh;\n  },\n});\nconst p2wsh_1 = require('./p2wsh');\nObject.defineProperty(exports, 'p2wsh', {\n  enumerable: true,\n  get: function () {\n    return p2wsh_1.p2wsh;\n  },\n});\nconst p2tr_1 = require('./p2tr');\nObject.defineProperty(exports, 'p2tr', {\n  enumerable: true,\n  get: function () {\n    return p2tr_1.p2tr;\n  },\n});\n// TODO\n// witness commitment\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.value = exports.prop = void 0;\nfunction prop(object, name, f) {\n  Object.defineProperty(object, name, {\n    configurable: true,\n    enumerable: true,\n    get() {\n      const _value = f.call(this);\n      this[name] = _value;\n      return _value;\n    },\n    set(_value) {\n      Object.defineProperty(this, name, {\n        configurable: true,\n        enumerable: true,\n        value: _value,\n        writable: true,\n      });\n    },\n  });\n}\nexports.prop = prop;\nfunction value(f) {\n  let _value;\n  return () => {\n    if (_value !== undefined) return _value;\n    _value = f();\n    return _value;\n  };\n}\nexports.value = value;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2ms = void 0;\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst OPS = bscript.OPS;\nconst OP_INT_BASE = OPS.OP_RESERVED; // OP_1 - 1\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n// input: OP_0 [signatures ...]\n// output: m [pubKeys ...] n OP_CHECKMULTISIG\nfunction p2ms(a, opts) {\n  if (\n    !a.input &&\n    !a.output &&\n    !(a.pubkeys && a.m !== undefined) &&\n    !a.signatures\n  )\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  function isAcceptableSignature(x) {\n    return (\n      bscript.isCanonicalScriptSignature(x) ||\n      (opts.allowIncomplete && x === OPS.OP_0) !== undefined\n    );\n  }\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      m: types_1.typeforce.maybe(types_1.typeforce.Number),\n      n: types_1.typeforce.maybe(types_1.typeforce.Number),\n      output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      pubkeys: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.isPoint),\n      ),\n      signatures: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(isAcceptableSignature),\n      ),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n    },\n    a,\n  );\n  const network = a.network || networks_1.bitcoin;\n  const o = { network };\n  let chunks = [];\n  let decoded = false;\n  function decode(output) {\n    if (decoded) return;\n    decoded = true;\n    chunks = bscript.decompile(output);\n    o.m = chunks[0] - OP_INT_BASE;\n    o.n = chunks[chunks.length - 2] - OP_INT_BASE;\n    o.pubkeys = chunks.slice(1, -2);\n  }\n  lazy.prop(o, 'output', () => {\n    if (!a.m) return;\n    if (!o.n) return;\n    if (!a.pubkeys) return;\n    return bscript.compile(\n      [].concat(\n        OP_INT_BASE + a.m,\n        a.pubkeys,\n        OP_INT_BASE + o.n,\n        OPS.OP_CHECKMULTISIG,\n      ),\n    );\n  });\n  lazy.prop(o, 'm', () => {\n    if (!o.output) return;\n    decode(o.output);\n    return o.m;\n  });\n  lazy.prop(o, 'n', () => {\n    if (!o.pubkeys) return;\n    return o.pubkeys.length;\n  });\n  lazy.prop(o, 'pubkeys', () => {\n    if (!a.output) return;\n    decode(a.output);\n    return o.pubkeys;\n  });\n  lazy.prop(o, 'signatures', () => {\n    if (!a.input) return;\n    return bscript.decompile(a.input).slice(1);\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.signatures) return;\n    return bscript.compile([OPS.OP_0].concat(a.signatures));\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!o.input) return;\n    return [];\n  });\n  lazy.prop(o, 'name', () => {\n    if (!o.m || !o.n) return;\n    return `p2ms(${o.m} of ${o.n})`;\n  });\n  // extended validation\n  if (opts.validate) {\n    if (a.output) {\n      decode(a.output);\n      if (!types_1.typeforce.Number(chunks[0]))\n        throw new TypeError('Output is invalid');\n      if (!types_1.typeforce.Number(chunks[chunks.length - 2]))\n        throw new TypeError('Output is invalid');\n      if (chunks[chunks.length - 1] !== OPS.OP_CHECKMULTISIG)\n        throw new TypeError('Output is invalid');\n      if (o.m <= 0 || o.n > 16 || o.m > o.n || o.n !== chunks.length - 3)\n        throw new TypeError('Output is invalid');\n      if (!o.pubkeys.every(x => (0, types_1.isPoint)(x)))\n        throw new TypeError('Output is invalid');\n      if (a.m !== undefined && a.m !== o.m) throw new TypeError('m mismatch');\n      if (a.n !== undefined && a.n !== o.n) throw new TypeError('n mismatch');\n      if (a.pubkeys && !stacksEqual(a.pubkeys, o.pubkeys))\n        throw new TypeError('Pubkeys mismatch');\n    }\n    if (a.pubkeys) {\n      if (a.n !== undefined && a.n !== a.pubkeys.length)\n        throw new TypeError('Pubkey count mismatch');\n      o.n = a.pubkeys.length;\n      if (o.n < o.m) throw new TypeError('Pubkey count cannot be less than m');\n    }\n    if (a.signatures) {\n      if (a.signatures.length < o.m)\n        throw new TypeError('Not enough signatures provided');\n      if (a.signatures.length > o.m)\n        throw new TypeError('Too many signatures provided');\n    }\n    if (a.input) {\n      if (a.input[0] !== OPS.OP_0) throw new TypeError('Input is invalid');\n      if (\n        o.signatures.length === 0 ||\n        !o.signatures.every(isAcceptableSignature)\n      )\n        throw new TypeError('Input has invalid signature(s)');\n      if (a.signatures && !stacksEqual(a.signatures, o.signatures))\n        throw new TypeError('Signature mismatch');\n      if (a.m !== undefined && a.m !== a.signatures.length)\n        throw new TypeError('Signature count mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2ms = p2ms;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2pk = void 0;\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst OPS = bscript.OPS;\n// input: {signature}\n// output: {pubKey} OP_CHECKSIG\nfunction p2pk(a, opts) {\n  if (!a.input && !a.output && !a.pubkey && !a.input && !a.signature)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      pubkey: types_1.typeforce.maybe(types_1.isPoint),\n      signature: types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n    },\n    a,\n  );\n  const _chunks = lazy.value(() => {\n    return bscript.decompile(a.input);\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2pk', network };\n  lazy.prop(o, 'output', () => {\n    if (!a.pubkey) return;\n    return bscript.compile([a.pubkey, OPS.OP_CHECKSIG]);\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (!a.output) return;\n    return a.output.slice(1, -1);\n  });\n  lazy.prop(o, 'signature', () => {\n    if (!a.input) return;\n    return _chunks()[0];\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.signature) return;\n    return bscript.compile([a.signature]);\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!o.input) return;\n    return [];\n  });\n  // extended validation\n  if (opts.validate) {\n    if (a.output) {\n      if (a.output[a.output.length - 1] !== OPS.OP_CHECKSIG)\n        throw new TypeError('Output is invalid');\n      if (!(0, types_1.isPoint)(o.pubkey))\n        throw new TypeError('Output pubkey is invalid');\n      if (a.pubkey && !a.pubkey.equals(o.pubkey))\n        throw new TypeError('Pubkey mismatch');\n    }\n    if (a.signature) {\n      if (a.input && !a.input.equals(o.input))\n        throw new TypeError('Signature mismatch');\n    }\n    if (a.input) {\n      if (_chunks().length !== 1) throw new TypeError('Input is invalid');\n      if (!bscript.isCanonicalScriptSignature(o.signature))\n        throw new TypeError('Input has invalid signature');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2pk = p2pk;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2pkh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bs58check = require('bs58check');\nconst OPS = bscript.OPS;\n// input: {signature} {pubkey}\n// output: OP_DUP OP_HASH160 {hash160(pubkey)} OP_EQUALVERIFY OP_CHECKSIG\nfunction p2pkh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.pubkey && !a.input)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(25)),\n      pubkey: types_1.typeforce.maybe(types_1.isPoint),\n      signature: types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const payload = Buffer.from(bs58check.decode(a.address));\n    const version = payload.readUInt8(0);\n    const hash = payload.slice(1);\n    return { version, hash };\n  });\n  const _chunks = lazy.value(() => {\n    return bscript.decompile(a.input);\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2pkh', network };\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const payload = Buffer.allocUnsafe(21);\n    payload.writeUInt8(network.pubKeyHash, 0);\n    o.hash.copy(payload, 1);\n    return bs58check.encode(payload);\n  });\n  lazy.prop(o, 'hash', () => {\n    if (a.output) return a.output.slice(3, 23);\n    if (a.address) return _address().hash;\n    if (a.pubkey || o.pubkey) return bcrypto.hash160(a.pubkey || o.pubkey);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([\n      OPS.OP_DUP,\n      OPS.OP_HASH160,\n      o.hash,\n      OPS.OP_EQUALVERIFY,\n      OPS.OP_CHECKSIG,\n    ]);\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (!a.input) return;\n    return _chunks()[1];\n  });\n  lazy.prop(o, 'signature', () => {\n    if (!a.input) return;\n    return _chunks()[0];\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.pubkey) return;\n    if (!a.signature) return;\n    return bscript.compile([a.signature, a.pubkey]);\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!o.input) return;\n    return [];\n  });\n  // extended validation\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (_address().version !== network.pubKeyHash)\n        throw new TypeError('Invalid version or Network mismatch');\n      if (_address().hash.length !== 20) throw new TypeError('Invalid address');\n      hash = _address().hash;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 25 ||\n        a.output[0] !== OPS.OP_DUP ||\n        a.output[1] !== OPS.OP_HASH160 ||\n        a.output[2] !== 0x14 ||\n        a.output[23] !== OPS.OP_EQUALVERIFY ||\n        a.output[24] !== OPS.OP_CHECKSIG\n      )\n        throw new TypeError('Output is invalid');\n      const hash2 = a.output.slice(3, 23);\n      if (hash.length > 0 && !hash.equals(hash2))\n        throw new TypeError('Hash mismatch');\n      else hash = hash2;\n    }\n    if (a.pubkey) {\n      const pkh = bcrypto.hash160(a.pubkey);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n      else hash = pkh;\n    }\n    if (a.input) {\n      const chunks = _chunks();\n      if (chunks.length !== 2) throw new TypeError('Input is invalid');\n      if (!bscript.isCanonicalScriptSignature(chunks[0]))\n        throw new TypeError('Input has invalid signature');\n      if (!(0, types_1.isPoint)(chunks[1]))\n        throw new TypeError('Input has invalid pubkey');\n      if (a.signature && !a.signature.equals(chunks[0]))\n        throw new TypeError('Signature mismatch');\n      if (a.pubkey && !a.pubkey.equals(chunks[1]))\n        throw new TypeError('Pubkey mismatch');\n      const pkh = bcrypto.hash160(chunks[1]);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2pkh = p2pkh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2sh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bs58check = require('bs58check');\nconst OPS = bscript.OPS;\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n// input: [redeemScriptSig ...] {redeemScript}\n// witness: <?>\n// output: OP_HASH160 {hash160(redeemScript)} OP_EQUAL\nfunction p2sh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.redeem && !a.input)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(23)),\n      redeem: types_1.typeforce.maybe({\n        network: types_1.typeforce.maybe(types_1.typeforce.Object),\n        output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        witness: types_1.typeforce.maybe(\n          types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n        ),\n      }),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  let network = a.network;\n  if (!network) {\n    network = (a.redeem && a.redeem.network) || networks_1.bitcoin;\n  }\n  const o = { network };\n  const _address = lazy.value(() => {\n    const payload = Buffer.from(bs58check.decode(a.address));\n    const version = payload.readUInt8(0);\n    const hash = payload.slice(1);\n    return { version, hash };\n  });\n  const _chunks = lazy.value(() => {\n    return bscript.decompile(a.input);\n  });\n  const _redeem = lazy.value(() => {\n    const chunks = _chunks();\n    const lastChunk = chunks[chunks.length - 1];\n    return {\n      network,\n      output: lastChunk === OPS.OP_FALSE ? Buffer.from([]) : lastChunk,\n      input: bscript.compile(chunks.slice(0, -1)),\n      witness: a.witness || [],\n    };\n  });\n  // output dependents\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const payload = Buffer.allocUnsafe(21);\n    payload.writeUInt8(o.network.scriptHash, 0);\n    o.hash.copy(payload, 1);\n    return bs58check.encode(payload);\n  });\n  lazy.prop(o, 'hash', () => {\n    // in order of least effort\n    if (a.output) return a.output.slice(2, 22);\n    if (a.address) return _address().hash;\n    if (o.redeem && o.redeem.output) return bcrypto.hash160(o.redeem.output);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([OPS.OP_HASH160, o.hash, OPS.OP_EQUAL]);\n  });\n  // input dependents\n  lazy.prop(o, 'redeem', () => {\n    if (!a.input) return;\n    return _redeem();\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.redeem || !a.redeem.input || !a.redeem.output) return;\n    return bscript.compile(\n      [].concat(bscript.decompile(a.redeem.input), a.redeem.output),\n    );\n  });\n  lazy.prop(o, 'witness', () => {\n    if (o.redeem && o.redeem.witness) return o.redeem.witness;\n    if (o.input) return [];\n  });\n  lazy.prop(o, 'name', () => {\n    const nameParts = ['p2sh'];\n    if (o.redeem !== undefined && o.redeem.name !== undefined)\n      nameParts.push(o.redeem.name);\n    return nameParts.join('-');\n  });\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (_address().version !== network.scriptHash)\n        throw new TypeError('Invalid version or Network mismatch');\n      if (_address().hash.length !== 20) throw new TypeError('Invalid address');\n      hash = _address().hash;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 23 ||\n        a.output[0] !== OPS.OP_HASH160 ||\n        a.output[1] !== 0x14 ||\n        a.output[22] !== OPS.OP_EQUAL\n      )\n        throw new TypeError('Output is invalid');\n      const hash2 = a.output.slice(2, 22);\n      if (hash.length > 0 && !hash.equals(hash2))\n        throw new TypeError('Hash mismatch');\n      else hash = hash2;\n    }\n    // inlined to prevent 'no-inner-declarations' failing\n    const checkRedeem = redeem => {\n      // is the redeem output empty/invalid?\n      if (redeem.output) {\n        const decompile = bscript.decompile(redeem.output);\n        if (!decompile || decompile.length < 1)\n          throw new TypeError('Redeem.output too short');\n        if (redeem.output.byteLength > 520)\n          throw new TypeError(\n            'Redeem.output unspendable if larger than 520 bytes',\n          );\n        if (bscript.countNonPushOnlyOPs(decompile) > 201)\n          throw new TypeError(\n            'Redeem.output unspendable with more than 201 non-push ops',\n          );\n        // match hash against other sources\n        const hash2 = bcrypto.hash160(redeem.output);\n        if (hash.length > 0 && !hash.equals(hash2))\n          throw new TypeError('Hash mismatch');\n        else hash = hash2;\n      }\n      if (redeem.input) {\n        const hasInput = redeem.input.length > 0;\n        const hasWitness = redeem.witness && redeem.witness.length > 0;\n        if (!hasInput && !hasWitness) throw new TypeError('Empty input');\n        if (hasInput && hasWitness)\n          throw new TypeError('Input and witness provided');\n        if (hasInput) {\n          const richunks = bscript.decompile(redeem.input);\n          if (!bscript.isPushOnly(richunks))\n            throw new TypeError('Non push-only scriptSig');\n        }\n      }\n    };\n    if (a.input) {\n      const chunks = _chunks();\n      if (!chunks || chunks.length < 1) throw new TypeError('Input too short');\n      if (!Buffer.isBuffer(_redeem().output))\n        throw new TypeError('Input is invalid');\n      checkRedeem(_redeem());\n    }\n    if (a.redeem) {\n      if (a.redeem.network && a.redeem.network !== network)\n        throw new TypeError('Network mismatch');\n      if (a.input) {\n        const redeem = _redeem();\n        if (a.redeem.output && !a.redeem.output.equals(redeem.output))\n          throw new TypeError('Redeem.output mismatch');\n        if (a.redeem.input && !a.redeem.input.equals(redeem.input))\n          throw new TypeError('Redeem.input mismatch');\n      }\n      checkRedeem(a.redeem);\n    }\n    if (a.witness) {\n      if (\n        a.redeem &&\n        a.redeem.witness &&\n        !stacksEqual(a.redeem.witness, a.witness)\n      )\n        throw new TypeError('Witness and redeem.witness mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2sh = p2sh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2tr = void 0;\nconst buffer_1 = require('buffer');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst ecc_lib_1 = require('../ecc_lib');\nconst bip341_1 = require('./bip341');\nconst lazy = require('./lazy');\nconst bech32_1 = require('bech32');\nconst OPS = bscript.OPS;\nconst TAPROOT_WITNESS_VERSION = 0x01;\nconst ANNEX_PREFIX = 0x50;\nfunction p2tr(a, opts) {\n  if (\n    !a.address &&\n    !a.output &&\n    !a.pubkey &&\n    !a.internalPubkey &&\n    !(a.witness && a.witness.length > 1)\n  )\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      input: types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(34)),\n      internalPubkey: types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),\n      pubkey: types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),\n      signature: types_1.typeforce.maybe(\n        types_1.typeforce.anyOf(\n          types_1.typeforce.BufferN(64),\n          types_1.typeforce.BufferN(65),\n        ),\n      ),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n      scriptTree: types_1.typeforce.maybe(types_1.isTaptree),\n      redeem: types_1.typeforce.maybe({\n        output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        redeemVersion: types_1.typeforce.maybe(types_1.typeforce.Number),\n        witness: types_1.typeforce.maybe(\n          types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n        ),\n      }),\n      redeemVersion: types_1.typeforce.maybe(types_1.typeforce.Number),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const result = bech32_1.bech32m.decode(a.address);\n    const version = result.words.shift();\n    const data = bech32_1.bech32m.fromWords(result.words);\n    return {\n      version,\n      prefix: result.prefix,\n      data: buffer_1.Buffer.from(data),\n    };\n  });\n  // remove annex if present, ignored by taproot\n  const _witness = lazy.value(() => {\n    if (!a.witness || !a.witness.length) return;\n    if (\n      a.witness.length >= 2 &&\n      a.witness[a.witness.length - 1][0] === ANNEX_PREFIX\n    ) {\n      return a.witness.slice(0, -1);\n    }\n    return a.witness.slice();\n  });\n  const _hashTree = lazy.value(() => {\n    if (a.scriptTree) return (0, bip341_1.toHashTree)(a.scriptTree);\n    if (a.hash) return { hash: a.hash };\n    return;\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2tr', network };\n  lazy.prop(o, 'address', () => {\n    if (!o.pubkey) return;\n    const words = bech32_1.bech32m.toWords(o.pubkey);\n    words.unshift(TAPROOT_WITNESS_VERSION);\n    return bech32_1.bech32m.encode(network.bech32, words);\n  });\n  lazy.prop(o, 'hash', () => {\n    const hashTree = _hashTree();\n    if (hashTree) return hashTree.hash;\n    const w = _witness();\n    if (w && w.length > 1) {\n      const controlBlock = w[w.length - 1];\n      const leafVersion = controlBlock[0] & types_1.TAPLEAF_VERSION_MASK;\n      const script = w[w.length - 2];\n      const leafHash = (0, bip341_1.tapleafHash)({\n        output: script,\n        version: leafVersion,\n      });\n      return (0, bip341_1.rootHashFromPath)(controlBlock, leafHash);\n    }\n    return null;\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.pubkey) return;\n    return bscript.compile([OPS.OP_1, o.pubkey]);\n  });\n  lazy.prop(o, 'redeemVersion', () => {\n    if (a.redeemVersion) return a.redeemVersion;\n    if (\n      a.redeem &&\n      a.redeem.redeemVersion !== undefined &&\n      a.redeem.redeemVersion !== null\n    ) {\n      return a.redeem.redeemVersion;\n    }\n    return bip341_1.LEAF_VERSION_TAPSCRIPT;\n  });\n  lazy.prop(o, 'redeem', () => {\n    const witness = _witness(); // witness without annex\n    if (!witness || witness.length < 2) return;\n    return {\n      output: witness[witness.length - 2],\n      witness: witness.slice(0, -2),\n      redeemVersion:\n        witness[witness.length - 1][0] & types_1.TAPLEAF_VERSION_MASK,\n    };\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (a.pubkey) return a.pubkey;\n    if (a.output) return a.output.slice(2);\n    if (a.address) return _address().data;\n    if (o.internalPubkey) {\n      const tweakedKey = (0, bip341_1.tweakKey)(o.internalPubkey, o.hash);\n      if (tweakedKey) return tweakedKey.x;\n    }\n  });\n  lazy.prop(o, 'internalPubkey', () => {\n    if (a.internalPubkey) return a.internalPubkey;\n    const witness = _witness();\n    if (witness && witness.length > 1)\n      return witness[witness.length - 1].slice(1, 33);\n  });\n  lazy.prop(o, 'signature', () => {\n    if (a.signature) return a.signature;\n    const witness = _witness(); // witness without annex\n    if (!witness || witness.length !== 1) return;\n    return witness[0];\n  });\n  lazy.prop(o, 'witness', () => {\n    if (a.witness) return a.witness;\n    const hashTree = _hashTree();\n    if (hashTree && a.redeem && a.redeem.output && a.internalPubkey) {\n      const leafHash = (0, bip341_1.tapleafHash)({\n        output: a.redeem.output,\n        version: o.redeemVersion,\n      });\n      const path = (0, bip341_1.findScriptPath)(hashTree, leafHash);\n      if (!path) return;\n      const outputKey = (0, bip341_1.tweakKey)(a.internalPubkey, hashTree.hash);\n      if (!outputKey) return;\n      const controlBock = buffer_1.Buffer.concat(\n        [\n          buffer_1.Buffer.from([o.redeemVersion | outputKey.parity]),\n          a.internalPubkey,\n        ].concat(path),\n      );\n      return [a.redeem.output, controlBock];\n    }\n    if (a.signature) return [a.signature];\n  });\n  // extended validation\n  if (opts.validate) {\n    let pubkey = buffer_1.Buffer.from([]);\n    if (a.address) {\n      if (network && network.bech32 !== _address().prefix)\n        throw new TypeError('Invalid prefix or Network mismatch');\n      if (_address().version !== TAPROOT_WITNESS_VERSION)\n        throw new TypeError('Invalid address version');\n      if (_address().data.length !== 32)\n        throw new TypeError('Invalid address data');\n      pubkey = _address().data;\n    }\n    if (a.pubkey) {\n      if (pubkey.length > 0 && !pubkey.equals(a.pubkey))\n        throw new TypeError('Pubkey mismatch');\n      else pubkey = a.pubkey;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 34 ||\n        a.output[0] !== OPS.OP_1 ||\n        a.output[1] !== 0x20\n      )\n        throw new TypeError('Output is invalid');\n      if (pubkey.length > 0 && !pubkey.equals(a.output.slice(2)))\n        throw new TypeError('Pubkey mismatch');\n      else pubkey = a.output.slice(2);\n    }\n    if (a.internalPubkey) {\n      const tweakedKey = (0, bip341_1.tweakKey)(a.internalPubkey, o.hash);\n      if (pubkey.length > 0 && !pubkey.equals(tweakedKey.x))\n        throw new TypeError('Pubkey mismatch');\n      else pubkey = tweakedKey.x;\n    }\n    if (pubkey && pubkey.length) {\n      if (!(0, ecc_lib_1.getEccLib)().isXOnlyPoint(pubkey))\n        throw new TypeError('Invalid pubkey for p2tr');\n    }\n    const hashTree = _hashTree();\n    if (a.hash && hashTree) {\n      if (!a.hash.equals(hashTree.hash)) throw new TypeError('Hash mismatch');\n    }\n    if (a.redeem && a.redeem.output && hashTree) {\n      const leafHash = (0, bip341_1.tapleafHash)({\n        output: a.redeem.output,\n        version: o.redeemVersion,\n      });\n      if (!(0, bip341_1.findScriptPath)(hashTree, leafHash))\n        throw new TypeError('Redeem script not in tree');\n    }\n    const witness = _witness();\n    // compare the provided redeem data with the one computed from witness\n    if (a.redeem && o.redeem) {\n      if (a.redeem.redeemVersion) {\n        if (a.redeem.redeemVersion !== o.redeem.redeemVersion)\n          throw new TypeError('Redeem.redeemVersion and witness mismatch');\n      }\n      if (a.redeem.output) {\n        if (bscript.decompile(a.redeem.output).length === 0)\n          throw new TypeError('Redeem.output is invalid');\n        // output redeem is constructed from the witness\n        if (o.redeem.output && !a.redeem.output.equals(o.redeem.output))\n          throw new TypeError('Redeem.output and witness mismatch');\n      }\n      if (a.redeem.witness) {\n        if (\n          o.redeem.witness &&\n          !stacksEqual(a.redeem.witness, o.redeem.witness)\n        )\n          throw new TypeError('Redeem.witness and witness mismatch');\n      }\n    }\n    if (witness && witness.length) {\n      if (witness.length === 1) {\n        // key spending\n        if (a.signature && !a.signature.equals(witness[0]))\n          throw new TypeError('Signature mismatch');\n      } else {\n        // script path spending\n        const controlBlock = witness[witness.length - 1];\n        if (controlBlock.length < 33)\n          throw new TypeError(\n            `The control-block length is too small. Got ${controlBlock.length}, expected min 33.`,\n          );\n        if ((controlBlock.length - 33) % 32 !== 0)\n          throw new TypeError(\n            `The control-block length of ${controlBlock.length} is incorrect!`,\n          );\n        const m = (controlBlock.length - 33) / 32;\n        if (m > 128)\n          throw new TypeError(\n            `The script path is too long. Got ${m}, expected max 128.`,\n          );\n        const internalPubkey = controlBlock.slice(1, 33);\n        if (a.internalPubkey && !a.internalPubkey.equals(internalPubkey))\n          throw new TypeError('Internal pubkey mismatch');\n        if (!(0, ecc_lib_1.getEccLib)().isXOnlyPoint(internalPubkey))\n          throw new TypeError('Invalid internalPubkey for p2tr witness');\n        const leafVersion = controlBlock[0] & types_1.TAPLEAF_VERSION_MASK;\n        const script = witness[witness.length - 2];\n        const leafHash = (0, bip341_1.tapleafHash)({\n          output: script,\n          version: leafVersion,\n        });\n        const hash = (0, bip341_1.rootHashFromPath)(controlBlock, leafHash);\n        const outputKey = (0, bip341_1.tweakKey)(internalPubkey, hash);\n        if (!outputKey)\n          // todo: needs test data\n          throw new TypeError('Invalid outputKey for p2tr witness');\n        if (pubkey.length && !pubkey.equals(outputKey.x))\n          throw new TypeError('Pubkey mismatch for p2tr witness');\n        if (outputKey.parity !== (controlBlock[0] & 1))\n          throw new Error('Incorrect parity');\n      }\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2tr = p2tr;\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2wpkh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bech32_1 = require('bech32');\nconst OPS = bscript.OPS;\nconst EMPTY_BUFFER = Buffer.alloc(0);\n// witness: {signature} {pubKey}\n// input: <>\n// output: OP_0 {pubKeyHash}\nfunction p2wpkh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.pubkey && !a.witness)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),\n      input: types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(22)),\n      pubkey: types_1.typeforce.maybe(types_1.isPoint),\n      signature: types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const result = bech32_1.bech32.decode(a.address);\n    const version = result.words.shift();\n    const data = bech32_1.bech32.fromWords(result.words);\n    return {\n      version,\n      prefix: result.prefix,\n      data: Buffer.from(data),\n    };\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2wpkh', network };\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const words = bech32_1.bech32.toWords(o.hash);\n    words.unshift(0x00);\n    return bech32_1.bech32.encode(network.bech32, words);\n  });\n  lazy.prop(o, 'hash', () => {\n    if (a.output) return a.output.slice(2, 22);\n    if (a.address) return _address().data;\n    if (a.pubkey || o.pubkey) return bcrypto.hash160(a.pubkey || o.pubkey);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([OPS.OP_0, o.hash]);\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (a.pubkey) return a.pubkey;\n    if (!a.witness) return;\n    return a.witness[1];\n  });\n  lazy.prop(o, 'signature', () => {\n    if (!a.witness) return;\n    return a.witness[0];\n  });\n  lazy.prop(o, 'input', () => {\n    if (!o.witness) return;\n    return EMPTY_BUFFER;\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!a.pubkey) return;\n    if (!a.signature) return;\n    return [a.signature, a.pubkey];\n  });\n  // extended validation\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (network && network.bech32 !== _address().prefix)\n        throw new TypeError('Invalid prefix or Network mismatch');\n      if (_address().version !== 0x00)\n        throw new TypeError('Invalid address version');\n      if (_address().data.length !== 20)\n        throw new TypeError('Invalid address data');\n      hash = _address().data;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 22 ||\n        a.output[0] !== OPS.OP_0 ||\n        a.output[1] !== 0x14\n      )\n        throw new TypeError('Output is invalid');\n      if (hash.length > 0 && !hash.equals(a.output.slice(2)))\n        throw new TypeError('Hash mismatch');\n      else hash = a.output.slice(2);\n    }\n    if (a.pubkey) {\n      const pkh = bcrypto.hash160(a.pubkey);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n      else hash = pkh;\n      if (!(0, types_1.isPoint)(a.pubkey) || a.pubkey.length !== 33)\n        throw new TypeError('Invalid pubkey for p2wpkh');\n    }\n    if (a.witness) {\n      if (a.witness.length !== 2) throw new TypeError('Witness is invalid');\n      if (!bscript.isCanonicalScriptSignature(a.witness[0]))\n        throw new TypeError('Witness has invalid signature');\n      if (!(0, types_1.isPoint)(a.witness[1]) || a.witness[1].length !== 33)\n        throw new TypeError('Witness has invalid pubkey');\n      if (a.signature && !a.signature.equals(a.witness[0]))\n        throw new TypeError('Signature mismatch');\n      if (a.pubkey && !a.pubkey.equals(a.witness[1]))\n        throw new TypeError('Pubkey mismatch');\n      const pkh = bcrypto.hash160(a.witness[1]);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2wpkh = p2wpkh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2wsh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bech32_1 = require('bech32');\nconst OPS = bscript.OPS;\nconst EMPTY_BUFFER = Buffer.alloc(0);\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\nfunction chunkHasUncompressedPubkey(chunk) {\n  if (\n    Buffer.isBuffer(chunk) &&\n    chunk.length === 65 &&\n    chunk[0] === 0x04 &&\n    (0, types_1.isPoint)(chunk)\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n// input: <>\n// witness: [redeemScriptSig ...] {redeemScript}\n// output: OP_0 {sha256(redeemScript)}\nfunction p2wsh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.redeem && !a.witness)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(34)),\n      redeem: types_1.typeforce.maybe({\n        input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        network: types_1.typeforce.maybe(types_1.typeforce.Object),\n        output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        witness: types_1.typeforce.maybe(\n          types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n        ),\n      }),\n      input: types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const result = bech32_1.bech32.decode(a.address);\n    const version = result.words.shift();\n    const data = bech32_1.bech32.fromWords(result.words);\n    return {\n      version,\n      prefix: result.prefix,\n      data: Buffer.from(data),\n    };\n  });\n  const _rchunks = lazy.value(() => {\n    return bscript.decompile(a.redeem.input);\n  });\n  let network = a.network;\n  if (!network) {\n    network = (a.redeem && a.redeem.network) || networks_1.bitcoin;\n  }\n  const o = { network };\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const words = bech32_1.bech32.toWords(o.hash);\n    words.unshift(0x00);\n    return bech32_1.bech32.encode(network.bech32, words);\n  });\n  lazy.prop(o, 'hash', () => {\n    if (a.output) return a.output.slice(2);\n    if (a.address) return _address().data;\n    if (o.redeem && o.redeem.output) return bcrypto.sha256(o.redeem.output);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([OPS.OP_0, o.hash]);\n  });\n  lazy.prop(o, 'redeem', () => {\n    if (!a.witness) return;\n    return {\n      output: a.witness[a.witness.length - 1],\n      input: EMPTY_BUFFER,\n      witness: a.witness.slice(0, -1),\n    };\n  });\n  lazy.prop(o, 'input', () => {\n    if (!o.witness) return;\n    return EMPTY_BUFFER;\n  });\n  lazy.prop(o, 'witness', () => {\n    // transform redeem input to witness stack?\n    if (\n      a.redeem &&\n      a.redeem.input &&\n      a.redeem.input.length > 0 &&\n      a.redeem.output &&\n      a.redeem.output.length > 0\n    ) {\n      const stack = bscript.toStack(_rchunks());\n      // assign, and blank the existing input\n      o.redeem = Object.assign({ witness: stack }, a.redeem);\n      o.redeem.input = EMPTY_BUFFER;\n      return [].concat(stack, a.redeem.output);\n    }\n    if (!a.redeem) return;\n    if (!a.redeem.output) return;\n    if (!a.redeem.witness) return;\n    return [].concat(a.redeem.witness, a.redeem.output);\n  });\n  lazy.prop(o, 'name', () => {\n    const nameParts = ['p2wsh'];\n    if (o.redeem !== undefined && o.redeem.name !== undefined)\n      nameParts.push(o.redeem.name);\n    return nameParts.join('-');\n  });\n  // extended validation\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (_address().prefix !== network.bech32)\n        throw new TypeError('Invalid prefix or Network mismatch');\n      if (_address().version !== 0x00)\n        throw new TypeError('Invalid address version');\n      if (_address().data.length !== 32)\n        throw new TypeError('Invalid address data');\n      hash = _address().data;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 34 ||\n        a.output[0] !== OPS.OP_0 ||\n        a.output[1] !== 0x20\n      )\n        throw new TypeError('Output is invalid');\n      const hash2 = a.output.slice(2);\n      if (hash.length > 0 && !hash.equals(hash2))\n        throw new TypeError('Hash mismatch');\n      else hash = hash2;\n    }\n    if (a.redeem) {\n      if (a.redeem.network && a.redeem.network !== network)\n        throw new TypeError('Network mismatch');\n      // is there two redeem sources?\n      if (\n        a.redeem.input &&\n        a.redeem.input.length > 0 &&\n        a.redeem.witness &&\n        a.redeem.witness.length > 0\n      )\n        throw new TypeError('Ambiguous witness source');\n      // is the redeem output non-empty/valid?\n      if (a.redeem.output) {\n        const decompile = bscript.decompile(a.redeem.output);\n        if (!decompile || decompile.length < 1)\n          throw new TypeError('Redeem.output is invalid');\n        if (a.redeem.output.byteLength > 3600)\n          throw new TypeError(\n            'Redeem.output unspendable if larger than 3600 bytes',\n          );\n        if (bscript.countNonPushOnlyOPs(decompile) > 201)\n          throw new TypeError(\n            'Redeem.output unspendable with more than 201 non-push ops',\n          );\n        // match hash against other sources\n        const hash2 = bcrypto.sha256(a.redeem.output);\n        if (hash.length > 0 && !hash.equals(hash2))\n          throw new TypeError('Hash mismatch');\n        else hash = hash2;\n      }\n      if (a.redeem.input && !bscript.isPushOnly(_rchunks()))\n        throw new TypeError('Non push-only scriptSig');\n      if (\n        a.witness &&\n        a.redeem.witness &&\n        !stacksEqual(a.witness, a.redeem.witness)\n      )\n        throw new TypeError('Witness and redeem.witness mismatch');\n      if (\n        (a.redeem.input && _rchunks().some(chunkHasUncompressedPubkey)) ||\n        (a.redeem.output &&\n          (bscript.decompile(a.redeem.output) || []).some(\n            chunkHasUncompressedPubkey,\n          ))\n      ) {\n        throw new TypeError(\n          'redeem.input or redeem.output contains uncompressed pubkey',\n        );\n      }\n    }\n    if (a.witness && a.witness.length > 0) {\n      const wScript = a.witness[a.witness.length - 1];\n      if (a.redeem && a.redeem.output && !a.redeem.output.equals(wScript))\n        throw new TypeError('Witness and redeem.output mismatch');\n      if (\n        a.witness.some(chunkHasUncompressedPubkey) ||\n        (bscript.decompile(wScript) || []).some(chunkHasUncompressedPubkey)\n      )\n        throw new TypeError('Witness contains uncompressed pubkey');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2wsh = p2wsh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.Psbt = void 0;\nconst bip174_1 = require('bip174');\nconst varuint = require('bip174/src/lib/converter/varint');\nconst utils_1 = require('bip174/src/lib/utils');\nconst address_1 = require('./address');\nconst bufferutils_1 = require('./bufferutils');\nconst networks_1 = require('./networks');\nconst payments = require('./payments');\nconst bip341_1 = require('./payments/bip341');\nconst bscript = require('./script');\nconst transaction_1 = require('./transaction');\nconst bip371_1 = require('./psbt/bip371');\nconst psbtutils_1 = require('./psbt/psbtutils');\n/**\n * These are the default arguments for a Psbt instance.\n */\nconst DEFAULT_OPTS = {\n  /**\n   * A bitcoinjs Network object. This is only used if you pass an `address`\n   * parameter to addOutput. Otherwise it is not needed and can be left default.\n   */\n  network: networks_1.bitcoin,\n  /**\n   * When extractTransaction is called, the fee rate is checked.\n   * THIS IS NOT TO BE RELIED ON.\n   * It is only here as a last ditch effort to prevent sending a 500 BTC fee etc.\n   */\n  maximumFeeRate: 5000, // satoshi per byte\n};\n/**\n * Psbt class can parse and generate a PSBT binary based off of the BIP174.\n * There are 6 roles that this class fulfills. (Explained in BIP174)\n *\n * Creator: This can be done with `new Psbt()`\n * Updater: This can be done with `psbt.addInput(input)`, `psbt.addInputs(inputs)`,\n *   `psbt.addOutput(output)`, `psbt.addOutputs(outputs)` when you are looking to\n *   add new inputs and outputs to the PSBT, and `psbt.updateGlobal(itemObject)`,\n *   `psbt.updateInput(itemObject)`, `psbt.updateOutput(itemObject)`\n *   addInput requires hash: Buffer | string; and index: number; as attributes\n *   and can also include any attributes that are used in updateInput method.\n *   addOutput requires script: Buffer; and value: number; and likewise can include\n *   data for updateOutput.\n *   For a list of what attributes should be what types. Check the bip174 library.\n *   Also, check the integration tests for some examples of usage.\n * Signer: There are a few methods. signAllInputs and signAllInputsAsync, which will search all input\n *   information for your pubkey or pubkeyhash, and only sign inputs where it finds\n *   your info. Or you can explicitly sign a specific input with signInput and\n *   signInputAsync. For the async methods you can create a SignerAsync object\n *   and use something like a hardware wallet to sign with. (You must implement this)\n * Combiner: psbts can be combined easily with `psbt.combine(psbt2, psbt3, psbt4 ...)`\n *   the psbt calling combine will always have precedence when a conflict occurs.\n *   Combine checks if the internal bitcoin transaction is the same, so be sure that\n *   all sequences, version, locktime, etc. are the same before combining.\n * Input Finalizer: This role is fairly important. Not only does it need to construct\n *   the input scriptSigs and witnesses, but it SHOULD verify the signatures etc.\n *   Before running `psbt.finalizeAllInputs()` please run `psbt.validateSignaturesOfAllInputs()`\n *   Running any finalize method will delete any data in the input(s) that are no longer\n *   needed due to the finalized scripts containing the information.\n * Transaction Extractor: This role will perform some checks before returning a\n *   Transaction object. Such as fee rate not being larger than maximumFeeRate etc.\n */\nclass Psbt {\n  static fromBase64(data, opts = {}) {\n    const buffer = Buffer.from(data, 'base64');\n    return this.fromBuffer(buffer, opts);\n  }\n  static fromHex(data, opts = {}) {\n    const buffer = Buffer.from(data, 'hex');\n    return this.fromBuffer(buffer, opts);\n  }\n  static fromBuffer(buffer, opts = {}) {\n    const psbtBase = bip174_1.Psbt.fromBuffer(buffer, transactionFromBuffer);\n    const psbt = new Psbt(opts, psbtBase);\n    checkTxForDupeIns(psbt.__CACHE.__TX, psbt.__CACHE);\n    return psbt;\n  }\n  constructor(opts = {}, data = new bip174_1.Psbt(new PsbtTransaction())) {\n    this.data = data;\n    // set defaults\n    this.opts = Object.assign({}, DEFAULT_OPTS, opts);\n    this.__CACHE = {\n      __NON_WITNESS_UTXO_TX_CACHE: [],\n      __NON_WITNESS_UTXO_BUF_CACHE: [],\n      __TX_IN_CACHE: {},\n      __TX: this.data.globalMap.unsignedTx.tx,\n      // Psbt's predecesor (TransactionBuilder - now removed) behavior\n      // was to not confirm input values  before signing.\n      // Even though we highly encourage people to get\n      // the full parent transaction to verify values, the ability to\n      // sign non-segwit inputs without the full transaction was often\n      // requested. So the only way to activate is to use @ts-ignore.\n      // We will disable exporting the Psbt when unsafe sign is active.\n      // because it is not BIP174 compliant.\n      __UNSAFE_SIGN_NONSEGWIT: false,\n    };\n    if (this.data.inputs.length === 0) this.setVersion(2);\n    // Make data hidden when enumerating\n    const dpew = (obj, attr, enumerable, writable) =>\n      Object.defineProperty(obj, attr, {\n        enumerable,\n        writable,\n      });\n    dpew(this, '__CACHE', false, true);\n    dpew(this, 'opts', false, true);\n  }\n  get inputCount() {\n    return this.data.inputs.length;\n  }\n  get version() {\n    return this.__CACHE.__TX.version;\n  }\n  set version(version) {\n    this.setVersion(version);\n  }\n  get locktime() {\n    return this.__CACHE.__TX.locktime;\n  }\n  set locktime(locktime) {\n    this.setLocktime(locktime);\n  }\n  get txInputs() {\n    return this.__CACHE.__TX.ins.map(input => ({\n      hash: (0, bufferutils_1.cloneBuffer)(input.hash),\n      index: input.index,\n      sequence: input.sequence,\n    }));\n  }\n  get txOutputs() {\n    return this.__CACHE.__TX.outs.map(output => {\n      let address;\n      try {\n        address = (0, address_1.fromOutputScript)(\n          output.script,\n          this.opts.network,\n        );\n      } catch (_) {}\n      return {\n        script: (0, bufferutils_1.cloneBuffer)(output.script),\n        value: output.value,\n        address,\n      };\n    });\n  }\n  combine(...those) {\n    this.data.combine(...those.map(o => o.data));\n    return this;\n  }\n  clone() {\n    // TODO: more efficient cloning\n    const res = Psbt.fromBuffer(this.data.toBuffer());\n    res.opts = JSON.parse(JSON.stringify(this.opts));\n    return res;\n  }\n  setMaximumFeeRate(satoshiPerByte) {\n    check32Bit(satoshiPerByte); // 42.9 BTC per byte IS excessive... so throw\n    this.opts.maximumFeeRate = satoshiPerByte;\n  }\n  setVersion(version) {\n    check32Bit(version);\n    checkInputsForPartialSig(this.data.inputs, 'setVersion');\n    const c = this.__CACHE;\n    c.__TX.version = version;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  setLocktime(locktime) {\n    check32Bit(locktime);\n    checkInputsForPartialSig(this.data.inputs, 'setLocktime');\n    const c = this.__CACHE;\n    c.__TX.locktime = locktime;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  setInputSequence(inputIndex, sequence) {\n    check32Bit(sequence);\n    checkInputsForPartialSig(this.data.inputs, 'setInputSequence');\n    const c = this.__CACHE;\n    if (c.__TX.ins.length <= inputIndex) {\n      throw new Error('Input index too high');\n    }\n    c.__TX.ins[inputIndex].sequence = sequence;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  addInputs(inputDatas) {\n    inputDatas.forEach(inputData => this.addInput(inputData));\n    return this;\n  }\n  addInput(inputData) {\n    if (\n      arguments.length > 1 ||\n      !inputData ||\n      inputData.hash === undefined ||\n      inputData.index === undefined\n    ) {\n      throw new Error(\n        `Invalid arguments for Psbt.addInput. ` +\n          `Requires single object with at least [hash] and [index]`,\n      );\n    }\n    (0, bip371_1.checkTaprootInputFields)(inputData, inputData, 'addInput');\n    checkInputsForPartialSig(this.data.inputs, 'addInput');\n    if (inputData.witnessScript) checkInvalidP2WSH(inputData.witnessScript);\n    const c = this.__CACHE;\n    this.data.addInput(inputData);\n    const txIn = c.__TX.ins[c.__TX.ins.length - 1];\n    checkTxInputCache(c, txIn);\n    const inputIndex = this.data.inputs.length - 1;\n    const input = this.data.inputs[inputIndex];\n    if (input.nonWitnessUtxo) {\n      addNonWitnessTxCache(this.__CACHE, input, inputIndex);\n    }\n    c.__FEE = undefined;\n    c.__FEE_RATE = undefined;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  addOutputs(outputDatas) {\n    outputDatas.forEach(outputData => this.addOutput(outputData));\n    return this;\n  }\n  addOutput(outputData) {\n    if (\n      arguments.length > 1 ||\n      !outputData ||\n      outputData.value === undefined ||\n      (outputData.address === undefined && outputData.script === undefined)\n    ) {\n      throw new Error(\n        `Invalid arguments for Psbt.addOutput. ` +\n          `Requires single object with at least [script or address] and [value]`,\n      );\n    }\n    checkInputsForPartialSig(this.data.inputs, 'addOutput');\n    const { address } = outputData;\n    if (typeof address === 'string') {\n      const { network } = this.opts;\n      const script = (0, address_1.toOutputScript)(address, network);\n      outputData = Object.assign(outputData, { script });\n    }\n    (0, bip371_1.checkTaprootOutputFields)(outputData, outputData, 'addOutput');\n    const c = this.__CACHE;\n    this.data.addOutput(outputData);\n    c.__FEE = undefined;\n    c.__FEE_RATE = undefined;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  extractTransaction(disableFeeCheck) {\n    if (!this.data.inputs.every(isFinalized)) throw new Error('Not finalized');\n    const c = this.__CACHE;\n    if (!disableFeeCheck) {\n      checkFees(this, c, this.opts);\n    }\n    if (c.__EXTRACTED_TX) return c.__EXTRACTED_TX;\n    const tx = c.__TX.clone();\n    inputFinalizeGetAmts(this.data.inputs, tx, c, true);\n    return tx;\n  }\n  getFeeRate() {\n    return getTxCacheValue(\n      '__FEE_RATE',\n      'fee rate',\n      this.data.inputs,\n      this.__CACHE,\n    );\n  }\n  getFee() {\n    return getTxCacheValue('__FEE', 'fee', this.data.inputs, this.__CACHE);\n  }\n  finalizeAllInputs() {\n    (0, utils_1.checkForInput)(this.data.inputs, 0); // making sure we have at least one\n    range(this.data.inputs.length).forEach(idx => this.finalizeInput(idx));\n    return this;\n  }\n  finalizeInput(inputIndex, finalScriptsFunc) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    if ((0, bip371_1.isTaprootInput)(input))\n      return this._finalizeTaprootInput(\n        inputIndex,\n        input,\n        undefined,\n        finalScriptsFunc,\n      );\n    return this._finalizeInput(inputIndex, input, finalScriptsFunc);\n  }\n  finalizeTaprootInput(\n    inputIndex,\n    tapLeafHashToFinalize,\n    finalScriptsFunc = bip371_1.tapScriptFinalizer,\n  ) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    if ((0, bip371_1.isTaprootInput)(input))\n      return this._finalizeTaprootInput(\n        inputIndex,\n        input,\n        tapLeafHashToFinalize,\n        finalScriptsFunc,\n      );\n    throw new Error(`Cannot finalize input #${inputIndex}. Not Taproot.`);\n  }\n  _finalizeInput(inputIndex, input, finalScriptsFunc = getFinalScripts) {\n    const { script, isP2SH, isP2WSH, isSegwit } = getScriptFromInput(\n      inputIndex,\n      input,\n      this.__CACHE,\n    );\n    if (!script) throw new Error(`No script found for input #${inputIndex}`);\n    checkPartialSigSighashes(input);\n    const { finalScriptSig, finalScriptWitness } = finalScriptsFunc(\n      inputIndex,\n      input,\n      script,\n      isSegwit,\n      isP2SH,\n      isP2WSH,\n    );\n    if (finalScriptSig) this.data.updateInput(inputIndex, { finalScriptSig });\n    if (finalScriptWitness)\n      this.data.updateInput(inputIndex, { finalScriptWitness });\n    if (!finalScriptSig && !finalScriptWitness)\n      throw new Error(`Unknown error finalizing input #${inputIndex}`);\n    this.data.clearFinalizedInput(inputIndex);\n    return this;\n  }\n  _finalizeTaprootInput(\n    inputIndex,\n    input,\n    tapLeafHashToFinalize,\n    finalScriptsFunc = bip371_1.tapScriptFinalizer,\n  ) {\n    if (!input.witnessUtxo)\n      throw new Error(\n        `Cannot finalize input #${inputIndex}. Missing withness utxo.`,\n      );\n    // Check key spend first. Increased privacy and reduced block space.\n    if (input.tapKeySig) {\n      const payment = payments.p2tr({\n        output: input.witnessUtxo.script,\n        signature: input.tapKeySig,\n      });\n      const finalScriptWitness = (0, psbtutils_1.witnessStackToScriptWitness)(\n        payment.witness,\n      );\n      this.data.updateInput(inputIndex, { finalScriptWitness });\n    } else {\n      const { finalScriptWitness } = finalScriptsFunc(\n        inputIndex,\n        input,\n        tapLeafHashToFinalize,\n      );\n      this.data.updateInput(inputIndex, { finalScriptWitness });\n    }\n    this.data.clearFinalizedInput(inputIndex);\n    return this;\n  }\n  getInputType(inputIndex) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    const script = getScriptFromUtxo(inputIndex, input, this.__CACHE);\n    const result = getMeaningfulScript(\n      script,\n      inputIndex,\n      'input',\n      input.redeemScript || redeemFromFinalScriptSig(input.finalScriptSig),\n      input.witnessScript ||\n        redeemFromFinalWitnessScript(input.finalScriptWitness),\n    );\n    const type = result.type === 'raw' ? '' : result.type + '-';\n    const mainType = classifyScript(result.meaningfulScript);\n    return type + mainType;\n  }\n  inputHasPubkey(inputIndex, pubkey) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    return pubkeyInInput(pubkey, input, inputIndex, this.__CACHE);\n  }\n  inputHasHDKey(inputIndex, root) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    const derivationIsMine = bip32DerivationIsMine(root);\n    return (\n      !!input.bip32Derivation && input.bip32Derivation.some(derivationIsMine)\n    );\n  }\n  outputHasPubkey(outputIndex, pubkey) {\n    const output = (0, utils_1.checkForOutput)(this.data.outputs, outputIndex);\n    return pubkeyInOutput(pubkey, output, outputIndex, this.__CACHE);\n  }\n  outputHasHDKey(outputIndex, root) {\n    const output = (0, utils_1.checkForOutput)(this.data.outputs, outputIndex);\n    const derivationIsMine = bip32DerivationIsMine(root);\n    return (\n      !!output.bip32Derivation && output.bip32Derivation.some(derivationIsMine)\n    );\n  }\n  validateSignaturesOfAllInputs(validator) {\n    (0, utils_1.checkForInput)(this.data.inputs, 0); // making sure we have at least one\n    const results = range(this.data.inputs.length).map(idx =>\n      this.validateSignaturesOfInput(idx, validator),\n    );\n    return results.reduce((final, res) => res === true && final, true);\n  }\n  validateSignaturesOfInput(inputIndex, validator, pubkey) {\n    const input = this.data.inputs[inputIndex];\n    if ((0, bip371_1.isTaprootInput)(input))\n      return this.validateSignaturesOfTaprootInput(\n        inputIndex,\n        validator,\n        pubkey,\n      );\n    return this._validateSignaturesOfInput(inputIndex, validator, pubkey);\n  }\n  _validateSignaturesOfInput(inputIndex, validator, pubkey) {\n    const input = this.data.inputs[inputIndex];\n    const partialSig = (input || {}).partialSig;\n    if (!input || !partialSig || partialSig.length < 1)\n      throw new Error('No signatures to validate');\n    if (typeof validator !== 'function')\n      throw new Error('Need validator function to validate signatures');\n    const mySigs = pubkey\n      ? partialSig.filter(sig => sig.pubkey.equals(pubkey))\n      : partialSig;\n    if (mySigs.length < 1) throw new Error('No signatures for this pubkey');\n    const results = [];\n    let hashCache;\n    let scriptCache;\n    let sighashCache;\n    for (const pSig of mySigs) {\n      const sig = bscript.signature.decode(pSig.signature);\n      const { hash, script } =\n        sighashCache !== sig.hashType\n          ? getHashForSig(\n              inputIndex,\n              Object.assign({}, input, { sighashType: sig.hashType }),\n              this.__CACHE,\n              true,\n            )\n          : { hash: hashCache, script: scriptCache };\n      sighashCache = sig.hashType;\n      hashCache = hash;\n      scriptCache = script;\n      checkScriptForPubkey(pSig.pubkey, script, 'verify');\n      results.push(validator(pSig.pubkey, hash, sig.signature));\n    }\n    return results.every(res => res === true);\n  }\n  validateSignaturesOfTaprootInput(inputIndex, validator, pubkey) {\n    const input = this.data.inputs[inputIndex];\n    const tapKeySig = (input || {}).tapKeySig;\n    const tapScriptSig = (input || {}).tapScriptSig;\n    if (!input && !tapKeySig && !(tapScriptSig && !tapScriptSig.length))\n      throw new Error('No signatures to validate');\n    if (typeof validator !== 'function')\n      throw new Error('Need validator function to validate signatures');\n    pubkey = pubkey && (0, bip371_1.toXOnly)(pubkey);\n    const allHashses = pubkey\n      ? getTaprootHashesForSig(\n          inputIndex,\n          input,\n          this.data.inputs,\n          pubkey,\n          this.__CACHE,\n        )\n      : getAllTaprootHashesForSig(\n          inputIndex,\n          input,\n          this.data.inputs,\n          this.__CACHE,\n        );\n    if (!allHashses.length) throw new Error('No signatures for this pubkey');\n    const tapKeyHash = allHashses.find(h => !h.leafHash);\n    let validationResultCount = 0;\n    if (tapKeySig && tapKeyHash) {\n      const isValidTapkeySig = validator(\n        tapKeyHash.pubkey,\n        tapKeyHash.hash,\n        trimTaprootSig(tapKeySig),\n      );\n      if (!isValidTapkeySig) return false;\n      validationResultCount++;\n    }\n    if (tapScriptSig) {\n      for (const tapSig of tapScriptSig) {\n        const tapSigHash = allHashses.find(h => tapSig.pubkey.equals(h.pubkey));\n        if (tapSigHash) {\n          const isValidTapScriptSig = validator(\n            tapSig.pubkey,\n            tapSigHash.hash,\n            trimTaprootSig(tapSig.signature),\n          );\n          if (!isValidTapScriptSig) return false;\n          validationResultCount++;\n        }\n      }\n    }\n    return validationResultCount > 0;\n  }\n  signAllInputsHD(\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n      throw new Error('Need HDSigner to sign input');\n    }\n    const results = [];\n    for (const i of range(this.data.inputs.length)) {\n      try {\n        this.signInputHD(i, hdKeyPair, sighashTypes);\n        results.push(true);\n      } catch (err) {\n        results.push(false);\n      }\n    }\n    if (results.every(v => v === false)) {\n      throw new Error('No inputs were signed');\n    }\n    return this;\n  }\n  signAllInputsHDAsync(\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    return new Promise((resolve, reject) => {\n      if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n        return reject(new Error('Need HDSigner to sign input'));\n      }\n      const results = [];\n      const promises = [];\n      for (const i of range(this.data.inputs.length)) {\n        promises.push(\n          this.signInputHDAsync(i, hdKeyPair, sighashTypes).then(\n            () => {\n              results.push(true);\n            },\n            () => {\n              results.push(false);\n            },\n          ),\n        );\n      }\n      return Promise.all(promises).then(() => {\n        if (results.every(v => v === false)) {\n          return reject(new Error('No inputs were signed'));\n        }\n        resolve();\n      });\n    });\n  }\n  signInputHD(\n    inputIndex,\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n      throw new Error('Need HDSigner to sign input');\n    }\n    const signers = getSignersFromHD(inputIndex, this.data.inputs, hdKeyPair);\n    signers.forEach(signer => this.signInput(inputIndex, signer, sighashTypes));\n    return this;\n  }\n  signInputHDAsync(\n    inputIndex,\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    return new Promise((resolve, reject) => {\n      if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n        return reject(new Error('Need HDSigner to sign input'));\n      }\n      const signers = getSignersFromHD(inputIndex, this.data.inputs, hdKeyPair);\n      const promises = signers.map(signer =>\n        this.signInputAsync(inputIndex, signer, sighashTypes),\n      );\n      return Promise.all(promises)\n        .then(() => {\n          resolve();\n        })\n        .catch(reject);\n    });\n  }\n  signAllInputs(keyPair, sighashTypes) {\n    if (!keyPair || !keyPair.publicKey)\n      throw new Error('Need Signer to sign input');\n    // TODO: Add a pubkey/pubkeyhash cache to each input\n    // as input information is added, then eventually\n    // optimize this method.\n    const results = [];\n    for (const i of range(this.data.inputs.length)) {\n      try {\n        this.signInput(i, keyPair, sighashTypes);\n        results.push(true);\n      } catch (err) {\n        results.push(false);\n      }\n    }\n    if (results.every(v => v === false)) {\n      throw new Error('No inputs were signed');\n    }\n    return this;\n  }\n  signAllInputsAsync(keyPair, sighashTypes) {\n    return new Promise((resolve, reject) => {\n      if (!keyPair || !keyPair.publicKey)\n        return reject(new Error('Need Signer to sign input'));\n      // TODO: Add a pubkey/pubkeyhash cache to each input\n      // as input information is added, then eventually\n      // optimize this method.\n      const results = [];\n      const promises = [];\n      for (const [i] of this.data.inputs.entries()) {\n        promises.push(\n          this.signInputAsync(i, keyPair, sighashTypes).then(\n            () => {\n              results.push(true);\n            },\n            () => {\n              results.push(false);\n            },\n          ),\n        );\n      }\n      return Promise.all(promises).then(() => {\n        if (results.every(v => v === false)) {\n          return reject(new Error('No inputs were signed'));\n        }\n        resolve();\n      });\n    });\n  }\n  signInput(inputIndex, keyPair, sighashTypes) {\n    if (!keyPair || !keyPair.publicKey)\n      throw new Error('Need Signer to sign input');\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    if ((0, bip371_1.isTaprootInput)(input)) {\n      return this._signTaprootInput(\n        inputIndex,\n        input,\n        keyPair,\n        undefined,\n        sighashTypes,\n      );\n    }\n    return this._signInput(inputIndex, keyPair, sighashTypes);\n  }\n  signTaprootInput(inputIndex, keyPair, tapLeafHashToSign, sighashTypes) {\n    if (!keyPair || !keyPair.publicKey)\n      throw new Error('Need Signer to sign input');\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    if ((0, bip371_1.isTaprootInput)(input))\n      return this._signTaprootInput(\n        inputIndex,\n        input,\n        keyPair,\n        tapLeafHashToSign,\n        sighashTypes,\n      );\n    throw new Error(`Input #${inputIndex} is not of type Taproot.`);\n  }\n  _signInput(\n    inputIndex,\n    keyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    const { hash, sighashType } = getHashAndSighashType(\n      this.data.inputs,\n      inputIndex,\n      keyPair.publicKey,\n      this.__CACHE,\n      sighashTypes,\n    );\n    const partialSig = [\n      {\n        pubkey: keyPair.publicKey,\n        signature: bscript.signature.encode(keyPair.sign(hash), sighashType),\n      },\n    ];\n    this.data.updateInput(inputIndex, { partialSig });\n    return this;\n  }\n  _signTaprootInput(\n    inputIndex,\n    input,\n    keyPair,\n    tapLeafHashToSign,\n    allowedSighashTypes = [transaction_1.Transaction.SIGHASH_DEFAULT],\n  ) {\n    const hashesForSig = this.checkTaprootHashesForSig(\n      inputIndex,\n      input,\n      keyPair,\n      tapLeafHashToSign,\n      allowedSighashTypes,\n    );\n    const tapKeySig = hashesForSig\n      .filter(h => !h.leafHash)\n      .map(h =>\n        (0, bip371_1.serializeTaprootSignature)(\n          keyPair.signSchnorr(h.hash),\n          input.sighashType,\n        ),\n      )[0];\n    const tapScriptSig = hashesForSig\n      .filter(h => !!h.leafHash)\n      .map(h => ({\n        pubkey: (0, bip371_1.toXOnly)(keyPair.publicKey),\n        signature: (0, bip371_1.serializeTaprootSignature)(\n          keyPair.signSchnorr(h.hash),\n          input.sighashType,\n        ),\n        leafHash: h.leafHash,\n      }));\n    if (tapKeySig) {\n      this.data.updateInput(inputIndex, { tapKeySig });\n    }\n    if (tapScriptSig.length) {\n      this.data.updateInput(inputIndex, { tapScriptSig });\n    }\n    return this;\n  }\n  signInputAsync(inputIndex, keyPair, sighashTypes) {\n    return Promise.resolve().then(() => {\n      if (!keyPair || !keyPair.publicKey)\n        throw new Error('Need Signer to sign input');\n      const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n      if ((0, bip371_1.isTaprootInput)(input))\n        return this._signTaprootInputAsync(\n          inputIndex,\n          input,\n          keyPair,\n          undefined,\n          sighashTypes,\n        );\n      return this._signInputAsync(inputIndex, keyPair, sighashTypes);\n    });\n  }\n  signTaprootInputAsync(inputIndex, keyPair, tapLeafHash, sighashTypes) {\n    return Promise.resolve().then(() => {\n      if (!keyPair || !keyPair.publicKey)\n        throw new Error('Need Signer to sign input');\n      const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n      if ((0, bip371_1.isTaprootInput)(input))\n        return this._signTaprootInputAsync(\n          inputIndex,\n          input,\n          keyPair,\n          tapLeafHash,\n          sighashTypes,\n        );\n      throw new Error(`Input #${inputIndex} is not of type Taproot.`);\n    });\n  }\n  _signInputAsync(\n    inputIndex,\n    keyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    const { hash, sighashType } = getHashAndSighashType(\n      this.data.inputs,\n      inputIndex,\n      keyPair.publicKey,\n      this.__CACHE,\n      sighashTypes,\n    );\n    return Promise.resolve(keyPair.sign(hash)).then(signature => {\n      const partialSig = [\n        {\n          pubkey: keyPair.publicKey,\n          signature: bscript.signature.encode(signature, sighashType),\n        },\n      ];\n      this.data.updateInput(inputIndex, { partialSig });\n    });\n  }\n  async _signTaprootInputAsync(\n    inputIndex,\n    input,\n    keyPair,\n    tapLeafHash,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_DEFAULT],\n  ) {\n    const hashesForSig = this.checkTaprootHashesForSig(\n      inputIndex,\n      input,\n      keyPair,\n      tapLeafHash,\n      sighashTypes,\n    );\n    const signaturePromises = [];\n    const tapKeyHash = hashesForSig.filter(h => !h.leafHash)[0];\n    if (tapKeyHash) {\n      const tapKeySigPromise = Promise.resolve(\n        keyPair.signSchnorr(tapKeyHash.hash),\n      ).then(sig => {\n        return {\n          tapKeySig: (0, bip371_1.serializeTaprootSignature)(\n            sig,\n            input.sighashType,\n          ),\n        };\n      });\n      signaturePromises.push(tapKeySigPromise);\n    }\n    const tapScriptHashes = hashesForSig.filter(h => !!h.leafHash);\n    if (tapScriptHashes.length) {\n      const tapScriptSigPromises = tapScriptHashes.map(tsh => {\n        return Promise.resolve(keyPair.signSchnorr(tsh.hash)).then(\n          signature => {\n            const tapScriptSig = [\n              {\n                pubkey: (0, bip371_1.toXOnly)(keyPair.publicKey),\n                signature: (0, bip371_1.serializeTaprootSignature)(\n                  signature,\n                  input.sighashType,\n                ),\n                leafHash: tsh.leafHash,\n              },\n            ];\n            return { tapScriptSig };\n          },\n        );\n      });\n      signaturePromises.push(...tapScriptSigPromises);\n    }\n    return Promise.all(signaturePromises).then(results => {\n      results.forEach(v => this.data.updateInput(inputIndex, v));\n    });\n  }\n  checkTaprootHashesForSig(\n    inputIndex,\n    input,\n    keyPair,\n    tapLeafHashToSign,\n    allowedSighashTypes,\n  ) {\n    if (typeof keyPair.signSchnorr !== 'function')\n      throw new Error(\n        `Need Schnorr Signer to sign taproot input #${inputIndex}.`,\n      );\n    const hashesForSig = getTaprootHashesForSig(\n      inputIndex,\n      input,\n      this.data.inputs,\n      keyPair.publicKey,\n      this.__CACHE,\n      tapLeafHashToSign,\n      allowedSighashTypes,\n    );\n    if (!hashesForSig || !hashesForSig.length)\n      throw new Error(\n        `Can not sign for input #${inputIndex} with the key ${keyPair.publicKey.toString(\n          'hex',\n        )}`,\n      );\n    return hashesForSig;\n  }\n  toBuffer() {\n    checkCache(this.__CACHE);\n    return this.data.toBuffer();\n  }\n  toHex() {\n    checkCache(this.__CACHE);\n    return this.data.toHex();\n  }\n  toBase64() {\n    checkCache(this.__CACHE);\n    return this.data.toBase64();\n  }\n  updateGlobal(updateData) {\n    this.data.updateGlobal(updateData);\n    return this;\n  }\n  updateInput(inputIndex, updateData) {\n    if (updateData.witnessScript) checkInvalidP2WSH(updateData.witnessScript);\n    (0, bip371_1.checkTaprootInputFields)(\n      this.data.inputs[inputIndex],\n      updateData,\n      'updateInput',\n    );\n    this.data.updateInput(inputIndex, updateData);\n    if (updateData.nonWitnessUtxo) {\n      addNonWitnessTxCache(\n        this.__CACHE,\n        this.data.inputs[inputIndex],\n        inputIndex,\n      );\n    }\n    return this;\n  }\n  updateOutput(outputIndex, updateData) {\n    const outputData = this.data.outputs[outputIndex];\n    (0, bip371_1.checkTaprootOutputFields)(\n      outputData,\n      updateData,\n      'updateOutput',\n    );\n    this.data.updateOutput(outputIndex, updateData);\n    return this;\n  }\n  addUnknownKeyValToGlobal(keyVal) {\n    this.data.addUnknownKeyValToGlobal(keyVal);\n    return this;\n  }\n  addUnknownKeyValToInput(inputIndex, keyVal) {\n    this.data.addUnknownKeyValToInput(inputIndex, keyVal);\n    return this;\n  }\n  addUnknownKeyValToOutput(outputIndex, keyVal) {\n    this.data.addUnknownKeyValToOutput(outputIndex, keyVal);\n    return this;\n  }\n  clearFinalizedInput(inputIndex) {\n    this.data.clearFinalizedInput(inputIndex);\n    return this;\n  }\n}\nexports.Psbt = Psbt;\n/**\n * This function is needed to pass to the bip174 base class's fromBuffer.\n * It takes the \"transaction buffer\" portion of the psbt buffer and returns a\n * Transaction (From the bip174 library) interface.\n */\nconst transactionFromBuffer = buffer => new PsbtTransaction(buffer);\n/**\n * This class implements the Transaction interface from bip174 library.\n * It contains a bitcoinjs-lib Transaction object.\n */\nclass PsbtTransaction {\n  constructor(buffer = Buffer.from([2, 0, 0, 0, 0, 0, 0, 0, 0, 0])) {\n    this.tx = transaction_1.Transaction.fromBuffer(buffer);\n    checkTxEmpty(this.tx);\n    Object.defineProperty(this, 'tx', {\n      enumerable: false,\n      writable: true,\n    });\n  }\n  getInputOutputCounts() {\n    return {\n      inputCount: this.tx.ins.length,\n      outputCount: this.tx.outs.length,\n    };\n  }\n  addInput(input) {\n    if (\n      input.hash === undefined ||\n      input.index === undefined ||\n      (!Buffer.isBuffer(input.hash) && typeof input.hash !== 'string') ||\n      typeof input.index !== 'number'\n    ) {\n      throw new Error('Error adding input.');\n    }\n    const hash =\n      typeof input.hash === 'string'\n        ? (0, bufferutils_1.reverseBuffer)(Buffer.from(input.hash, 'hex'))\n        : input.hash;\n    this.tx.addInput(hash, input.index, input.sequence);\n  }\n  addOutput(output) {\n    if (\n      output.script === undefined ||\n      output.value === undefined ||\n      !Buffer.isBuffer(output.script) ||\n      typeof output.value !== 'number'\n    ) {\n      throw new Error('Error adding output.');\n    }\n    this.tx.addOutput(output.script, output.value);\n  }\n  toBuffer() {\n    return this.tx.toBuffer();\n  }\n}\nfunction canFinalize(input, script, scriptType) {\n  switch (scriptType) {\n    case 'pubkey':\n    case 'pubkeyhash':\n    case 'witnesspubkeyhash':\n      return hasSigs(1, input.partialSig);\n    case 'multisig':\n      const p2ms = payments.p2ms({ output: script });\n      return hasSigs(p2ms.m, input.partialSig, p2ms.pubkeys);\n    default:\n      return false;\n  }\n}\nfunction checkCache(cache) {\n  if (cache.__UNSAFE_SIGN_NONSEGWIT !== false) {\n    throw new Error('Not BIP174 compliant, can not export');\n  }\n}\nfunction hasSigs(neededSigs, partialSig, pubkeys) {\n  if (!partialSig) return false;\n  let sigs;\n  if (pubkeys) {\n    sigs = pubkeys\n      .map(pkey => {\n        const pubkey = compressPubkey(pkey);\n        return partialSig.find(pSig => pSig.pubkey.equals(pubkey));\n      })\n      .filter(v => !!v);\n  } else {\n    sigs = partialSig;\n  }\n  if (sigs.length > neededSigs) throw new Error('Too many signatures');\n  return sigs.length === neededSigs;\n}\nfunction isFinalized(input) {\n  return !!input.finalScriptSig || !!input.finalScriptWitness;\n}\nfunction bip32DerivationIsMine(root) {\n  return d => {\n    if (!d.masterFingerprint.equals(root.fingerprint)) return false;\n    if (!root.derivePath(d.path).publicKey.equals(d.pubkey)) return false;\n    return true;\n  };\n}\nfunction check32Bit(num) {\n  if (\n    typeof num !== 'number' ||\n    num !== Math.floor(num) ||\n    num > 0xffffffff ||\n    num < 0\n  ) {\n    throw new Error('Invalid 32 bit integer');\n  }\n}\nfunction checkFees(psbt, cache, opts) {\n  const feeRate = cache.__FEE_RATE || psbt.getFeeRate();\n  const vsize = cache.__EXTRACTED_TX.virtualSize();\n  const satoshis = feeRate * vsize;\n  if (feeRate >= opts.maximumFeeRate) {\n    throw new Error(\n      `Warning: You are paying around ${(satoshis / 1e8).toFixed(8)} in ` +\n        `fees, which is ${feeRate} satoshi per byte for a transaction ` +\n        `with a VSize of ${vsize} bytes (segwit counted as 0.25 byte per ` +\n        `byte). Use setMaximumFeeRate method to raise your threshold, or ` +\n        `pass true to the first arg of extractTransaction.`,\n    );\n  }\n}\nfunction checkInputsForPartialSig(inputs, action) {\n  inputs.forEach(input => {\n    const throws = (0, bip371_1.isTaprootInput)(input)\n      ? (0, bip371_1.checkTaprootInputForSigs)(input, action)\n      : (0, psbtutils_1.checkInputForSig)(input, action);\n    if (throws)\n      throw new Error('Can not modify transaction, signatures exist.');\n  });\n}\nfunction checkPartialSigSighashes(input) {\n  if (!input.sighashType || !input.partialSig) return;\n  const { partialSig, sighashType } = input;\n  partialSig.forEach(pSig => {\n    const { hashType } = bscript.signature.decode(pSig.signature);\n    if (sighashType !== hashType) {\n      throw new Error('Signature sighash does not match input sighash type');\n    }\n  });\n}\nfunction checkScriptForPubkey(pubkey, script, action) {\n  if (!(0, psbtutils_1.pubkeyInScript)(pubkey, script)) {\n    throw new Error(\n      `Can not ${action} for this input with the key ${pubkey.toString('hex')}`,\n    );\n  }\n}\nfunction checkTxEmpty(tx) {\n  const isEmpty = tx.ins.every(\n    input =>\n      input.script &&\n      input.script.length === 0 &&\n      input.witness &&\n      input.witness.length === 0,\n  );\n  if (!isEmpty) {\n    throw new Error('Format Error: Transaction ScriptSigs are not empty');\n  }\n}\nfunction checkTxForDupeIns(tx, cache) {\n  tx.ins.forEach(input => {\n    checkTxInputCache(cache, input);\n  });\n}\nfunction checkTxInputCache(cache, input) {\n  const key =\n    (0, bufferutils_1.reverseBuffer)(Buffer.from(input.hash)).toString('hex') +\n    ':' +\n    input.index;\n  if (cache.__TX_IN_CACHE[key]) throw new Error('Duplicate input detected.');\n  cache.__TX_IN_CACHE[key] = 1;\n}\nfunction scriptCheckerFactory(payment, paymentScriptName) {\n  return (inputIndex, scriptPubKey, redeemScript, ioType) => {\n    const redeemScriptOutput = payment({\n      redeem: { output: redeemScript },\n    }).output;\n    if (!scriptPubKey.equals(redeemScriptOutput)) {\n      throw new Error(\n        `${paymentScriptName} for ${ioType} #${inputIndex} doesn't match the scriptPubKey in the prevout`,\n      );\n    }\n  };\n}\nconst checkRedeemScript = scriptCheckerFactory(payments.p2sh, 'Redeem script');\nconst checkWitnessScript = scriptCheckerFactory(\n  payments.p2wsh,\n  'Witness script',\n);\nfunction getTxCacheValue(key, name, inputs, c) {\n  if (!inputs.every(isFinalized))\n    throw new Error(`PSBT must be finalized to calculate ${name}`);\n  if (key === '__FEE_RATE' && c.__FEE_RATE) return c.__FEE_RATE;\n  if (key === '__FEE' && c.__FEE) return c.__FEE;\n  let tx;\n  let mustFinalize = true;\n  if (c.__EXTRACTED_TX) {\n    tx = c.__EXTRACTED_TX;\n    mustFinalize = false;\n  } else {\n    tx = c.__TX.clone();\n  }\n  inputFinalizeGetAmts(inputs, tx, c, mustFinalize);\n  if (key === '__FEE_RATE') return c.__FEE_RATE;\n  else if (key === '__FEE') return c.__FEE;\n}\nfunction getFinalScripts(inputIndex, input, script, isSegwit, isP2SH, isP2WSH) {\n  const scriptType = classifyScript(script);\n  if (!canFinalize(input, script, scriptType))\n    throw new Error(`Can not finalize input #${inputIndex}`);\n  return prepareFinalScripts(\n    script,\n    scriptType,\n    input.partialSig,\n    isSegwit,\n    isP2SH,\n    isP2WSH,\n  );\n}\nfunction prepareFinalScripts(\n  script,\n  scriptType,\n  partialSig,\n  isSegwit,\n  isP2SH,\n  isP2WSH,\n) {\n  let finalScriptSig;\n  let finalScriptWitness;\n  // Wow, the payments API is very handy\n  const payment = getPayment(script, scriptType, partialSig);\n  const p2wsh = !isP2WSH ? null : payments.p2wsh({ redeem: payment });\n  const p2sh = !isP2SH ? null : payments.p2sh({ redeem: p2wsh || payment });\n  if (isSegwit) {\n    if (p2wsh) {\n      finalScriptWitness = (0, psbtutils_1.witnessStackToScriptWitness)(\n        p2wsh.witness,\n      );\n    } else {\n      finalScriptWitness = (0, psbtutils_1.witnessStackToScriptWitness)(\n        payment.witness,\n      );\n    }\n    if (p2sh) {\n      finalScriptSig = p2sh.input;\n    }\n  } else {\n    if (p2sh) {\n      finalScriptSig = p2sh.input;\n    } else {\n      finalScriptSig = payment.input;\n    }\n  }\n  return {\n    finalScriptSig,\n    finalScriptWitness,\n  };\n}\nfunction getHashAndSighashType(\n  inputs,\n  inputIndex,\n  pubkey,\n  cache,\n  sighashTypes,\n) {\n  const input = (0, utils_1.checkForInput)(inputs, inputIndex);\n  const { hash, sighashType, script } = getHashForSig(\n    inputIndex,\n    input,\n    cache,\n    false,\n    sighashTypes,\n  );\n  checkScriptForPubkey(pubkey, script, 'sign');\n  return {\n    hash,\n    sighashType,\n  };\n}\nfunction getHashForSig(inputIndex, input, cache, forValidate, sighashTypes) {\n  const unsignedTx = cache.__TX;\n  const sighashType =\n    input.sighashType || transaction_1.Transaction.SIGHASH_ALL;\n  checkSighashTypeAllowed(sighashType, sighashTypes);\n  let hash;\n  let prevout;\n  if (input.nonWitnessUtxo) {\n    const nonWitnessUtxoTx = nonWitnessUtxoTxFromCache(\n      cache,\n      input,\n      inputIndex,\n    );\n    const prevoutHash = unsignedTx.ins[inputIndex].hash;\n    const utxoHash = nonWitnessUtxoTx.getHash();\n    // If a non-witness UTXO is provided, its hash must match the hash specified in the prevout\n    if (!prevoutHash.equals(utxoHash)) {\n      throw new Error(\n        `Non-witness UTXO hash for input #${inputIndex} doesn't match the hash specified in the prevout`,\n      );\n    }\n    const prevoutIndex = unsignedTx.ins[inputIndex].index;\n    prevout = nonWitnessUtxoTx.outs[prevoutIndex];\n  } else if (input.witnessUtxo) {\n    prevout = input.witnessUtxo;\n  } else {\n    throw new Error('Need a Utxo input item for signing');\n  }\n  const { meaningfulScript, type } = getMeaningfulScript(\n    prevout.script,\n    inputIndex,\n    'input',\n    input.redeemScript,\n    input.witnessScript,\n  );\n  if (['p2sh-p2wsh', 'p2wsh'].indexOf(type) >= 0) {\n    hash = unsignedTx.hashForWitnessV0(\n      inputIndex,\n      meaningfulScript,\n      prevout.value,\n      sighashType,\n    );\n  } else if ((0, psbtutils_1.isP2WPKH)(meaningfulScript)) {\n    // P2WPKH uses the P2PKH template for prevoutScript when signing\n    const signingScript = payments.p2pkh({\n      hash: meaningfulScript.slice(2),\n    }).output;\n    hash = unsignedTx.hashForWitnessV0(\n      inputIndex,\n      signingScript,\n      prevout.value,\n      sighashType,\n    );\n  } else {\n    // non-segwit\n    if (\n      input.nonWitnessUtxo === undefined &&\n      cache.__UNSAFE_SIGN_NONSEGWIT === false\n    )\n      throw new Error(\n        `Input #${inputIndex} has witnessUtxo but non-segwit script: ` +\n          `${meaningfulScript.toString('hex')}`,\n      );\n    if (!forValidate && cache.__UNSAFE_SIGN_NONSEGWIT !== false)\n      console.warn(\n        'Warning: Signing non-segwit inputs without the full parent transaction ' +\n          'means there is a chance that a miner could feed you incorrect information ' +\n          \"to trick you into paying large fees. This behavior is the same as Psbt's predecesor \" +\n          '(TransactionBuilder - now removed) when signing non-segwit scripts. You are not ' +\n          'able to export this Psbt with toBuffer|toBase64|toHex since it is not ' +\n          'BIP174 compliant.\\n*********************\\nPROCEED WITH CAUTION!\\n' +\n          '*********************',\n      );\n    hash = unsignedTx.hashForSignature(\n      inputIndex,\n      meaningfulScript,\n      sighashType,\n    );\n  }\n  return {\n    script: meaningfulScript,\n    sighashType,\n    hash,\n  };\n}\nfunction getAllTaprootHashesForSig(inputIndex, input, inputs, cache) {\n  const allPublicKeys = [];\n  if (input.tapInternalKey) {\n    const key = getPrevoutTaprootKey(inputIndex, input, cache);\n    if (key) {\n      allPublicKeys.push(key);\n    }\n  }\n  if (input.tapScriptSig) {\n    const tapScriptPubkeys = input.tapScriptSig.map(tss => tss.pubkey);\n    allPublicKeys.push(...tapScriptPubkeys);\n  }\n  const allHashes = allPublicKeys.map(pubicKey =>\n    getTaprootHashesForSig(inputIndex, input, inputs, pubicKey, cache),\n  );\n  return allHashes.flat();\n}\nfunction getPrevoutTaprootKey(inputIndex, input, cache) {\n  const { script } = getScriptAndAmountFromUtxo(inputIndex, input, cache);\n  return (0, psbtutils_1.isP2TR)(script) ? script.subarray(2, 34) : null;\n}\nfunction trimTaprootSig(signature) {\n  return signature.length === 64 ? signature : signature.subarray(0, 64);\n}\nfunction getTaprootHashesForSig(\n  inputIndex,\n  input,\n  inputs,\n  pubkey,\n  cache,\n  tapLeafHashToSign,\n  allowedSighashTypes,\n) {\n  const unsignedTx = cache.__TX;\n  const sighashType =\n    input.sighashType || transaction_1.Transaction.SIGHASH_DEFAULT;\n  checkSighashTypeAllowed(sighashType, allowedSighashTypes);\n  const prevOuts = inputs.map((i, index) =>\n    getScriptAndAmountFromUtxo(index, i, cache),\n  );\n  const signingScripts = prevOuts.map(o => o.script);\n  const values = prevOuts.map(o => o.value);\n  const hashes = [];\n  if (input.tapInternalKey && !tapLeafHashToSign) {\n    const outputKey =\n      getPrevoutTaprootKey(inputIndex, input, cache) || Buffer.from([]);\n    if ((0, bip371_1.toXOnly)(pubkey).equals(outputKey)) {\n      const tapKeyHash = unsignedTx.hashForWitnessV1(\n        inputIndex,\n        signingScripts,\n        values,\n        sighashType,\n      );\n      hashes.push({ pubkey, hash: tapKeyHash });\n    }\n  }\n  const tapLeafHashes = (input.tapLeafScript || [])\n    .filter(tapLeaf => (0, psbtutils_1.pubkeyInScript)(pubkey, tapLeaf.script))\n    .map(tapLeaf => {\n      const hash = (0, bip341_1.tapleafHash)({\n        output: tapLeaf.script,\n        version: tapLeaf.leafVersion,\n      });\n      return Object.assign({ hash }, tapLeaf);\n    })\n    .filter(\n      tapLeaf => !tapLeafHashToSign || tapLeafHashToSign.equals(tapLeaf.hash),\n    )\n    .map(tapLeaf => {\n      const tapScriptHash = unsignedTx.hashForWitnessV1(\n        inputIndex,\n        signingScripts,\n        values,\n        transaction_1.Transaction.SIGHASH_DEFAULT,\n        tapLeaf.hash,\n      );\n      return {\n        pubkey,\n        hash: tapScriptHash,\n        leafHash: tapLeaf.hash,\n      };\n    });\n  return hashes.concat(tapLeafHashes);\n}\nfunction checkSighashTypeAllowed(sighashType, sighashTypes) {\n  if (sighashTypes && sighashTypes.indexOf(sighashType) < 0) {\n    const str = sighashTypeToString(sighashType);\n    throw new Error(\n      `Sighash type is not allowed. Retry the sign method passing the ` +\n        `sighashTypes array of whitelisted types. Sighash type: ${str}`,\n    );\n  }\n}\nfunction getPayment(script, scriptType, partialSig) {\n  let payment;\n  switch (scriptType) {\n    case 'multisig':\n      const sigs = getSortedSigs(script, partialSig);\n      payment = payments.p2ms({\n        output: script,\n        signatures: sigs,\n      });\n      break;\n    case 'pubkey':\n      payment = payments.p2pk({\n        output: script,\n        signature: partialSig[0].signature,\n      });\n      break;\n    case 'pubkeyhash':\n      payment = payments.p2pkh({\n        output: script,\n        pubkey: partialSig[0].pubkey,\n        signature: partialSig[0].signature,\n      });\n      break;\n    case 'witnesspubkeyhash':\n      payment = payments.p2wpkh({\n        output: script,\n        pubkey: partialSig[0].pubkey,\n        signature: partialSig[0].signature,\n      });\n      break;\n  }\n  return payment;\n}\nfunction getScriptFromInput(inputIndex, input, cache) {\n  const unsignedTx = cache.__TX;\n  const res = {\n    script: null,\n    isSegwit: false,\n    isP2SH: false,\n    isP2WSH: false,\n  };\n  res.isP2SH = !!input.redeemScript;\n  res.isP2WSH = !!input.witnessScript;\n  if (input.witnessScript) {\n    res.script = input.witnessScript;\n  } else if (input.redeemScript) {\n    res.script = input.redeemScript;\n  } else {\n    if (input.nonWitnessUtxo) {\n      const nonWitnessUtxoTx = nonWitnessUtxoTxFromCache(\n        cache,\n        input,\n        inputIndex,\n      );\n      const prevoutIndex = unsignedTx.ins[inputIndex].index;\n      res.script = nonWitnessUtxoTx.outs[prevoutIndex].script;\n    } else if (input.witnessUtxo) {\n      res.script = input.witnessUtxo.script;\n    }\n  }\n  if (input.witnessScript || (0, psbtutils_1.isP2WPKH)(res.script)) {\n    res.isSegwit = true;\n  }\n  return res;\n}\nfunction getSignersFromHD(inputIndex, inputs, hdKeyPair) {\n  const input = (0, utils_1.checkForInput)(inputs, inputIndex);\n  if (!input.bip32Derivation || input.bip32Derivation.length === 0) {\n    throw new Error('Need bip32Derivation to sign with HD');\n  }\n  const myDerivations = input.bip32Derivation\n    .map(bipDv => {\n      if (bipDv.masterFingerprint.equals(hdKeyPair.fingerprint)) {\n        return bipDv;\n      } else {\n        return;\n      }\n    })\n    .filter(v => !!v);\n  if (myDerivations.length === 0) {\n    throw new Error(\n      'Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint',\n    );\n  }\n  const signers = myDerivations.map(bipDv => {\n    const node = hdKeyPair.derivePath(bipDv.path);\n    if (!bipDv.pubkey.equals(node.publicKey)) {\n      throw new Error('pubkey did not match bip32Derivation');\n    }\n    return node;\n  });\n  return signers;\n}\nfunction getSortedSigs(script, partialSig) {\n  const p2ms = payments.p2ms({ output: script });\n  // for each pubkey in order of p2ms script\n  return p2ms.pubkeys\n    .map(pk => {\n      // filter partialSig array by pubkey being equal\n      return (\n        partialSig.filter(ps => {\n          return ps.pubkey.equals(pk);\n        })[0] || {}\n      ).signature;\n      // Any pubkey without a match will return undefined\n      // this last filter removes all the undefined items in the array.\n    })\n    .filter(v => !!v);\n}\nfunction scriptWitnessToWitnessStack(buffer) {\n  let offset = 0;\n  function readSlice(n) {\n    offset += n;\n    return buffer.slice(offset - n, offset);\n  }\n  function readVarInt() {\n    const vi = varuint.decode(buffer, offset);\n    offset += varuint.decode.bytes;\n    return vi;\n  }\n  function readVarSlice() {\n    return readSlice(readVarInt());\n  }\n  function readVector() {\n    const count = readVarInt();\n    const vector = [];\n    for (let i = 0; i < count; i++) vector.push(readVarSlice());\n    return vector;\n  }\n  return readVector();\n}\nfunction sighashTypeToString(sighashType) {\n  let text =\n    sighashType & transaction_1.Transaction.SIGHASH_ANYONECANPAY\n      ? 'SIGHASH_ANYONECANPAY | '\n      : '';\n  const sigMod = sighashType & 0x1f;\n  switch (sigMod) {\n    case transaction_1.Transaction.SIGHASH_ALL:\n      text += 'SIGHASH_ALL';\n      break;\n    case transaction_1.Transaction.SIGHASH_SINGLE:\n      text += 'SIGHASH_SINGLE';\n      break;\n    case transaction_1.Transaction.SIGHASH_NONE:\n      text += 'SIGHASH_NONE';\n      break;\n  }\n  return text;\n}\nfunction addNonWitnessTxCache(cache, input, inputIndex) {\n  cache.__NON_WITNESS_UTXO_BUF_CACHE[inputIndex] = input.nonWitnessUtxo;\n  const tx = transaction_1.Transaction.fromBuffer(input.nonWitnessUtxo);\n  cache.__NON_WITNESS_UTXO_TX_CACHE[inputIndex] = tx;\n  const self = cache;\n  const selfIndex = inputIndex;\n  delete input.nonWitnessUtxo;\n  Object.defineProperty(input, 'nonWitnessUtxo', {\n    enumerable: true,\n    get() {\n      const buf = self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex];\n      const txCache = self.__NON_WITNESS_UTXO_TX_CACHE[selfIndex];\n      if (buf !== undefined) {\n        return buf;\n      } else {\n        const newBuf = txCache.toBuffer();\n        self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex] = newBuf;\n        return newBuf;\n      }\n    },\n    set(data) {\n      self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex] = data;\n    },\n  });\n}\nfunction inputFinalizeGetAmts(inputs, tx, cache, mustFinalize) {\n  let inputAmount = 0;\n  inputs.forEach((input, idx) => {\n    if (mustFinalize && input.finalScriptSig)\n      tx.ins[idx].script = input.finalScriptSig;\n    if (mustFinalize && input.finalScriptWitness) {\n      tx.ins[idx].witness = scriptWitnessToWitnessStack(\n        input.finalScriptWitness,\n      );\n    }\n    if (input.witnessUtxo) {\n      inputAmount += input.witnessUtxo.value;\n    } else if (input.nonWitnessUtxo) {\n      const nwTx = nonWitnessUtxoTxFromCache(cache, input, idx);\n      const vout = tx.ins[idx].index;\n      const out = nwTx.outs[vout];\n      inputAmount += out.value;\n    }\n  });\n  const outputAmount = tx.outs.reduce((total, o) => total + o.value, 0);\n  const fee = inputAmount - outputAmount;\n  if (fee < 0) {\n    throw new Error('Outputs are spending more than Inputs');\n  }\n  const bytes = tx.virtualSize();\n  cache.__FEE = fee;\n  cache.__EXTRACTED_TX = tx;\n  cache.__FEE_RATE = Math.floor(fee / bytes);\n}\nfunction nonWitnessUtxoTxFromCache(cache, input, inputIndex) {\n  const c = cache.__NON_WITNESS_UTXO_TX_CACHE;\n  if (!c[inputIndex]) {\n    addNonWitnessTxCache(cache, input, inputIndex);\n  }\n  return c[inputIndex];\n}\nfunction getScriptFromUtxo(inputIndex, input, cache) {\n  const { script } = getScriptAndAmountFromUtxo(inputIndex, input, cache);\n  return script;\n}\nfunction getScriptAndAmountFromUtxo(inputIndex, input, cache) {\n  if (input.witnessUtxo !== undefined) {\n    return {\n      script: input.witnessUtxo.script,\n      value: input.witnessUtxo.value,\n    };\n  } else if (input.nonWitnessUtxo !== undefined) {\n    const nonWitnessUtxoTx = nonWitnessUtxoTxFromCache(\n      cache,\n      input,\n      inputIndex,\n    );\n    const o = nonWitnessUtxoTx.outs[cache.__TX.ins[inputIndex].index];\n    return { script: o.script, value: o.value };\n  } else {\n    throw new Error(\"Can't find pubkey in input without Utxo data\");\n  }\n}\nfunction pubkeyInInput(pubkey, input, inputIndex, cache) {\n  const script = getScriptFromUtxo(inputIndex, input, cache);\n  const { meaningfulScript } = getMeaningfulScript(\n    script,\n    inputIndex,\n    'input',\n    input.redeemScript,\n    input.witnessScript,\n  );\n  return (0, psbtutils_1.pubkeyInScript)(pubkey, meaningfulScript);\n}\nfunction pubkeyInOutput(pubkey, output, outputIndex, cache) {\n  const script = cache.__TX.outs[outputIndex].script;\n  const { meaningfulScript } = getMeaningfulScript(\n    script,\n    outputIndex,\n    'output',\n    output.redeemScript,\n    output.witnessScript,\n  );\n  return (0, psbtutils_1.pubkeyInScript)(pubkey, meaningfulScript);\n}\nfunction redeemFromFinalScriptSig(finalScript) {\n  if (!finalScript) return;\n  const decomp = bscript.decompile(finalScript);\n  if (!decomp) return;\n  const lastItem = decomp[decomp.length - 1];\n  if (\n    !Buffer.isBuffer(lastItem) ||\n    isPubkeyLike(lastItem) ||\n    isSigLike(lastItem)\n  )\n    return;\n  const sDecomp = bscript.decompile(lastItem);\n  if (!sDecomp) return;\n  return lastItem;\n}\nfunction redeemFromFinalWitnessScript(finalScript) {\n  if (!finalScript) return;\n  const decomp = scriptWitnessToWitnessStack(finalScript);\n  const lastItem = decomp[decomp.length - 1];\n  if (isPubkeyLike(lastItem)) return;\n  const sDecomp = bscript.decompile(lastItem);\n  if (!sDecomp) return;\n  return lastItem;\n}\nfunction compressPubkey(pubkey) {\n  if (pubkey.length === 65) {\n    const parity = pubkey[64] & 1;\n    const newKey = pubkey.slice(0, 33);\n    newKey[0] = 2 | parity;\n    return newKey;\n  }\n  return pubkey.slice();\n}\nfunction isPubkeyLike(buf) {\n  return buf.length === 33 && bscript.isCanonicalPubKey(buf);\n}\nfunction isSigLike(buf) {\n  return bscript.isCanonicalScriptSignature(buf);\n}\nfunction getMeaningfulScript(\n  script,\n  index,\n  ioType,\n  redeemScript,\n  witnessScript,\n) {\n  const isP2SH = (0, psbtutils_1.isP2SHScript)(script);\n  const isP2SHP2WSH =\n    isP2SH && redeemScript && (0, psbtutils_1.isP2WSHScript)(redeemScript);\n  const isP2WSH = (0, psbtutils_1.isP2WSHScript)(script);\n  if (isP2SH && redeemScript === undefined)\n    throw new Error('scriptPubkey is P2SH but redeemScript missing');\n  if ((isP2WSH || isP2SHP2WSH) && witnessScript === undefined)\n    throw new Error(\n      'scriptPubkey or redeemScript is P2WSH but witnessScript missing',\n    );\n  let meaningfulScript;\n  if (isP2SHP2WSH) {\n    meaningfulScript = witnessScript;\n    checkRedeemScript(index, script, redeemScript, ioType);\n    checkWitnessScript(index, redeemScript, witnessScript, ioType);\n    checkInvalidP2WSH(meaningfulScript);\n  } else if (isP2WSH) {\n    meaningfulScript = witnessScript;\n    checkWitnessScript(index, script, witnessScript, ioType);\n    checkInvalidP2WSH(meaningfulScript);\n  } else if (isP2SH) {\n    meaningfulScript = redeemScript;\n    checkRedeemScript(index, script, redeemScript, ioType);\n  } else {\n    meaningfulScript = script;\n  }\n  return {\n    meaningfulScript,\n    type: isP2SHP2WSH\n      ? 'p2sh-p2wsh'\n      : isP2SH\n      ? 'p2sh'\n      : isP2WSH\n      ? 'p2wsh'\n      : 'raw',\n  };\n}\nfunction checkInvalidP2WSH(script) {\n  if (\n    (0, psbtutils_1.isP2WPKH)(script) ||\n    (0, psbtutils_1.isP2SHScript)(script)\n  ) {\n    throw new Error('P2WPKH or P2SH can not be contained within P2WSH');\n  }\n}\nfunction classifyScript(script) {\n  if ((0, psbtutils_1.isP2WPKH)(script)) return 'witnesspubkeyhash';\n  if ((0, psbtutils_1.isP2PKH)(script)) return 'pubkeyhash';\n  if ((0, psbtutils_1.isP2MS)(script)) return 'multisig';\n  if ((0, psbtutils_1.isP2PK)(script)) return 'pubkey';\n  return 'nonstandard';\n}\nfunction range(n) {\n  return [...Array(n).keys()];\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.checkTaprootInputForSigs =\n  exports.tapTreeFromList =\n  exports.tapTreeToList =\n  exports.tweakInternalPubKey =\n  exports.checkTaprootOutputFields =\n  exports.checkTaprootInputFields =\n  exports.isTaprootOutput =\n  exports.isTaprootInput =\n  exports.serializeTaprootSignature =\n  exports.tapScriptFinalizer =\n  exports.toXOnly =\n    void 0;\nconst types_1 = require('../types');\nconst transaction_1 = require('../transaction');\nconst psbtutils_1 = require('./psbtutils');\nconst bip341_1 = require('../payments/bip341');\nconst payments_1 = require('../payments');\nconst psbtutils_2 = require('./psbtutils');\nconst toXOnly = pubKey => (pubKey.length === 32 ? pubKey : pubKey.slice(1, 33));\nexports.toXOnly = toXOnly;\n/**\n * Default tapscript finalizer. It searches for the `tapLeafHashToFinalize` if provided.\n * Otherwise it will search for the tapleaf that has at least one signature and has the shortest path.\n * @param inputIndex the position of the PSBT input.\n * @param input the PSBT input.\n * @param tapLeafHashToFinalize optional, if provided the finalizer will search for a tapleaf that has this hash\n *                              and will try to build the finalScriptWitness.\n * @returns the finalScriptWitness or throws an exception if no tapleaf found.\n */\nfunction tapScriptFinalizer(inputIndex, input, tapLeafHashToFinalize) {\n  const tapLeaf = findTapLeafToFinalize(\n    input,\n    inputIndex,\n    tapLeafHashToFinalize,\n  );\n  try {\n    const sigs = sortSignatures(input, tapLeaf);\n    const witness = sigs.concat(tapLeaf.script).concat(tapLeaf.controlBlock);\n    return {\n      finalScriptWitness: (0, psbtutils_1.witnessStackToScriptWitness)(witness),\n    };\n  } catch (err) {\n    throw new Error(`Can not finalize taproot input #${inputIndex}: ${err}`);\n  }\n}\nexports.tapScriptFinalizer = tapScriptFinalizer;\nfunction serializeTaprootSignature(sig, sighashType) {\n  const sighashTypeByte = sighashType\n    ? Buffer.from([sighashType])\n    : Buffer.from([]);\n  return Buffer.concat([sig, sighashTypeByte]);\n}\nexports.serializeTaprootSignature = serializeTaprootSignature;\nfunction isTaprootInput(input) {\n  return (\n    input &&\n    !!(\n      input.tapInternalKey ||\n      input.tapMerkleRoot ||\n      (input.tapLeafScript && input.tapLeafScript.length) ||\n      (input.tapBip32Derivation && input.tapBip32Derivation.length) ||\n      (input.witnessUtxo && (0, psbtutils_1.isP2TR)(input.witnessUtxo.script))\n    )\n  );\n}\nexports.isTaprootInput = isTaprootInput;\nfunction isTaprootOutput(output, script) {\n  return (\n    output &&\n    !!(\n      output.tapInternalKey ||\n      output.tapTree ||\n      (output.tapBip32Derivation && output.tapBip32Derivation.length) ||\n      (script && (0, psbtutils_1.isP2TR)(script))\n    )\n  );\n}\nexports.isTaprootOutput = isTaprootOutput;\nfunction checkTaprootInputFields(inputData, newInputData, action) {\n  checkMixedTaprootAndNonTaprootInputFields(inputData, newInputData, action);\n  checkIfTapLeafInTree(inputData, newInputData, action);\n}\nexports.checkTaprootInputFields = checkTaprootInputFields;\nfunction checkTaprootOutputFields(outputData, newOutputData, action) {\n  checkMixedTaprootAndNonTaprootOutputFields(outputData, newOutputData, action);\n  checkTaprootScriptPubkey(outputData, newOutputData);\n}\nexports.checkTaprootOutputFields = checkTaprootOutputFields;\nfunction checkTaprootScriptPubkey(outputData, newOutputData) {\n  if (!newOutputData.tapTree && !newOutputData.tapInternalKey) return;\n  const tapInternalKey =\n    newOutputData.tapInternalKey || outputData.tapInternalKey;\n  const tapTree = newOutputData.tapTree || outputData.tapTree;\n  if (tapInternalKey) {\n    const { script: scriptPubkey } = outputData;\n    const script = getTaprootScripPubkey(tapInternalKey, tapTree);\n    if (scriptPubkey && !scriptPubkey.equals(script))\n      throw new Error('Error adding output. Script or address missmatch.');\n  }\n}\nfunction getTaprootScripPubkey(tapInternalKey, tapTree) {\n  const scriptTree = tapTree && tapTreeFromList(tapTree.leaves);\n  const { output } = (0, payments_1.p2tr)({\n    internalPubkey: tapInternalKey,\n    scriptTree,\n  });\n  return output;\n}\nfunction tweakInternalPubKey(inputIndex, input) {\n  const tapInternalKey = input.tapInternalKey;\n  const outputKey =\n    tapInternalKey &&\n    (0, bip341_1.tweakKey)(tapInternalKey, input.tapMerkleRoot);\n  if (!outputKey)\n    throw new Error(\n      `Cannot tweak tap internal key for input #${inputIndex}. Public key: ${\n        tapInternalKey && tapInternalKey.toString('hex')\n      }`,\n    );\n  return outputKey.x;\n}\nexports.tweakInternalPubKey = tweakInternalPubKey;\n/**\n * Convert a binary tree to a BIP371 type list. Each element of the list is (according to BIP371):\n * One or more tuples representing the depth, leaf version, and script for a leaf in the Taproot tree,\n * allowing the entire tree to be reconstructed. The tuples must be in depth first search order so that\n * the tree is correctly reconstructed.\n * @param tree the binary tap tree\n * @returns a list of BIP 371 tapleaves\n */\nfunction tapTreeToList(tree) {\n  if (!(0, types_1.isTaptree)(tree))\n    throw new Error(\n      'Cannot convert taptree to tapleaf list. Expecting a tapree structure.',\n    );\n  return _tapTreeToList(tree);\n}\nexports.tapTreeToList = tapTreeToList;\n/**\n * Convert a BIP371 TapLeaf list to a TapTree (binary).\n * @param leaves a list of tapleaves where each element of the list is (according to BIP371):\n * One or more tuples representing the depth, leaf version, and script for a leaf in the Taproot tree,\n * allowing the entire tree to be reconstructed. The tuples must be in depth first search order so that\n * the tree is correctly reconstructed.\n * @returns the corresponding taptree, or throws an exception if the tree cannot be reconstructed\n */\nfunction tapTreeFromList(leaves = []) {\n  if (leaves.length === 1 && leaves[0].depth === 0)\n    return {\n      output: leaves[0].script,\n      version: leaves[0].leafVersion,\n    };\n  return instertLeavesInTree(leaves);\n}\nexports.tapTreeFromList = tapTreeFromList;\nfunction checkTaprootInputForSigs(input, action) {\n  const sigs = extractTaprootSigs(input);\n  return sigs.some(sig =>\n    (0, psbtutils_2.signatureBlocksAction)(sig, decodeSchnorrSignature, action),\n  );\n}\nexports.checkTaprootInputForSigs = checkTaprootInputForSigs;\nfunction decodeSchnorrSignature(signature) {\n  return {\n    signature: signature.slice(0, 64),\n    hashType:\n      signature.slice(64)[0] || transaction_1.Transaction.SIGHASH_DEFAULT,\n  };\n}\nfunction extractTaprootSigs(input) {\n  const sigs = [];\n  if (input.tapKeySig) sigs.push(input.tapKeySig);\n  if (input.tapScriptSig)\n    sigs.push(...input.tapScriptSig.map(s => s.signature));\n  if (!sigs.length) {\n    const finalTapKeySig = getTapKeySigFromWithness(input.finalScriptWitness);\n    if (finalTapKeySig) sigs.push(finalTapKeySig);\n  }\n  return sigs;\n}\nfunction getTapKeySigFromWithness(finalScriptWitness) {\n  if (!finalScriptWitness) return;\n  const witness = finalScriptWitness.slice(2);\n  // todo: add schnorr signature validation\n  if (witness.length === 64 || witness.length === 65) return witness;\n}\nfunction _tapTreeToList(tree, leaves = [], depth = 0) {\n  if (depth > bip341_1.MAX_TAPTREE_DEPTH)\n    throw new Error('Max taptree depth exceeded.');\n  if (!tree) return [];\n  if ((0, types_1.isTapleaf)(tree)) {\n    leaves.push({\n      depth,\n      leafVersion: tree.version || bip341_1.LEAF_VERSION_TAPSCRIPT,\n      script: tree.output,\n    });\n    return leaves;\n  }\n  if (tree[0]) _tapTreeToList(tree[0], leaves, depth + 1);\n  if (tree[1]) _tapTreeToList(tree[1], leaves, depth + 1);\n  return leaves;\n}\nfunction instertLeavesInTree(leaves) {\n  let tree;\n  for (const leaf of leaves) {\n    tree = instertLeafInTree(leaf, tree);\n    if (!tree) throw new Error(`No room left to insert tapleaf in tree`);\n  }\n  return tree;\n}\nfunction instertLeafInTree(leaf, tree, depth = 0) {\n  if (depth > bip341_1.MAX_TAPTREE_DEPTH)\n    throw new Error('Max taptree depth exceeded.');\n  if (leaf.depth === depth) {\n    if (!tree)\n      return {\n        output: leaf.script,\n        version: leaf.leafVersion,\n      };\n    return;\n  }\n  if ((0, types_1.isTapleaf)(tree)) return;\n  const leftSide = instertLeafInTree(leaf, tree && tree[0], depth + 1);\n  if (leftSide) return [leftSide, tree && tree[1]];\n  const rightSide = instertLeafInTree(leaf, tree && tree[1], depth + 1);\n  if (rightSide) return [tree && tree[0], rightSide];\n}\nfunction checkMixedTaprootAndNonTaprootInputFields(\n  inputData,\n  newInputData,\n  action,\n) {\n  const isBadTaprootUpdate =\n    isTaprootInput(inputData) && hasNonTaprootFields(newInputData);\n  const isBadNonTaprootUpdate =\n    hasNonTaprootFields(inputData) && isTaprootInput(newInputData);\n  const hasMixedFields =\n    inputData === newInputData &&\n    isTaprootInput(newInputData) &&\n    hasNonTaprootFields(newInputData); // todo: bad? use !===\n  if (isBadTaprootUpdate || isBadNonTaprootUpdate || hasMixedFields)\n    throw new Error(\n      `Invalid arguments for Psbt.${action}. ` +\n        `Cannot use both taproot and non-taproot fields.`,\n    );\n}\nfunction checkMixedTaprootAndNonTaprootOutputFields(\n  inputData,\n  newInputData,\n  action,\n) {\n  const isBadTaprootUpdate =\n    isTaprootOutput(inputData) && hasNonTaprootFields(newInputData);\n  const isBadNonTaprootUpdate =\n    hasNonTaprootFields(inputData) && isTaprootOutput(newInputData);\n  const hasMixedFields =\n    inputData === newInputData &&\n    isTaprootOutput(newInputData) &&\n    hasNonTaprootFields(newInputData);\n  if (isBadTaprootUpdate || isBadNonTaprootUpdate || hasMixedFields)\n    throw new Error(\n      `Invalid arguments for Psbt.${action}. ` +\n        `Cannot use both taproot and non-taproot fields.`,\n    );\n}\nfunction checkIfTapLeafInTree(inputData, newInputData, action) {\n  if (newInputData.tapMerkleRoot) {\n    const newLeafsInTree = (newInputData.tapLeafScript || []).every(l =>\n      isTapLeafInTree(l, newInputData.tapMerkleRoot),\n    );\n    const oldLeafsInTree = (inputData.tapLeafScript || []).every(l =>\n      isTapLeafInTree(l, newInputData.tapMerkleRoot),\n    );\n    if (!newLeafsInTree || !oldLeafsInTree)\n      throw new Error(\n        `Invalid arguments for Psbt.${action}. Tapleaf not part of taptree.`,\n      );\n  } else if (inputData.tapMerkleRoot) {\n    const newLeafsInTree = (newInputData.tapLeafScript || []).every(l =>\n      isTapLeafInTree(l, inputData.tapMerkleRoot),\n    );\n    if (!newLeafsInTree)\n      throw new Error(\n        `Invalid arguments for Psbt.${action}. Tapleaf not part of taptree.`,\n      );\n  }\n}\nfunction isTapLeafInTree(tapLeaf, merkleRoot) {\n  if (!merkleRoot) return true;\n  const leafHash = (0, bip341_1.tapleafHash)({\n    output: tapLeaf.script,\n    version: tapLeaf.leafVersion,\n  });\n  const rootHash = (0, bip341_1.rootHashFromPath)(\n    tapLeaf.controlBlock,\n    leafHash,\n  );\n  return rootHash.equals(merkleRoot);\n}\nfunction sortSignatures(input, tapLeaf) {\n  const leafHash = (0, bip341_1.tapleafHash)({\n    output: tapLeaf.script,\n    version: tapLeaf.leafVersion,\n  });\n  return (input.tapScriptSig || [])\n    .filter(tss => tss.leafHash.equals(leafHash))\n    .map(tss => addPubkeyPositionInScript(tapLeaf.script, tss))\n    .sort((t1, t2) => t2.positionInScript - t1.positionInScript)\n    .map(t => t.signature);\n}\nfunction addPubkeyPositionInScript(script, tss) {\n  return Object.assign(\n    {\n      positionInScript: (0, psbtutils_1.pubkeyPositionInScript)(\n        tss.pubkey,\n        script,\n      ),\n    },\n    tss,\n  );\n}\n/**\n * Find tapleaf by hash, or get the signed tapleaf with the shortest path.\n */\nfunction findTapLeafToFinalize(input, inputIndex, leafHashToFinalize) {\n  if (!input.tapScriptSig || !input.tapScriptSig.length)\n    throw new Error(\n      `Can not finalize taproot input #${inputIndex}. No tapleaf script signature provided.`,\n    );\n  const tapLeaf = (input.tapLeafScript || [])\n    .sort((a, b) => a.controlBlock.length - b.controlBlock.length)\n    .find(leaf =>\n      canFinalizeLeaf(leaf, input.tapScriptSig, leafHashToFinalize),\n    );\n  if (!tapLeaf)\n    throw new Error(\n      `Can not finalize taproot input #${inputIndex}. Signature for tapleaf script not found.`,\n    );\n  return tapLeaf;\n}\nfunction canFinalizeLeaf(leaf, tapScriptSig, hash) {\n  const leafHash = (0, bip341_1.tapleafHash)({\n    output: leaf.script,\n    version: leaf.leafVersion,\n  });\n  const whiteListedHash = !hash || hash.equals(leafHash);\n  return (\n    whiteListedHash &&\n    tapScriptSig.find(tss => tss.leafHash.equals(leafHash)) !== undefined\n  );\n}\nfunction hasNonTaprootFields(io) {\n  return (\n    io &&\n    !!(\n      io.redeemScript ||\n      io.witnessScript ||\n      (io.bip32Derivation && io.bip32Derivation.length)\n    )\n  );\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.signatureBlocksAction =\n  exports.checkInputForSig =\n  exports.pubkeyInScript =\n  exports.pubkeyPositionInScript =\n  exports.witnessStackToScriptWitness =\n  exports.isP2TR =\n  exports.isP2SHScript =\n  exports.isP2WSHScript =\n  exports.isP2WPKH =\n  exports.isP2PKH =\n  exports.isP2PK =\n  exports.isP2MS =\n    void 0;\nconst varuint = require('bip174/src/lib/converter/varint');\nconst bscript = require('../script');\nconst transaction_1 = require('../transaction');\nconst crypto_1 = require('../crypto');\nconst payments = require('../payments');\nfunction isPaymentFactory(payment) {\n  return script => {\n    try {\n      payment({ output: script });\n      return true;\n    } catch (err) {\n      return false;\n    }\n  };\n}\nexports.isP2MS = isPaymentFactory(payments.p2ms);\nexports.isP2PK = isPaymentFactory(payments.p2pk);\nexports.isP2PKH = isPaymentFactory(payments.p2pkh);\nexports.isP2WPKH = isPaymentFactory(payments.p2wpkh);\nexports.isP2WSHScript = isPaymentFactory(payments.p2wsh);\nexports.isP2SHScript = isPaymentFactory(payments.p2sh);\nexports.isP2TR = isPaymentFactory(payments.p2tr);\nfunction witnessStackToScriptWitness(witness) {\n  let buffer = Buffer.allocUnsafe(0);\n  function writeSlice(slice) {\n    buffer = Buffer.concat([buffer, Buffer.from(slice)]);\n  }\n  function writeVarInt(i) {\n    const currentLen = buffer.length;\n    const varintLen = varuint.encodingLength(i);\n    buffer = Buffer.concat([buffer, Buffer.allocUnsafe(varintLen)]);\n    varuint.encode(i, buffer, currentLen);\n  }\n  function writeVarSlice(slice) {\n    writeVarInt(slice.length);\n    writeSlice(slice);\n  }\n  function writeVector(vector) {\n    writeVarInt(vector.length);\n    vector.forEach(writeVarSlice);\n  }\n  writeVector(witness);\n  return buffer;\n}\nexports.witnessStackToScriptWitness = witnessStackToScriptWitness;\nfunction pubkeyPositionInScript(pubkey, script) {\n  const pubkeyHash = (0, crypto_1.hash160)(pubkey);\n  const pubkeyXOnly = pubkey.slice(1, 33); // slice before calling?\n  const decompiled = bscript.decompile(script);\n  if (decompiled === null) throw new Error('Unknown script error');\n  return decompiled.findIndex(element => {\n    if (typeof element === 'number') return false;\n    return (\n      element.equals(pubkey) ||\n      element.equals(pubkeyHash) ||\n      element.equals(pubkeyXOnly)\n    );\n  });\n}\nexports.pubkeyPositionInScript = pubkeyPositionInScript;\nfunction pubkeyInScript(pubkey, script) {\n  return pubkeyPositionInScript(pubkey, script) !== -1;\n}\nexports.pubkeyInScript = pubkeyInScript;\nfunction checkInputForSig(input, action) {\n  const pSigs = extractPartialSigs(input);\n  return pSigs.some(pSig =>\n    signatureBlocksAction(pSig, bscript.signature.decode, action),\n  );\n}\nexports.checkInputForSig = checkInputForSig;\nfunction signatureBlocksAction(signature, signatureDecodeFn, action) {\n  const { hashType } = signatureDecodeFn(signature);\n  const whitelist = [];\n  const isAnyoneCanPay =\n    hashType & transaction_1.Transaction.SIGHASH_ANYONECANPAY;\n  if (isAnyoneCanPay) whitelist.push('addInput');\n  const hashMod = hashType & 0x1f;\n  switch (hashMod) {\n    case transaction_1.Transaction.SIGHASH_ALL:\n      break;\n    case transaction_1.Transaction.SIGHASH_SINGLE:\n    case transaction_1.Transaction.SIGHASH_NONE:\n      whitelist.push('addOutput');\n      whitelist.push('setInputSequence');\n      break;\n  }\n  if (whitelist.indexOf(action) === -1) {\n    return true;\n  }\n  return false;\n}\nexports.signatureBlocksAction = signatureBlocksAction;\nfunction extractPartialSigs(input) {\n  let pSigs = [];\n  if ((input.partialSig || []).length === 0) {\n    if (!input.finalScriptSig && !input.finalScriptWitness) return [];\n    pSigs = getPsigsFromInputFinalScripts(input);\n  } else {\n    pSigs = input.partialSig;\n  }\n  return pSigs.map(p => p.signature);\n}\nfunction getPsigsFromInputFinalScripts(input) {\n  const scriptItems = !input.finalScriptSig\n    ? []\n    : bscript.decompile(input.finalScriptSig) || [];\n  const witnessItems = !input.finalScriptWitness\n    ? []\n    : bscript.decompile(input.finalScriptWitness) || [];\n  return scriptItems\n    .concat(witnessItems)\n    .filter(item => {\n      return Buffer.isBuffer(item) && bscript.isCanonicalScriptSignature(item);\n    })\n    .map(sig => ({ signature: sig }));\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.decode = exports.encode = exports.encodingLength = void 0;\nconst ops_1 = require('./ops');\nfunction encodingLength(i) {\n  return i < ops_1.OPS.OP_PUSHDATA1 ? 1 : i <= 0xff ? 2 : i <= 0xffff ? 3 : 5;\n}\nexports.encodingLength = encodingLength;\nfunction encode(buffer, num, offset) {\n  const size = encodingLength(num);\n  // ~6 bit\n  if (size === 1) {\n    buffer.writeUInt8(num, offset);\n    // 8 bit\n  } else if (size === 2) {\n    buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA1, offset);\n    buffer.writeUInt8(num, offset + 1);\n    // 16 bit\n  } else if (size === 3) {\n    buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA2, offset);\n    buffer.writeUInt16LE(num, offset + 1);\n    // 32 bit\n  } else {\n    buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA4, offset);\n    buffer.writeUInt32LE(num, offset + 1);\n  }\n  return size;\n}\nexports.encode = encode;\nfunction decode(buffer, offset) {\n  const opcode = buffer.readUInt8(offset);\n  let num;\n  let size;\n  // ~6 bit\n  if (opcode < ops_1.OPS.OP_PUSHDATA1) {\n    num = opcode;\n    size = 1;\n    // 8 bit\n  } else if (opcode === ops_1.OPS.OP_PUSHDATA1) {\n    if (offset + 2 > buffer.length) return null;\n    num = buffer.readUInt8(offset + 1);\n    size = 2;\n    // 16 bit\n  } else if (opcode === ops_1.OPS.OP_PUSHDATA2) {\n    if (offset + 3 > buffer.length) return null;\n    num = buffer.readUInt16LE(offset + 1);\n    size = 3;\n    // 32 bit\n  } else {\n    if (offset + 5 > buffer.length) return null;\n    if (opcode !== ops_1.OPS.OP_PUSHDATA4) throw new Error('Unexpected opcode');\n    num = buffer.readUInt32LE(offset + 1);\n    size = 5;\n  }\n  return {\n    opcode,\n    number: num,\n    size,\n  };\n}\nexports.decode = decode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.signature =\n  exports.number =\n  exports.isCanonicalScriptSignature =\n  exports.isDefinedHashType =\n  exports.isCanonicalPubKey =\n  exports.toStack =\n  exports.fromASM =\n  exports.toASM =\n  exports.decompile =\n  exports.compile =\n  exports.countNonPushOnlyOPs =\n  exports.isPushOnly =\n  exports.OPS =\n    void 0;\nconst bip66 = require('./bip66');\nconst ops_1 = require('./ops');\nObject.defineProperty(exports, 'OPS', {\n  enumerable: true,\n  get: function () {\n    return ops_1.OPS;\n  },\n});\nconst pushdata = require('./push_data');\nconst scriptNumber = require('./script_number');\nconst scriptSignature = require('./script_signature');\nconst types = require('./types');\nconst { typeforce } = types;\nconst OP_INT_BASE = ops_1.OPS.OP_RESERVED; // OP_1 - 1\nfunction isOPInt(value) {\n  return (\n    types.Number(value) &&\n    (value === ops_1.OPS.OP_0 ||\n      (value >= ops_1.OPS.OP_1 && value <= ops_1.OPS.OP_16) ||\n      value === ops_1.OPS.OP_1NEGATE)\n  );\n}\nfunction isPushOnlyChunk(value) {\n  return types.Buffer(value) || isOPInt(value);\n}\nfunction isPushOnly(value) {\n  return types.Array(value) && value.every(isPushOnlyChunk);\n}\nexports.isPushOnly = isPushOnly;\nfunction countNonPushOnlyOPs(value) {\n  return value.length - value.filter(isPushOnlyChunk).length;\n}\nexports.countNonPushOnlyOPs = countNonPushOnlyOPs;\nfunction asMinimalOP(buffer) {\n  if (buffer.length === 0) return ops_1.OPS.OP_0;\n  if (buffer.length !== 1) return;\n  if (buffer[0] >= 1 && buffer[0] <= 16) return OP_INT_BASE + buffer[0];\n  if (buffer[0] === 0x81) return ops_1.OPS.OP_1NEGATE;\n}\nfunction chunksIsBuffer(buf) {\n  return Buffer.isBuffer(buf);\n}\nfunction chunksIsArray(buf) {\n  return types.Array(buf);\n}\nfunction singleChunkIsBuffer(buf) {\n  return Buffer.isBuffer(buf);\n}\nfunction compile(chunks) {\n  // TODO: remove me\n  if (chunksIsBuffer(chunks)) return chunks;\n  typeforce(types.Array, chunks);\n  const bufferSize = chunks.reduce((accum, chunk) => {\n    // data chunk\n    if (singleChunkIsBuffer(chunk)) {\n      // adhere to BIP62.3, minimal push policy\n      if (chunk.length === 1 && asMinimalOP(chunk) !== undefined) {\n        return accum + 1;\n      }\n      return accum + pushdata.encodingLength(chunk.length) + chunk.length;\n    }\n    // opcode\n    return accum + 1;\n  }, 0.0);\n  const buffer = Buffer.allocUnsafe(bufferSize);\n  let offset = 0;\n  chunks.forEach(chunk => {\n    // data chunk\n    if (singleChunkIsBuffer(chunk)) {\n      // adhere to BIP62.3, minimal push policy\n      const opcode = asMinimalOP(chunk);\n      if (opcode !== undefined) {\n        buffer.writeUInt8(opcode, offset);\n        offset += 1;\n        return;\n      }\n      offset += pushdata.encode(buffer, chunk.length, offset);\n      chunk.copy(buffer, offset);\n      offset += chunk.length;\n      // opcode\n    } else {\n      buffer.writeUInt8(chunk, offset);\n      offset += 1;\n    }\n  });\n  if (offset !== buffer.length) throw new Error('Could not decode chunks');\n  return buffer;\n}\nexports.compile = compile;\nfunction decompile(buffer) {\n  // TODO: remove me\n  if (chunksIsArray(buffer)) return buffer;\n  typeforce(types.Buffer, buffer);\n  const chunks = [];\n  let i = 0;\n  while (i < buffer.length) {\n    const opcode = buffer[i];\n    // data chunk\n    if (opcode > ops_1.OPS.OP_0 && opcode <= ops_1.OPS.OP_PUSHDATA4) {\n      const d = pushdata.decode(buffer, i);\n      // did reading a pushDataInt fail?\n      if (d === null) return null;\n      i += d.size;\n      // attempt to read too much data?\n      if (i + d.number > buffer.length) return null;\n      const data = buffer.slice(i, i + d.number);\n      i += d.number;\n      // decompile minimally\n      const op = asMinimalOP(data);\n      if (op !== undefined) {\n        chunks.push(op);\n      } else {\n        chunks.push(data);\n      }\n      // opcode\n    } else {\n      chunks.push(opcode);\n      i += 1;\n    }\n  }\n  return chunks;\n}\nexports.decompile = decompile;\nfunction toASM(chunks) {\n  if (chunksIsBuffer(chunks)) {\n    chunks = decompile(chunks);\n  }\n  return chunks\n    .map(chunk => {\n      // data?\n      if (singleChunkIsBuffer(chunk)) {\n        const op = asMinimalOP(chunk);\n        if (op === undefined) return chunk.toString('hex');\n        chunk = op;\n      }\n      // opcode!\n      return ops_1.REVERSE_OPS[chunk];\n    })\n    .join(' ');\n}\nexports.toASM = toASM;\nfunction fromASM(asm) {\n  typeforce(types.String, asm);\n  return compile(\n    asm.split(' ').map(chunkStr => {\n      // opcode?\n      if (ops_1.OPS[chunkStr] !== undefined) return ops_1.OPS[chunkStr];\n      typeforce(types.Hex, chunkStr);\n      // data!\n      return Buffer.from(chunkStr, 'hex');\n    }),\n  );\n}\nexports.fromASM = fromASM;\nfunction toStack(chunks) {\n  chunks = decompile(chunks);\n  typeforce(isPushOnly, chunks);\n  return chunks.map(op => {\n    if (singleChunkIsBuffer(op)) return op;\n    if (op === ops_1.OPS.OP_0) return Buffer.allocUnsafe(0);\n    return scriptNumber.encode(op - OP_INT_BASE);\n  });\n}\nexports.toStack = toStack;\nfunction isCanonicalPubKey(buffer) {\n  return types.isPoint(buffer);\n}\nexports.isCanonicalPubKey = isCanonicalPubKey;\nfunction isDefinedHashType(hashType) {\n  const hashTypeMod = hashType & ~0x80;\n  // return hashTypeMod > SIGHASH_ALL && hashTypeMod < SIGHASH_SINGLE\n  return hashTypeMod > 0x00 && hashTypeMod < 0x04;\n}\nexports.isDefinedHashType = isDefinedHashType;\nfunction isCanonicalScriptSignature(buffer) {\n  if (!Buffer.isBuffer(buffer)) return false;\n  if (!isDefinedHashType(buffer[buffer.length - 1])) return false;\n  return bip66.check(buffer.slice(0, -1));\n}\nexports.isCanonicalScriptSignature = isCanonicalScriptSignature;\nexports.number = scriptNumber;\nexports.signature = scriptSignature;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.encode = exports.decode = void 0;\nfunction decode(buffer, maxLength, minimal) {\n  maxLength = maxLength || 4;\n  minimal = minimal === undefined ? true : minimal;\n  const length = buffer.length;\n  if (length === 0) return 0;\n  if (length > maxLength) throw new TypeError('Script number overflow');\n  if (minimal) {\n    if ((buffer[length - 1] & 0x7f) === 0) {\n      if (length <= 1 || (buffer[length - 2] & 0x80) === 0)\n        throw new Error('Non-minimally encoded script number');\n    }\n  }\n  // 40-bit\n  if (length === 5) {\n    const a = buffer.readUInt32LE(0);\n    const b = buffer.readUInt8(4);\n    if (b & 0x80) return -((b & ~0x80) * 0x100000000 + a);\n    return b * 0x100000000 + a;\n  }\n  // 32-bit / 24-bit / 16-bit / 8-bit\n  let result = 0;\n  for (let i = 0; i < length; ++i) {\n    result |= buffer[i] << (8 * i);\n  }\n  if (buffer[length - 1] & 0x80)\n    return -(result & ~(0x80 << (8 * (length - 1))));\n  return result;\n}\nexports.decode = decode;\nfunction scriptNumSize(i) {\n  return i > 0x7fffffff\n    ? 5\n    : i > 0x7fffff\n    ? 4\n    : i > 0x7fff\n    ? 3\n    : i > 0x7f\n    ? 2\n    : i > 0x00\n    ? 1\n    : 0;\n}\nfunction encode(_number) {\n  let value = Math.abs(_number);\n  const size = scriptNumSize(value);\n  const buffer = Buffer.allocUnsafe(size);\n  const negative = _number < 0;\n  for (let i = 0; i < size; ++i) {\n    buffer.writeUInt8(value & 0xff, i);\n    value >>= 8;\n  }\n  if (buffer[size - 1] & 0x80) {\n    buffer.writeUInt8(negative ? 0x80 : 0x00, size - 1);\n  } else if (negative) {\n    buffer[size - 1] |= 0x80;\n  }\n  return buffer;\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.encode = exports.decode = void 0;\nconst bip66 = require('./bip66');\nconst types = require('./types');\nconst { typeforce } = types;\nconst ZERO = Buffer.alloc(1, 0);\nfunction toDER(x) {\n  let i = 0;\n  while (x[i] === 0) ++i;\n  if (i === x.length) return ZERO;\n  x = x.slice(i);\n  if (x[0] & 0x80) return Buffer.concat([ZERO, x], 1 + x.length);\n  return x;\n}\nfunction fromDER(x) {\n  if (x[0] === 0x00) x = x.slice(1);\n  const buffer = Buffer.alloc(32, 0);\n  const bstart = Math.max(0, 32 - x.length);\n  x.copy(buffer, bstart);\n  return buffer;\n}\n// BIP62: 1 byte hashType flag (only 0x01, 0x02, 0x03, 0x81, 0x82 and 0x83 are allowed)\nfunction decode(buffer) {\n  const hashType = buffer.readUInt8(buffer.length - 1);\n  const hashTypeMod = hashType & ~0x80;\n  if (hashTypeMod <= 0 || hashTypeMod >= 4)\n    throw new Error('Invalid hashType ' + hashType);\n  const decoded = bip66.decode(buffer.slice(0, -1));\n  const r = fromDER(decoded.r);\n  const s = fromDER(decoded.s);\n  const signature = Buffer.concat([r, s], 64);\n  return { signature, hashType };\n}\nexports.decode = decode;\nfunction encode(signature, hashType) {\n  typeforce(\n    {\n      signature: types.BufferN(64),\n      hashType: types.UInt8,\n    },\n    { signature, hashType },\n  );\n  const hashTypeMod = hashType & ~0x80;\n  if (hashTypeMod <= 0 || hashTypeMod >= 4)\n    throw new Error('Invalid hashType ' + hashType);\n  const hashTypeBuffer = Buffer.allocUnsafe(1);\n  hashTypeBuffer.writeUInt8(hashType, 0);\n  const r = toDER(signature.slice(0, 32));\n  const s = toDER(signature.slice(32, 64));\n  return Buffer.concat([bip66.encode(r, s), hashTypeBuffer]);\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.Transaction = void 0;\nconst bufferutils_1 = require('./bufferutils');\nconst bcrypto = require('./crypto');\nconst bscript = require('./script');\nconst script_1 = require('./script');\nconst types = require('./types');\nconst { typeforce } = types;\nfunction varSliceSize(someScript) {\n  const length = someScript.length;\n  return bufferutils_1.varuint.encodingLength(length) + length;\n}\nfunction vectorSize(someVector) {\n  const length = someVector.length;\n  return (\n    bufferutils_1.varuint.encodingLength(length) +\n    someVector.reduce((sum, witness) => {\n      return sum + varSliceSize(witness);\n    }, 0)\n  );\n}\nconst EMPTY_BUFFER = Buffer.allocUnsafe(0);\nconst EMPTY_WITNESS = [];\nconst ZERO = Buffer.from(\n  '0000000000000000000000000000000000000000000000000000000000000000',\n  'hex',\n);\nconst ONE = Buffer.from(\n  '0000000000000000000000000000000000000000000000000000000000000001',\n  'hex',\n);\nconst VALUE_UINT64_MAX = Buffer.from('ffffffffffffffff', 'hex');\nconst BLANK_OUTPUT = {\n  script: EMPTY_BUFFER,\n  valueBuffer: VALUE_UINT64_MAX,\n};\nfunction isOutput(out) {\n  return out.value !== undefined;\n}\nclass Transaction {\n  constructor() {\n    this.version = 1;\n    this.locktime = 0;\n    this.ins = [];\n    this.outs = [];\n  }\n  static fromBuffer(buffer, _NO_STRICT) {\n    const bufferReader = new bufferutils_1.BufferReader(buffer);\n    const tx = new Transaction();\n    tx.version = bufferReader.readInt32();\n    const marker = bufferReader.readUInt8();\n    const flag = bufferReader.readUInt8();\n    let hasWitnesses = false;\n    if (\n      marker === Transaction.ADVANCED_TRANSACTION_MARKER &&\n      flag === Transaction.ADVANCED_TRANSACTION_FLAG\n    ) {\n      hasWitnesses = true;\n    } else {\n      bufferReader.offset -= 2;\n    }\n    const vinLen = bufferReader.readVarInt();\n    for (let i = 0; i < vinLen; ++i) {\n      tx.ins.push({\n        hash: bufferReader.readSlice(32),\n        index: bufferReader.readUInt32(),\n        script: bufferReader.readVarSlice(),\n        sequence: bufferReader.readUInt32(),\n        witness: EMPTY_WITNESS,\n      });\n    }\n    const voutLen = bufferReader.readVarInt();\n    for (let i = 0; i < voutLen; ++i) {\n      tx.outs.push({\n        value: bufferReader.readUInt64(),\n        script: bufferReader.readVarSlice(),\n      });\n    }\n    if (hasWitnesses) {\n      for (let i = 0; i < vinLen; ++i) {\n        tx.ins[i].witness = bufferReader.readVector();\n      }\n      // was this pointless?\n      if (!tx.hasWitnesses())\n        throw new Error('Transaction has superfluous witness data');\n    }\n    tx.locktime = bufferReader.readUInt32();\n    if (_NO_STRICT) return tx;\n    if (bufferReader.offset !== buffer.length)\n      throw new Error('Transaction has unexpected data');\n    return tx;\n  }\n  static fromHex(hex) {\n    return Transaction.fromBuffer(Buffer.from(hex, 'hex'), false);\n  }\n  static isCoinbaseHash(buffer) {\n    typeforce(types.Hash256bit, buffer);\n    for (let i = 0; i < 32; ++i) {\n      if (buffer[i] !== 0) return false;\n    }\n    return true;\n  }\n  isCoinbase() {\n    return (\n      this.ins.length === 1 && Transaction.isCoinbaseHash(this.ins[0].hash)\n    );\n  }\n  addInput(hash, index, sequence, scriptSig) {\n    typeforce(\n      types.tuple(\n        types.Hash256bit,\n        types.UInt32,\n        types.maybe(types.UInt32),\n        types.maybe(types.Buffer),\n      ),\n      arguments,\n    );\n    if (types.Null(sequence)) {\n      sequence = Transaction.DEFAULT_SEQUENCE;\n    }\n    // Add the input and return the input's index\n    return (\n      this.ins.push({\n        hash,\n        index,\n        script: scriptSig || EMPTY_BUFFER,\n        sequence: sequence,\n        witness: EMPTY_WITNESS,\n      }) - 1\n    );\n  }\n  addOutput(scriptPubKey, value) {\n    typeforce(types.tuple(types.Buffer, types.Satoshi), arguments);\n    // Add the output and return the output's index\n    return (\n      this.outs.push({\n        script: scriptPubKey,\n        value,\n      }) - 1\n    );\n  }\n  hasWitnesses() {\n    return this.ins.some(x => {\n      return x.witness.length !== 0;\n    });\n  }\n  weight() {\n    const base = this.byteLength(false);\n    const total = this.byteLength(true);\n    return base * 3 + total;\n  }\n  virtualSize() {\n    return Math.ceil(this.weight() / 4);\n  }\n  byteLength(_ALLOW_WITNESS = true) {\n    const hasWitnesses = _ALLOW_WITNESS && this.hasWitnesses();\n    return (\n      (hasWitnesses ? 10 : 8) +\n      bufferutils_1.varuint.encodingLength(this.ins.length) +\n      bufferutils_1.varuint.encodingLength(this.outs.length) +\n      this.ins.reduce((sum, input) => {\n        return sum + 40 + varSliceSize(input.script);\n      }, 0) +\n      this.outs.reduce((sum, output) => {\n        return sum + 8 + varSliceSize(output.script);\n      }, 0) +\n      (hasWitnesses\n        ? this.ins.reduce((sum, input) => {\n            return sum + vectorSize(input.witness);\n          }, 0)\n        : 0)\n    );\n  }\n  clone() {\n    const newTx = new Transaction();\n    newTx.version = this.version;\n    newTx.locktime = this.locktime;\n    newTx.ins = this.ins.map(txIn => {\n      return {\n        hash: txIn.hash,\n        index: txIn.index,\n        script: txIn.script,\n        sequence: txIn.sequence,\n        witness: txIn.witness,\n      };\n    });\n    newTx.outs = this.outs.map(txOut => {\n      return {\n        script: txOut.script,\n        value: txOut.value,\n      };\n    });\n    return newTx;\n  }\n  /**\n   * Hash transaction for signing a specific input.\n   *\n   * Bitcoin uses a different hash for each signed transaction input.\n   * This method copies the transaction, makes the necessary changes based on the\n   * hashType, and then hashes the result.\n   * This hash can then be used to sign the provided transaction input.\n   */\n  hashForSignature(inIndex, prevOutScript, hashType) {\n    typeforce(\n      types.tuple(types.UInt32, types.Buffer, /* types.UInt8 */ types.Number),\n      arguments,\n    );\n    // https://github.com/bitcoin/bitcoin/blob/master/src/test/sighash_tests.cpp#L29\n    if (inIndex >= this.ins.length) return ONE;\n    // ignore OP_CODESEPARATOR\n    const ourScript = bscript.compile(\n      bscript.decompile(prevOutScript).filter(x => {\n        return x !== script_1.OPS.OP_CODESEPARATOR;\n      }),\n    );\n    const txTmp = this.clone();\n    // SIGHASH_NONE: ignore all outputs? (wildcard payee)\n    if ((hashType & 0x1f) === Transaction.SIGHASH_NONE) {\n      txTmp.outs = [];\n      // ignore sequence numbers (except at inIndex)\n      txTmp.ins.forEach((input, i) => {\n        if (i === inIndex) return;\n        input.sequence = 0;\n      });\n      // SIGHASH_SINGLE: ignore all outputs, except at the same index?\n    } else if ((hashType & 0x1f) === Transaction.SIGHASH_SINGLE) {\n      // https://github.com/bitcoin/bitcoin/blob/master/src/test/sighash_tests.cpp#L60\n      if (inIndex >= this.outs.length) return ONE;\n      // truncate outputs after\n      txTmp.outs.length = inIndex + 1;\n      // \"blank\" outputs before\n      for (let i = 0; i < inIndex; i++) {\n        txTmp.outs[i] = BLANK_OUTPUT;\n      }\n      // ignore sequence numbers (except at inIndex)\n      txTmp.ins.forEach((input, y) => {\n        if (y === inIndex) return;\n        input.sequence = 0;\n      });\n    }\n    // SIGHASH_ANYONECANPAY: ignore inputs entirely?\n    if (hashType & Transaction.SIGHASH_ANYONECANPAY) {\n      txTmp.ins = [txTmp.ins[inIndex]];\n      txTmp.ins[0].script = ourScript;\n      // SIGHASH_ALL: only ignore input scripts\n    } else {\n      // \"blank\" others input scripts\n      txTmp.ins.forEach(input => {\n        input.script = EMPTY_BUFFER;\n      });\n      txTmp.ins[inIndex].script = ourScript;\n    }\n    // serialize and hash\n    const buffer = Buffer.allocUnsafe(txTmp.byteLength(false) + 4);\n    buffer.writeInt32LE(hashType, buffer.length - 4);\n    txTmp.__toBuffer(buffer, 0, false);\n    return bcrypto.hash256(buffer);\n  }\n  hashForWitnessV1(inIndex, prevOutScripts, values, hashType, leafHash, annex) {\n    // https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#common-signature-message\n    typeforce(\n      types.tuple(\n        types.UInt32,\n        typeforce.arrayOf(types.Buffer),\n        typeforce.arrayOf(types.Satoshi),\n        types.UInt32,\n      ),\n      arguments,\n    );\n    if (\n      values.length !== this.ins.length ||\n      prevOutScripts.length !== this.ins.length\n    ) {\n      throw new Error('Must supply prevout script and value for all inputs');\n    }\n    const outputType =\n      hashType === Transaction.SIGHASH_DEFAULT\n        ? Transaction.SIGHASH_ALL\n        : hashType & Transaction.SIGHASH_OUTPUT_MASK;\n    const inputType = hashType & Transaction.SIGHASH_INPUT_MASK;\n    const isAnyoneCanPay = inputType === Transaction.SIGHASH_ANYONECANPAY;\n    const isNone = outputType === Transaction.SIGHASH_NONE;\n    const isSingle = outputType === Transaction.SIGHASH_SINGLE;\n    let hashPrevouts = EMPTY_BUFFER;\n    let hashAmounts = EMPTY_BUFFER;\n    let hashScriptPubKeys = EMPTY_BUFFER;\n    let hashSequences = EMPTY_BUFFER;\n    let hashOutputs = EMPTY_BUFFER;\n    if (!isAnyoneCanPay) {\n      let bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        36 * this.ins.length,\n      );\n      this.ins.forEach(txIn => {\n        bufferWriter.writeSlice(txIn.hash);\n        bufferWriter.writeUInt32(txIn.index);\n      });\n      hashPrevouts = bcrypto.sha256(bufferWriter.end());\n      bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        8 * this.ins.length,\n      );\n      values.forEach(value => bufferWriter.writeUInt64(value));\n      hashAmounts = bcrypto.sha256(bufferWriter.end());\n      bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        prevOutScripts.map(varSliceSize).reduce((a, b) => a + b),\n      );\n      prevOutScripts.forEach(prevOutScript =>\n        bufferWriter.writeVarSlice(prevOutScript),\n      );\n      hashScriptPubKeys = bcrypto.sha256(bufferWriter.end());\n      bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        4 * this.ins.length,\n      );\n      this.ins.forEach(txIn => bufferWriter.writeUInt32(txIn.sequence));\n      hashSequences = bcrypto.sha256(bufferWriter.end());\n    }\n    if (!(isNone || isSingle)) {\n      const txOutsSize = this.outs\n        .map(output => 8 + varSliceSize(output.script))\n        .reduce((a, b) => a + b);\n      const bufferWriter = bufferutils_1.BufferWriter.withCapacity(txOutsSize);\n      this.outs.forEach(out => {\n        bufferWriter.writeUInt64(out.value);\n        bufferWriter.writeVarSlice(out.script);\n      });\n      hashOutputs = bcrypto.sha256(bufferWriter.end());\n    } else if (isSingle && inIndex < this.outs.length) {\n      const output = this.outs[inIndex];\n      const bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        8 + varSliceSize(output.script),\n      );\n      bufferWriter.writeUInt64(output.value);\n      bufferWriter.writeVarSlice(output.script);\n      hashOutputs = bcrypto.sha256(bufferWriter.end());\n    }\n    const spendType = (leafHash ? 2 : 0) + (annex ? 1 : 0);\n    // Length calculation from:\n    // https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#cite_note-14\n    // With extension from:\n    // https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki#signature-validation\n    const sigMsgSize =\n      174 -\n      (isAnyoneCanPay ? 49 : 0) -\n      (isNone ? 32 : 0) +\n      (annex ? 32 : 0) +\n      (leafHash ? 37 : 0);\n    const sigMsgWriter = bufferutils_1.BufferWriter.withCapacity(sigMsgSize);\n    sigMsgWriter.writeUInt8(hashType);\n    // Transaction\n    sigMsgWriter.writeInt32(this.version);\n    sigMsgWriter.writeUInt32(this.locktime);\n    sigMsgWriter.writeSlice(hashPrevouts);\n    sigMsgWriter.writeSlice(hashAmounts);\n    sigMsgWriter.writeSlice(hashScriptPubKeys);\n    sigMsgWriter.writeSlice(hashSequences);\n    if (!(isNone || isSingle)) {\n      sigMsgWriter.writeSlice(hashOutputs);\n    }\n    // Input\n    sigMsgWriter.writeUInt8(spendType);\n    if (isAnyoneCanPay) {\n      const input = this.ins[inIndex];\n      sigMsgWriter.writeSlice(input.hash);\n      sigMsgWriter.writeUInt32(input.index);\n      sigMsgWriter.writeUInt64(values[inIndex]);\n      sigMsgWriter.writeVarSlice(prevOutScripts[inIndex]);\n      sigMsgWriter.writeUInt32(input.sequence);\n    } else {\n      sigMsgWriter.writeUInt32(inIndex);\n    }\n    if (annex) {\n      const bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        varSliceSize(annex),\n      );\n      bufferWriter.writeVarSlice(annex);\n      sigMsgWriter.writeSlice(bcrypto.sha256(bufferWriter.end()));\n    }\n    // Output\n    if (isSingle) {\n      sigMsgWriter.writeSlice(hashOutputs);\n    }\n    // BIP342 extension\n    if (leafHash) {\n      sigMsgWriter.writeSlice(leafHash);\n      sigMsgWriter.writeUInt8(0);\n      sigMsgWriter.writeUInt32(0xffffffff);\n    }\n    // Extra zero byte because:\n    // https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#cite_note-19\n    return bcrypto.taggedHash(\n      'TapSighash',\n      Buffer.concat([Buffer.from([0x00]), sigMsgWriter.end()]),\n    );\n  }\n  hashForWitnessV0(inIndex, prevOutScript, value, hashType) {\n    typeforce(\n      types.tuple(types.UInt32, types.Buffer, types.Satoshi, types.UInt32),\n      arguments,\n    );\n    let tbuffer = Buffer.from([]);\n    let bufferWriter;\n    let hashOutputs = ZERO;\n    let hashPrevouts = ZERO;\n    let hashSequence = ZERO;\n    if (!(hashType & Transaction.SIGHASH_ANYONECANPAY)) {\n      tbuffer = Buffer.allocUnsafe(36 * this.ins.length);\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      this.ins.forEach(txIn => {\n        bufferWriter.writeSlice(txIn.hash);\n        bufferWriter.writeUInt32(txIn.index);\n      });\n      hashPrevouts = bcrypto.hash256(tbuffer);\n    }\n    if (\n      !(hashType & Transaction.SIGHASH_ANYONECANPAY) &&\n      (hashType & 0x1f) !== Transaction.SIGHASH_SINGLE &&\n      (hashType & 0x1f) !== Transaction.SIGHASH_NONE\n    ) {\n      tbuffer = Buffer.allocUnsafe(4 * this.ins.length);\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      this.ins.forEach(txIn => {\n        bufferWriter.writeUInt32(txIn.sequence);\n      });\n      hashSequence = bcrypto.hash256(tbuffer);\n    }\n    if (\n      (hashType & 0x1f) !== Transaction.SIGHASH_SINGLE &&\n      (hashType & 0x1f) !== Transaction.SIGHASH_NONE\n    ) {\n      const txOutsSize = this.outs.reduce((sum, output) => {\n        return sum + 8 + varSliceSize(output.script);\n      }, 0);\n      tbuffer = Buffer.allocUnsafe(txOutsSize);\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      this.outs.forEach(out => {\n        bufferWriter.writeUInt64(out.value);\n        bufferWriter.writeVarSlice(out.script);\n      });\n      hashOutputs = bcrypto.hash256(tbuffer);\n    } else if (\n      (hashType & 0x1f) === Transaction.SIGHASH_SINGLE &&\n      inIndex < this.outs.length\n    ) {\n      const output = this.outs[inIndex];\n      tbuffer = Buffer.allocUnsafe(8 + varSliceSize(output.script));\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      bufferWriter.writeUInt64(output.value);\n      bufferWriter.writeVarSlice(output.script);\n      hashOutputs = bcrypto.hash256(tbuffer);\n    }\n    tbuffer = Buffer.allocUnsafe(156 + varSliceSize(prevOutScript));\n    bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n    const input = this.ins[inIndex];\n    bufferWriter.writeInt32(this.version);\n    bufferWriter.writeSlice(hashPrevouts);\n    bufferWriter.writeSlice(hashSequence);\n    bufferWriter.writeSlice(input.hash);\n    bufferWriter.writeUInt32(input.index);\n    bufferWriter.writeVarSlice(prevOutScript);\n    bufferWriter.writeUInt64(value);\n    bufferWriter.writeUInt32(input.sequence);\n    bufferWriter.writeSlice(hashOutputs);\n    bufferWriter.writeUInt32(this.locktime);\n    bufferWriter.writeUInt32(hashType);\n    return bcrypto.hash256(tbuffer);\n  }\n  getHash(forWitness) {\n    // wtxid for coinbase is always 32 bytes of 0x00\n    if (forWitness && this.isCoinbase()) return Buffer.alloc(32, 0);\n    return bcrypto.hash256(this.__toBuffer(undefined, undefined, forWitness));\n  }\n  getId() {\n    // transaction hash's are displayed in reverse order\n    return (0, bufferutils_1.reverseBuffer)(this.getHash(false)).toString(\n      'hex',\n    );\n  }\n  toBuffer(buffer, initialOffset) {\n    return this.__toBuffer(buffer, initialOffset, true);\n  }\n  toHex() {\n    return this.toBuffer(undefined, undefined).toString('hex');\n  }\n  setInputScript(index, scriptSig) {\n    typeforce(types.tuple(types.Number, types.Buffer), arguments);\n    this.ins[index].script = scriptSig;\n  }\n  setWitness(index, witness) {\n    typeforce(types.tuple(types.Number, [types.Buffer]), arguments);\n    this.ins[index].witness = witness;\n  }\n  __toBuffer(buffer, initialOffset, _ALLOW_WITNESS = false) {\n    if (!buffer) buffer = Buffer.allocUnsafe(this.byteLength(_ALLOW_WITNESS));\n    const bufferWriter = new bufferutils_1.BufferWriter(\n      buffer,\n      initialOffset || 0,\n    );\n    bufferWriter.writeInt32(this.version);\n    const hasWitnesses = _ALLOW_WITNESS && this.hasWitnesses();\n    if (hasWitnesses) {\n      bufferWriter.writeUInt8(Transaction.ADVANCED_TRANSACTION_MARKER);\n      bufferWriter.writeUInt8(Transaction.ADVANCED_TRANSACTION_FLAG);\n    }\n    bufferWriter.writeVarInt(this.ins.length);\n    this.ins.forEach(txIn => {\n      bufferWriter.writeSlice(txIn.hash);\n      bufferWriter.writeUInt32(txIn.index);\n      bufferWriter.writeVarSlice(txIn.script);\n      bufferWriter.writeUInt32(txIn.sequence);\n    });\n    bufferWriter.writeVarInt(this.outs.length);\n    this.outs.forEach(txOut => {\n      if (isOutput(txOut)) {\n        bufferWriter.writeUInt64(txOut.value);\n      } else {\n        bufferWriter.writeSlice(txOut.valueBuffer);\n      }\n      bufferWriter.writeVarSlice(txOut.script);\n    });\n    if (hasWitnesses) {\n      this.ins.forEach(input => {\n        bufferWriter.writeVector(input.witness);\n      });\n    }\n    bufferWriter.writeUInt32(this.locktime);\n    // avoid slicing unless necessary\n    if (initialOffset !== undefined)\n      return buffer.slice(initialOffset, bufferWriter.offset);\n    return buffer;\n  }\n}\nexports.Transaction = Transaction;\nTransaction.DEFAULT_SEQUENCE = 0xffffffff;\nTransaction.SIGHASH_DEFAULT = 0x00;\nTransaction.SIGHASH_ALL = 0x01;\nTransaction.SIGHASH_NONE = 0x02;\nTransaction.SIGHASH_SINGLE = 0x03;\nTransaction.SIGHASH_ANYONECANPAY = 0x80;\nTransaction.SIGHASH_OUTPUT_MASK = 0x03;\nTransaction.SIGHASH_INPUT_MASK = 0x80;\nTransaction.ADVANCED_TRANSACTION_MARKER = 0x00;\nTransaction.ADVANCED_TRANSACTION_FLAG = 0x01;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.oneOf =\n  exports.Null =\n  exports.BufferN =\n  exports.Function =\n  exports.UInt32 =\n  exports.UInt8 =\n  exports.tuple =\n  exports.maybe =\n  exports.Hex =\n  exports.Buffer =\n  exports.String =\n  exports.Boolean =\n  exports.Array =\n  exports.Number =\n  exports.Hash256bit =\n  exports.Hash160bit =\n  exports.Buffer256bit =\n  exports.isTaptree =\n  exports.isTapleaf =\n  exports.TAPLEAF_VERSION_MASK =\n  exports.Network =\n  exports.ECPoint =\n  exports.Satoshi =\n  exports.Signer =\n  exports.BIP32Path =\n  exports.UInt31 =\n  exports.isPoint =\n  exports.typeforce =\n    void 0;\nconst buffer_1 = require('buffer');\nexports.typeforce = require('typeforce');\nconst ZERO32 = buffer_1.Buffer.alloc(32, 0);\nconst EC_P = buffer_1.Buffer.from(\n  'fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f',\n  'hex',\n);\nfunction isPoint(p) {\n  if (!buffer_1.Buffer.isBuffer(p)) return false;\n  if (p.length < 33) return false;\n  const t = p[0];\n  const x = p.slice(1, 33);\n  if (x.compare(ZERO32) === 0) return false;\n  if (x.compare(EC_P) >= 0) return false;\n  if ((t === 0x02 || t === 0x03) && p.length === 33) {\n    return true;\n  }\n  const y = p.slice(33);\n  if (y.compare(ZERO32) === 0) return false;\n  if (y.compare(EC_P) >= 0) return false;\n  if (t === 0x04 && p.length === 65) return true;\n  return false;\n}\nexports.isPoint = isPoint;\nconst UINT31_MAX = Math.pow(2, 31) - 1;\nfunction UInt31(value) {\n  return exports.typeforce.UInt32(value) && value <= UINT31_MAX;\n}\nexports.UInt31 = UInt31;\nfunction BIP32Path(value) {\n  return (\n    exports.typeforce.String(value) && !!value.match(/^(m\\/)?(\\d+'?\\/)*\\d+'?$/)\n  );\n}\nexports.BIP32Path = BIP32Path;\nBIP32Path.toJSON = () => {\n  return 'BIP32 derivation path';\n};\nfunction Signer(obj) {\n  return (\n    (exports.typeforce.Buffer(obj.publicKey) ||\n      typeof obj.getPublicKey === 'function') &&\n    typeof obj.sign === 'function'\n  );\n}\nexports.Signer = Signer;\nconst SATOSHI_MAX = 21 * 1e14;\nfunction Satoshi(value) {\n  return exports.typeforce.UInt53(value) && value <= SATOSHI_MAX;\n}\nexports.Satoshi = Satoshi;\n// external dependent types\nexports.ECPoint = exports.typeforce.quacksLike('Point');\n// exposed, external API\nexports.Network = exports.typeforce.compile({\n  messagePrefix: exports.typeforce.oneOf(\n    exports.typeforce.Buffer,\n    exports.typeforce.String,\n  ),\n  bip32: {\n    public: exports.typeforce.UInt32,\n    private: exports.typeforce.UInt32,\n  },\n  pubKeyHash: exports.typeforce.UInt8,\n  scriptHash: exports.typeforce.UInt8,\n  wif: exports.typeforce.UInt8,\n});\nexports.TAPLEAF_VERSION_MASK = 0xfe;\nfunction isTapleaf(o) {\n  if (!o || !('output' in o)) return false;\n  if (!buffer_1.Buffer.isBuffer(o.output)) return false;\n  if (o.version !== undefined)\n    return (o.version & exports.TAPLEAF_VERSION_MASK) === o.version;\n  return true;\n}\nexports.isTapleaf = isTapleaf;\nfunction isTaptree(scriptTree) {\n  if (!(0, exports.Array)(scriptTree)) return isTapleaf(scriptTree);\n  if (scriptTree.length !== 2) return false;\n  return scriptTree.every(t => isTaptree(t));\n}\nexports.isTaptree = isTaptree;\nexports.Buffer256bit = exports.typeforce.BufferN(32);\nexports.Hash160bit = exports.typeforce.BufferN(20);\nexports.Hash256bit = exports.typeforce.BufferN(32);\nexports.Number = exports.typeforce.Number;\nexports.Array = exports.typeforce.Array;\nexports.Boolean = exports.typeforce.Boolean;\nexports.String = exports.typeforce.String;\nexports.Buffer = exports.typeforce.Buffer;\nexports.Hex = exports.typeforce.Hex;\nexports.maybe = exports.typeforce.maybe;\nexports.tuple = exports.typeforce.tuple;\nexports.UInt8 = exports.typeforce.UInt8;\nexports.UInt32 = exports.typeforce.UInt32;\nexports.Function = exports.typeforce.Function;\nexports.BufferN = exports.typeforce.BufferN;\nexports.Null = exports.typeforce.Null;\nexports.oneOf = exports.typeforce.oneOf;\n","// Currently in sync with Node.js lib/assert.js\n// https://github.com/nodejs/node/commit/2a51ae424a513ec9a6aa3466baa0cc1d55dd4f3b\n\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nvar _require = require('./internal/errors'),\n  _require$codes = _require.codes,\n  ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE,\n  ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE,\n  ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;\nvar AssertionError = require('./internal/assert/assertion_error');\nvar _require2 = require('util/'),\n  inspect = _require2.inspect;\nvar _require$types = require('util/').types,\n  isPromise = _require$types.isPromise,\n  isRegExp = _require$types.isRegExp;\nvar objectAssign = require('object.assign/polyfill')();\nvar objectIs = require('object-is/polyfill')();\nvar RegExpPrototypeTest = require('call-bind/callBound')('RegExp.prototype.test');\nvar errorCache = new Map();\nvar isDeepEqual;\nvar isDeepStrictEqual;\nvar parseExpressionAt;\nvar findNodeAround;\nvar decoder;\nfunction lazyLoadComparison() {\n  var comparison = require('./internal/util/comparisons');\n  isDeepEqual = comparison.isDeepEqual;\n  isDeepStrictEqual = comparison.isDeepStrictEqual;\n}\n\n// Escape control characters but not \\n and \\t to keep the line breaks and\n// indentation intact.\n// eslint-disable-next-line no-control-regex\nvar escapeSequencesRegExp = /[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f]/g;\nvar meta = [\"\\\\u0000\", \"\\\\u0001\", \"\\\\u0002\", \"\\\\u0003\", \"\\\\u0004\", \"\\\\u0005\", \"\\\\u0006\", \"\\\\u0007\", '\\\\b', '', '', \"\\\\u000b\", '\\\\f', '', \"\\\\u000e\", \"\\\\u000f\", \"\\\\u0010\", \"\\\\u0011\", \"\\\\u0012\", \"\\\\u0013\", \"\\\\u0014\", \"\\\\u0015\", \"\\\\u0016\", \"\\\\u0017\", \"\\\\u0018\", \"\\\\u0019\", \"\\\\u001a\", \"\\\\u001b\", \"\\\\u001c\", \"\\\\u001d\", \"\\\\u001e\", \"\\\\u001f\"];\nvar escapeFn = function escapeFn(str) {\n  return meta[str.charCodeAt(0)];\n};\nvar warned = false;\n\n// The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\nvar NO_EXCEPTION_SENTINEL = {};\n\n// All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided. All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction innerFail(obj) {\n  if (obj.message instanceof Error) throw obj.message;\n  throw new AssertionError(obj);\n}\nfunction fail(actual, expected, message, operator, stackStartFn) {\n  var argsLen = arguments.length;\n  var internalMessage;\n  if (argsLen === 0) {\n    internalMessage = 'Failed';\n  } else if (argsLen === 1) {\n    message = actual;\n    actual = undefined;\n  } else {\n    if (warned === false) {\n      warned = true;\n      var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);\n      warn('assert.fail() with more than one argument is deprecated. ' + 'Please use assert.strictEqual() instead or only pass a message.', 'DeprecationWarning', 'DEP0094');\n    }\n    if (argsLen === 2) operator = '!=';\n  }\n  if (message instanceof Error) throw message;\n  var errArgs = {\n    actual: actual,\n    expected: expected,\n    operator: operator === undefined ? 'fail' : operator,\n    stackStartFn: stackStartFn || fail\n  };\n  if (message !== undefined) {\n    errArgs.message = message;\n  }\n  var err = new AssertionError(errArgs);\n  if (internalMessage) {\n    err.message = internalMessage;\n    err.generatedMessage = true;\n  }\n  throw err;\n}\nassert.fail = fail;\n\n// The AssertionError is defined in internal/error.\nassert.AssertionError = AssertionError;\nfunction innerOk(fn, argLen, value, message) {\n  if (!value) {\n    var generatedMessage = false;\n    if (argLen === 0) {\n      generatedMessage = true;\n      message = 'No value argument passed to `assert.ok()`';\n    } else if (message instanceof Error) {\n      throw message;\n    }\n    var err = new AssertionError({\n      actual: value,\n      expected: true,\n      message: message,\n      operator: '==',\n      stackStartFn: fn\n    });\n    err.generatedMessage = generatedMessage;\n    throw err;\n  }\n}\n\n// Pure assertion tests whether a value is truthy, as determined\n// by !!value.\nfunction ok() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  innerOk.apply(void 0, [ok, args.length].concat(args));\n}\nassert.ok = ok;\n\n// The equality assertion tests shallow, coercive equality with ==.\n/* eslint-disable no-restricted-properties */\nassert.equal = function equal(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  // eslint-disable-next-line eqeqeq\n  if (actual != expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '==',\n      stackStartFn: equal\n    });\n  }\n};\n\n// The non-equality assertion tests for whether two objects are not\n// equal with !=.\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  // eslint-disable-next-line eqeqeq\n  if (actual == expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '!=',\n      stackStartFn: notEqual\n    });\n  }\n};\n\n// The equivalence assertion tests a deep equality relation.\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  if (isDeepEqual === undefined) lazyLoadComparison();\n  if (!isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepEqual',\n      stackStartFn: deepEqual\n    });\n  }\n};\n\n// The non-equivalence assertion tests for any deep inequality.\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  if (isDeepEqual === undefined) lazyLoadComparison();\n  if (isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepEqual',\n      stackStartFn: notDeepEqual\n    });\n  }\n};\n/* eslint-enable */\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  if (isDeepEqual === undefined) lazyLoadComparison();\n  if (!isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepStrictEqual',\n      stackStartFn: deepStrictEqual\n    });\n  }\n};\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  if (isDeepEqual === undefined) lazyLoadComparison();\n  if (isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepStrictEqual',\n      stackStartFn: notDeepStrictEqual\n    });\n  }\n}\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  if (!objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'strictEqual',\n      stackStartFn: strictEqual\n    });\n  }\n};\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n  if (objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notStrictEqual',\n      stackStartFn: notStrictEqual\n    });\n  }\n};\nvar Comparison = /*#__PURE__*/_createClass(function Comparison(obj, keys, actual) {\n  var _this = this;\n  _classCallCheck(this, Comparison);\n  keys.forEach(function (key) {\n    if (key in obj) {\n      if (actual !== undefined && typeof actual[key] === 'string' && isRegExp(obj[key]) && RegExpPrototypeTest(obj[key], actual[key])) {\n        _this[key] = actual[key];\n      } else {\n        _this[key] = obj[key];\n      }\n    }\n  });\n});\nfunction compareExceptionKey(actual, expected, key, message, keys, fn) {\n  if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {\n    if (!message) {\n      // Create placeholder objects to create a nice output.\n      var a = new Comparison(actual, keys);\n      var b = new Comparison(expected, keys, actual);\n      var err = new AssertionError({\n        actual: a,\n        expected: b,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.actual = actual;\n      err.expected = expected;\n      err.operator = fn.name;\n      throw err;\n    }\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: fn.name,\n      stackStartFn: fn\n    });\n  }\n}\nfunction expectedException(actual, expected, msg, fn) {\n  if (typeof expected !== 'function') {\n    if (isRegExp(expected)) return RegExpPrototypeTest(expected, actual);\n    // assert.doesNotThrow does not accept objects.\n    if (arguments.length === 2) {\n      throw new ERR_INVALID_ARG_TYPE('expected', ['Function', 'RegExp'], expected);\n    }\n\n    // Handle primitives properly.\n    if (_typeof(actual) !== 'object' || actual === null) {\n      var err = new AssertionError({\n        actual: actual,\n        expected: expected,\n        message: msg,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.operator = fn.name;\n      throw err;\n    }\n    var keys = Object.keys(expected);\n    // Special handle errors to make sure the name and the message are compared\n    // as well.\n    if (expected instanceof Error) {\n      keys.push('name', 'message');\n    } else if (keys.length === 0) {\n      throw new ERR_INVALID_ARG_VALUE('error', expected, 'may not be an empty object');\n    }\n    if (isDeepEqual === undefined) lazyLoadComparison();\n    keys.forEach(function (key) {\n      if (typeof actual[key] === 'string' && isRegExp(expected[key]) && RegExpPrototypeTest(expected[key], actual[key])) {\n        return;\n      }\n      compareExceptionKey(actual, expected, key, msg, keys, fn);\n    });\n    return true;\n  }\n  // Guard instanceof against arrow functions as they don't have a prototype.\n  if (expected.prototype !== undefined && actual instanceof expected) {\n    return true;\n  }\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n  return expected.call({}, actual) === true;\n}\nfunction getActual(fn) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', 'Function', fn);\n  }\n  try {\n    fn();\n  } catch (e) {\n    return e;\n  }\n  return NO_EXCEPTION_SENTINEL;\n}\nfunction checkIsPromise(obj) {\n  // Accept native ES6 promises and promises that are implemented in a similar\n  // way. Do not accept thenables that use a function as `obj` and that have no\n  // `catch` handler.\n\n  // TODO: thenables are checked up until they have the correct methods,\n  // but according to documentation, the `then` method should receive\n  // the `fulfill` and `reject` arguments as well or it may be never resolved.\n\n  return isPromise(obj) || obj !== null && _typeof(obj) === 'object' && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\nfunction waitForActual(promiseFn) {\n  return Promise.resolve().then(function () {\n    var resultPromise;\n    if (typeof promiseFn === 'function') {\n      // Return a rejected promise if `promiseFn` throws synchronously.\n      resultPromise = promiseFn();\n      // Fail in case no promise is returned.\n      if (!checkIsPromise(resultPromise)) {\n        throw new ERR_INVALID_RETURN_VALUE('instance of Promise', 'promiseFn', resultPromise);\n      }\n    } else if (checkIsPromise(promiseFn)) {\n      resultPromise = promiseFn;\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('promiseFn', ['Function', 'Promise'], promiseFn);\n    }\n    return Promise.resolve().then(function () {\n      return resultPromise;\n    }).then(function () {\n      return NO_EXCEPTION_SENTINEL;\n    }).catch(function (e) {\n      return e;\n    });\n  });\n}\nfunction expectsError(stackStartFn, actual, error, message) {\n  if (typeof error === 'string') {\n    if (arguments.length === 4) {\n      throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n    }\n    if (_typeof(actual) === 'object' && actual !== null) {\n      if (actual.message === error) {\n        throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error message \\\"\".concat(actual.message, \"\\\" is identical to the message.\"));\n      }\n    } else if (actual === error) {\n      throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error \\\"\".concat(actual, \"\\\" is identical to the message.\"));\n    }\n    message = error;\n    error = undefined;\n  } else if (error != null && _typeof(error) !== 'object' && typeof error !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n  }\n  if (actual === NO_EXCEPTION_SENTINEL) {\n    var details = '';\n    if (error && error.name) {\n      details += \" (\".concat(error.name, \")\");\n    }\n    details += message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'rejects' ? 'rejection' : 'exception';\n    innerFail({\n      actual: undefined,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Missing expected \".concat(fnType).concat(details),\n      stackStartFn: stackStartFn\n    });\n  }\n  if (error && !expectedException(actual, error, message, stackStartFn)) {\n    throw actual;\n  }\n}\nfunction expectsNoError(stackStartFn, actual, error, message) {\n  if (actual === NO_EXCEPTION_SENTINEL) return;\n  if (typeof error === 'string') {\n    message = error;\n    error = undefined;\n  }\n  if (!error || expectedException(actual, error)) {\n    var details = message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'doesNotReject' ? 'rejection' : 'exception';\n    innerFail({\n      actual: actual,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Got unwanted \".concat(fnType).concat(details, \"\\n\") + \"Actual message: \\\"\".concat(actual && actual.message, \"\\\"\"),\n      stackStartFn: stackStartFn\n    });\n  }\n  throw actual;\n}\nassert.throws = function throws(promiseFn) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n  expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));\n};\nassert.rejects = function rejects(promiseFn) {\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return waitForActual(promiseFn).then(function (result) {\n    return expectsError.apply(void 0, [rejects, result].concat(args));\n  });\n};\nassert.doesNotThrow = function doesNotThrow(fn) {\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n  expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));\n};\nassert.doesNotReject = function doesNotReject(fn) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n  return waitForActual(fn).then(function (result) {\n    return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));\n  });\n};\nassert.ifError = function ifError(err) {\n  if (err !== null && err !== undefined) {\n    var message = 'ifError got unwanted exception: ';\n    if (_typeof(err) === 'object' && typeof err.message === 'string') {\n      if (err.message.length === 0 && err.constructor) {\n        message += err.constructor.name;\n      } else {\n        message += err.message;\n      }\n    } else {\n      message += inspect(err);\n    }\n    var newErr = new AssertionError({\n      actual: err,\n      expected: null,\n      operator: 'ifError',\n      message: message,\n      stackStartFn: ifError\n    });\n\n    // Make sure we actually have a stack trace!\n    var origStack = err.stack;\n    if (typeof origStack === 'string') {\n      // This will remove any duplicated frames from the error frames taken\n      // from within `ifError` and add the original error frames to the newly\n      // created ones.\n      var tmp2 = origStack.split('\\n');\n      tmp2.shift();\n      // Filter all frames existing in err.stack.\n      var tmp1 = newErr.stack.split('\\n');\n      for (var i = 0; i < tmp2.length; i++) {\n        // Find the first occurrence of the frame.\n        var pos = tmp1.indexOf(tmp2[i]);\n        if (pos !== -1) {\n          // Only keep new frames.\n          tmp1 = tmp1.slice(0, pos);\n          break;\n        }\n      }\n      newErr.stack = \"\".concat(tmp1.join('\\n'), \"\\n\").concat(tmp2.join('\\n'));\n    }\n    throw newErr;\n  }\n};\n\n// Currently in sync with Node.js lib/assert.js\n// https://github.com/nodejs/node/commit/2a871df3dfb8ea663ef5e1f8f62701ec51384ecb\nfunction internalMatch(string, regexp, message, fn, fnName) {\n  if (!isRegExp(regexp)) {\n    throw new ERR_INVALID_ARG_TYPE('regexp', 'RegExp', regexp);\n  }\n  var match = fnName === 'match';\n  if (typeof string !== 'string' || RegExpPrototypeTest(regexp, string) !== match) {\n    if (message instanceof Error) {\n      throw message;\n    }\n    var generatedMessage = !message;\n\n    // 'The input was expected to not match the regular expression ' +\n    message = message || (typeof string !== 'string' ? 'The \"string\" argument must be of type string. Received type ' + \"\".concat(_typeof(string), \" (\").concat(inspect(string), \")\") : (match ? 'The input did not match the regular expression ' : 'The input was expected to not match the regular expression ') + \"\".concat(inspect(regexp), \". Input:\\n\\n\").concat(inspect(string), \"\\n\"));\n    var err = new AssertionError({\n      actual: string,\n      expected: regexp,\n      message: message,\n      operator: fnName,\n      stackStartFn: fn\n    });\n    err.generatedMessage = generatedMessage;\n    throw err;\n  }\n}\nassert.match = function match(string, regexp, message) {\n  internalMatch(string, regexp, message, match, 'match');\n};\nassert.doesNotMatch = function doesNotMatch(string, regexp, message) {\n  internalMatch(string, regexp, message, doesNotMatch, 'doesNotMatch');\n};\n\n// Expose a strict only variant of assert\nfunction strict() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n  innerOk.apply(void 0, [strict, args.length].concat(args));\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;","// Currently in sync with Node.js lib/internal/assert/assertion_error.js\n// https://github.com/nodejs/node/commit/0817840f775032169ddd70c85ac059f18ffcc81c\n\n'use strict';\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _require = require('util/'),\n  inspect = _require.inspect;\nvar _require2 = require('../errors'),\n  ERR_INVALID_ARG_TYPE = _require2.codes.ERR_INVALID_ARG_TYPE;\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n  return str.substring(this_len - search.length, this_len) === search;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\nfunction repeat(str, count) {\n  count = Math.floor(count);\n  if (str.length == 0 || count == 0) return '';\n  var maxCount = str.length * count;\n  count = Math.floor(Math.log(count) / Math.log(2));\n  while (count) {\n    str += str;\n    count--;\n  }\n  str += str.substring(0, maxCount - str.length);\n  return str;\n}\nvar blue = '';\nvar green = '';\nvar red = '';\nvar white = '';\nvar kReadableOperator = {\n  deepStrictEqual: 'Expected values to be strictly deep-equal:',\n  strictEqual: 'Expected values to be strictly equal:',\n  strictEqualObject: 'Expected \"actual\" to be reference-equal to \"expected\":',\n  deepEqual: 'Expected values to be loosely deep-equal:',\n  equal: 'Expected values to be loosely equal:',\n  notDeepStrictEqual: 'Expected \"actual\" not to be strictly deep-equal to:',\n  notStrictEqual: 'Expected \"actual\" to be strictly unequal to:',\n  notStrictEqualObject: 'Expected \"actual\" not to be reference-equal to \"expected\":',\n  notDeepEqual: 'Expected \"actual\" not to be loosely deep-equal to:',\n  notEqual: 'Expected \"actual\" to be loosely unequal to:',\n  notIdentical: 'Values identical but not reference-equal:'\n};\n\n// Comparing short primitives should just show === / !== instead of using the\n// diff.\nvar kMaxShortLength = 10;\nfunction copyError(source) {\n  var keys = Object.keys(source);\n  var target = Object.create(Object.getPrototypeOf(source));\n  keys.forEach(function (key) {\n    target[key] = source[key];\n  });\n  Object.defineProperty(target, 'message', {\n    value: source.message\n  });\n  return target;\n}\nfunction inspectValue(val) {\n  // The util.inspect default values could be changed. This makes sure the\n  // error messages contain the necessary information nevertheless.\n  return inspect(val, {\n    compact: false,\n    customInspect: false,\n    depth: 1000,\n    maxArrayLength: Infinity,\n    // Assert compares only enumerable properties (with a few exceptions).\n    showHidden: false,\n    // Having a long line as error is better than wrapping the line for\n    // comparison for now.\n    // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we\n    // have meta information about the inspected properties (i.e., know where\n    // in what line the property starts and ends).\n    breakLength: Infinity,\n    // Assert does not detect proxies currently.\n    showProxy: false,\n    sorted: true,\n    // Inspect getters as we also check them when comparing entries.\n    getters: true\n  });\n}\nfunction createErrDiff(actual, expected, operator) {\n  var other = '';\n  var res = '';\n  var lastPos = 0;\n  var end = '';\n  var skipped = false;\n  var actualInspected = inspectValue(actual);\n  var actualLines = actualInspected.split('\\n');\n  var expectedLines = inspectValue(expected).split('\\n');\n  var i = 0;\n  var indicator = '';\n\n  // In case both values are objects explicitly mark them as not reference equal\n  // for the `strictEqual` operator.\n  if (operator === 'strictEqual' && _typeof(actual) === 'object' && _typeof(expected) === 'object' && actual !== null && expected !== null) {\n    operator = 'strictEqualObject';\n  }\n\n  // If \"actual\" and \"expected\" fit on a single line and they are not strictly\n  // equal, check further special handling.\n  if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {\n    var inputLength = actualLines[0].length + expectedLines[0].length;\n    // If the character length of \"actual\" and \"expected\" together is less than\n    // kMaxShortLength and if neither is an object and at least one of them is\n    // not `zero`, use the strict equal comparison to visualize the output.\n    if (inputLength <= kMaxShortLength) {\n      if ((_typeof(actual) !== 'object' || actual === null) && (_typeof(expected) !== 'object' || expected === null) && (actual !== 0 || expected !== 0)) {\n        // -0 === +0\n        return \"\".concat(kReadableOperator[operator], \"\\n\\n\") + \"\".concat(actualLines[0], \" !== \").concat(expectedLines[0], \"\\n\");\n      }\n    } else if (operator !== 'strictEqualObject') {\n      // If the stderr is a tty and the input length is lower than the current\n      // columns per line, add a mismatch indicator below the output. If it is\n      // not a tty, use a default value of 80 characters.\n      var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;\n      if (inputLength < maxLength) {\n        while (actualLines[0][i] === expectedLines[0][i]) {\n          i++;\n        }\n        // Ignore the first characters.\n        if (i > 2) {\n          // Add position indicator for the first mismatch in case it is a\n          // single line and the input length is less than the column length.\n          indicator = \"\\n  \".concat(repeat(' ', i), \"^\");\n          i = 0;\n        }\n      }\n    }\n  }\n\n  // Remove all ending lines that match (this optimizes the output for\n  // readability by reducing the number of total changed lines).\n  var a = actualLines[actualLines.length - 1];\n  var b = expectedLines[expectedLines.length - 1];\n  while (a === b) {\n    if (i++ < 2) {\n      end = \"\\n  \".concat(a).concat(end);\n    } else {\n      other = a;\n    }\n    actualLines.pop();\n    expectedLines.pop();\n    if (actualLines.length === 0 || expectedLines.length === 0) break;\n    a = actualLines[actualLines.length - 1];\n    b = expectedLines[expectedLines.length - 1];\n  }\n  var maxLines = Math.max(actualLines.length, expectedLines.length);\n  // Strict equal with identical objects that are not identical by reference.\n  // E.g., assert.deepStrictEqual({ a: Symbol() }, { a: Symbol() })\n  if (maxLines === 0) {\n    // We have to get the result again. The lines were all removed before.\n    var _actualLines = actualInspected.split('\\n');\n\n    // Only remove lines in case it makes sense to collapse those.\n    // TODO: Accept env to always show the full error.\n    if (_actualLines.length > 30) {\n      _actualLines[26] = \"\".concat(blue, \"...\").concat(white);\n      while (_actualLines.length > 27) {\n        _actualLines.pop();\n      }\n    }\n    return \"\".concat(kReadableOperator.notIdentical, \"\\n\\n\").concat(_actualLines.join('\\n'), \"\\n\");\n  }\n  if (i > 3) {\n    end = \"\\n\".concat(blue, \"...\").concat(white).concat(end);\n    skipped = true;\n  }\n  if (other !== '') {\n    end = \"\\n  \".concat(other).concat(end);\n    other = '';\n  }\n  var printedLines = 0;\n  var msg = kReadableOperator[operator] + \"\\n\".concat(green, \"+ actual\").concat(white, \" \").concat(red, \"- expected\").concat(white);\n  var skippedMsg = \" \".concat(blue, \"...\").concat(white, \" Lines skipped\");\n  for (i = 0; i < maxLines; i++) {\n    // Only extra expected lines exist\n    var cur = i - lastPos;\n    if (actualLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(expectedLines[i - 2]);\n          printedLines++;\n        }\n        res += \"\\n  \".concat(expectedLines[i - 1]);\n        printedLines++;\n      }\n      // Mark the current line as the last diverging one.\n      lastPos = i;\n      // Add the expected line to the cache.\n      other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLines[i]);\n      printedLines++;\n      // Only extra actual lines exist\n    } else if (expectedLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(actualLines[i - 2]);\n          printedLines++;\n        }\n        res += \"\\n  \".concat(actualLines[i - 1]);\n        printedLines++;\n      }\n      // Mark the current line as the last diverging one.\n      lastPos = i;\n      // Add the actual line to the result.\n      res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLines[i]);\n      printedLines++;\n      // Lines diverge\n    } else {\n      var expectedLine = expectedLines[i];\n      var actualLine = actualLines[i];\n      // If the lines diverge, specifically check for lines that only diverge by\n      // a trailing comma. In that case it is actually identical and we should\n      // mark it as such.\n      var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ',') || actualLine.slice(0, -1) !== expectedLine);\n      // If the expected line has a trailing comma but is otherwise identical,\n      // add a comma at the end of the actual line. Otherwise the output could\n      // look weird as in:\n      //\n      //   [\n      //     1         // No comma at the end!\n      // +   2\n      //   ]\n      //\n      if (divergingLines && endsWith(expectedLine, ',') && expectedLine.slice(0, -1) === actualLine) {\n        divergingLines = false;\n        actualLine += ',';\n      }\n      if (divergingLines) {\n        // If the last diverging line is more than one line above and the\n        // current line is at least line three, add some of the former lines and\n        // also add dots to indicate skipped entries.\n        if (cur > 1 && i > 2) {\n          if (cur > 4) {\n            res += \"\\n\".concat(blue, \"...\").concat(white);\n            skipped = true;\n          } else if (cur > 3) {\n            res += \"\\n  \".concat(actualLines[i - 2]);\n            printedLines++;\n          }\n          res += \"\\n  \".concat(actualLines[i - 1]);\n          printedLines++;\n        }\n        // Mark the current line as the last diverging one.\n        lastPos = i;\n        // Add the actual line to the result and cache the expected diverging\n        // line so consecutive diverging lines show up as +++--- and not +-+-+-.\n        res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLine);\n        other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLine);\n        printedLines += 2;\n        // Lines are identical\n      } else {\n        // Add all cached information to the result before adding other things\n        // and reset the cache.\n        res += other;\n        other = '';\n        // If the last diverging line is exactly one line above or if it is the\n        // very first line, add the line to the result.\n        if (cur === 1 || i === 0) {\n          res += \"\\n  \".concat(actualLine);\n          printedLines++;\n        }\n      }\n    }\n    // Inspected object to big (Show ~20 rows max)\n    if (printedLines > 20 && i < maxLines - 2) {\n      return \"\".concat(msg).concat(skippedMsg, \"\\n\").concat(res, \"\\n\").concat(blue, \"...\").concat(white).concat(other, \"\\n\") + \"\".concat(blue, \"...\").concat(white);\n    }\n  }\n  return \"\".concat(msg).concat(skipped ? skippedMsg : '', \"\\n\").concat(res).concat(other).concat(end).concat(indicator);\n}\nvar AssertionError = /*#__PURE__*/function (_Error, _inspect$custom) {\n  _inherits(AssertionError, _Error);\n  var _super = _createSuper(AssertionError);\n  function AssertionError(options) {\n    var _this;\n    _classCallCheck(this, AssertionError);\n    if (_typeof(options) !== 'object' || options === null) {\n      throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n    }\n    var message = options.message,\n      operator = options.operator,\n      stackStartFn = options.stackStartFn;\n    var actual = options.actual,\n      expected = options.expected;\n    var limit = Error.stackTraceLimit;\n    Error.stackTraceLimit = 0;\n    if (message != null) {\n      _this = _super.call(this, String(message));\n    } else {\n      if (process.stderr && process.stderr.isTTY) {\n        // Reset on each call to make sure we handle dynamically set environment\n        // variables correct.\n        if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {\n          blue = \"\\x1B[34m\";\n          green = \"\\x1B[32m\";\n          white = \"\\x1B[39m\";\n          red = \"\\x1B[31m\";\n        } else {\n          blue = '';\n          green = '';\n          white = '';\n          red = '';\n        }\n      }\n      // Prevent the error stack from being visible by duplicating the error\n      // in a very close way to the original in case both sides are actually\n      // instances of Error.\n      if (_typeof(actual) === 'object' && actual !== null && _typeof(expected) === 'object' && expected !== null && 'stack' in actual && actual instanceof Error && 'stack' in expected && expected instanceof Error) {\n        actual = copyError(actual);\n        expected = copyError(expected);\n      }\n      if (operator === 'deepStrictEqual' || operator === 'strictEqual') {\n        _this = _super.call(this, createErrDiff(actual, expected, operator));\n      } else if (operator === 'notDeepStrictEqual' || operator === 'notStrictEqual') {\n        // In case the objects are equal but the operator requires unequal, show\n        // the first object and say A equals B\n        var base = kReadableOperator[operator];\n        var res = inspectValue(actual).split('\\n');\n\n        // In case \"actual\" is an object, it should not be reference equal.\n        if (operator === 'notStrictEqual' && _typeof(actual) === 'object' && actual !== null) {\n          base = kReadableOperator.notStrictEqualObject;\n        }\n\n        // Only remove lines in case it makes sense to collapse those.\n        // TODO: Accept env to always show the full error.\n        if (res.length > 30) {\n          res[26] = \"\".concat(blue, \"...\").concat(white);\n          while (res.length > 27) {\n            res.pop();\n          }\n        }\n\n        // Only print a single input.\n        if (res.length === 1) {\n          _this = _super.call(this, \"\".concat(base, \" \").concat(res[0]));\n        } else {\n          _this = _super.call(this, \"\".concat(base, \"\\n\\n\").concat(res.join('\\n'), \"\\n\"));\n        }\n      } else {\n        var _res = inspectValue(actual);\n        var other = '';\n        var knownOperators = kReadableOperator[operator];\n        if (operator === 'notDeepEqual' || operator === 'notEqual') {\n          _res = \"\".concat(kReadableOperator[operator], \"\\n\\n\").concat(_res);\n          if (_res.length > 1024) {\n            _res = \"\".concat(_res.slice(0, 1021), \"...\");\n          }\n        } else {\n          other = \"\".concat(inspectValue(expected));\n          if (_res.length > 512) {\n            _res = \"\".concat(_res.slice(0, 509), \"...\");\n          }\n          if (other.length > 512) {\n            other = \"\".concat(other.slice(0, 509), \"...\");\n          }\n          if (operator === 'deepEqual' || operator === 'equal') {\n            _res = \"\".concat(knownOperators, \"\\n\\n\").concat(_res, \"\\n\\nshould equal\\n\\n\");\n          } else {\n            other = \" \".concat(operator, \" \").concat(other);\n          }\n        }\n        _this = _super.call(this, \"\".concat(_res).concat(other));\n      }\n    }\n    Error.stackTraceLimit = limit;\n    _this.generatedMessage = !message;\n    Object.defineProperty(_assertThisInitialized(_this), 'name', {\n      value: 'AssertionError [ERR_ASSERTION]',\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n    _this.code = 'ERR_ASSERTION';\n    _this.actual = actual;\n    _this.expected = expected;\n    _this.operator = operator;\n    if (Error.captureStackTrace) {\n      // eslint-disable-next-line no-restricted-syntax\n      Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);\n    }\n    // Create error message including the error code in the name.\n    _this.stack;\n    // Reset the name.\n    _this.name = 'AssertionError';\n    return _possibleConstructorReturn(_this);\n  }\n  _createClass(AssertionError, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.name, \" [\").concat(this.code, \"]: \").concat(this.message);\n    }\n  }, {\n    key: _inspect$custom,\n    value: function value(recurseTimes, ctx) {\n      // This limits the `actual` and `expected` property default inspection to\n      // the minimum depth. Otherwise those values would be too verbose compared\n      // to the actual error message which contains a combined view of these two\n      // input values.\n      return inspect(this, _objectSpread(_objectSpread({}, ctx), {}, {\n        customInspect: false,\n        depth: 0\n      }));\n    }\n  }]);\n  return AssertionError;\n}( /*#__PURE__*/_wrapNativeSuper(Error), inspect.custom);\nmodule.exports = AssertionError;","// Currently in sync with Node.js lib/internal/errors.js\n// https://github.com/nodejs/node/commit/3b044962c48fe313905877a96b5d0894a5404f6f\n\n/* eslint node-core/documented-errors: \"error\" */\n/* eslint node-core/alphabetize-errors: \"error\" */\n/* eslint node-core/prefer-util-format-errors: \"error\" */\n\n'use strict';\n\n// The whole point behind this internal module is to allow Node.js to no\n// longer be forced to treat every error message change as a semver-major\n// change. The NodeError classes here all expose a `code` property whose\n// value statically and permanently identifies the error. While the error\n// message may change, the code should not.\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar codes = {};\n\n// Lazy loaded\nvar assert;\nvar util;\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n  var NodeError = /*#__PURE__*/function (_Base) {\n    _inherits(NodeError, _Base);\n    var _super = _createSuper(NodeError);\n    function NodeError(arg1, arg2, arg3) {\n      var _this;\n      _classCallCheck(this, NodeError);\n      _this = _super.call(this, getMessage(arg1, arg2, arg3));\n      _this.code = code;\n      return _this;\n    }\n    return _createClass(NodeError);\n  }(Base);\n  codes[code] = NodeError;\n}\n\n// https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n  return str.substring(this_len - search.length, this_len) === search;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\ncreateErrorType('ERR_AMBIGUOUS_ARGUMENT', 'The \"%s\" argument is ambiguous. %s', TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  if (assert === undefined) assert = require('../assert');\n  assert(typeof name === 'string', \"'name' must be a string\");\n\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n  var msg;\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  // TODO(BridgeAR): Improve the output by showing `null` and similar.\n  msg += \". Received type \".concat(_typeof(actual));\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_VALUE', function (name, value) {\n  var reason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'is invalid';\n  if (util === undefined) util = require('util/');\n  var inspected = util.inspect(value);\n  if (inspected.length > 128) {\n    inspected = \"\".concat(inspected.slice(0, 128), \"...\");\n  }\n  return \"The argument '\".concat(name, \"' \").concat(reason, \". Received \").concat(inspected);\n}, TypeError, RangeError);\ncreateErrorType('ERR_INVALID_RETURN_VALUE', function (input, name, value) {\n  var type;\n  if (value && value.constructor && value.constructor.name) {\n    type = \"instance of \".concat(value.constructor.name);\n  } else {\n    type = \"type \".concat(_typeof(value));\n  }\n  return \"Expected \".concat(input, \" to be returned from the \\\"\").concat(name, \"\\\"\") + \" function but got \".concat(type, \".\");\n}, TypeError);\ncreateErrorType('ERR_MISSING_ARGS', function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (assert === undefined) assert = require('../assert');\n  assert(args.length > 0, 'At least one arg needs to be specified');\n  var msg = 'The ';\n  var len = args.length;\n  args = args.map(function (a) {\n    return \"\\\"\".concat(a, \"\\\"\");\n  });\n  switch (len) {\n    case 1:\n      msg += \"\".concat(args[0], \" argument\");\n      break;\n    case 2:\n      msg += \"\".concat(args[0], \" and \").concat(args[1], \" arguments\");\n      break;\n    default:\n      msg += args.slice(0, len - 1).join(', ');\n      msg += \", and \".concat(args[len - 1], \" arguments\");\n      break;\n  }\n  return \"\".concat(msg, \" must be specified\");\n}, TypeError);\nmodule.exports.codes = codes;","// Currently in sync with Node.js lib/internal/util/comparisons.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar regexFlagsSupported = /a/g.flags !== undefined;\nvar arrayFromSet = function arrayFromSet(set) {\n  var array = [];\n  set.forEach(function (value) {\n    return array.push(value);\n  });\n  return array;\n};\nvar arrayFromMap = function arrayFromMap(map) {\n  var array = [];\n  map.forEach(function (value, key) {\n    return array.push([key, value]);\n  });\n  return array;\n};\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function () {\n  return [];\n};\nvar numberIsNaN = Number.isNaN ? Number.isNaN : require('is-nan');\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\nvar hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\nvar propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);\nvar objectToString = uncurryThis(Object.prototype.toString);\nvar _require$types = require('util/').types,\n  isAnyArrayBuffer = _require$types.isAnyArrayBuffer,\n  isArrayBufferView = _require$types.isArrayBufferView,\n  isDate = _require$types.isDate,\n  isMap = _require$types.isMap,\n  isRegExp = _require$types.isRegExp,\n  isSet = _require$types.isSet,\n  isNativeError = _require$types.isNativeError,\n  isBoxedPrimitive = _require$types.isBoxedPrimitive,\n  isNumberObject = _require$types.isNumberObject,\n  isStringObject = _require$types.isStringObject,\n  isBooleanObject = _require$types.isBooleanObject,\n  isBigIntObject = _require$types.isBigIntObject,\n  isSymbolObject = _require$types.isSymbolObject,\n  isFloat32Array = _require$types.isFloat32Array,\n  isFloat64Array = _require$types.isFloat64Array;\nfunction isNonIndex(key) {\n  if (key.length === 0 || key.length > 10) return true;\n  for (var i = 0; i < key.length; i++) {\n    var code = key.charCodeAt(i);\n    if (code < 48 || code > 57) return true;\n  }\n  // The maximum size for an array is 2 ** 32 -1.\n  return key.length === 10 && key >= Math.pow(2, 32);\n}\nfunction getOwnNonIndexProperties(value) {\n  return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));\n}\n\n// Taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n  var x = a.length;\n  var y = b.length;\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nvar ONLY_ENUMERABLE = undefined;\nvar kStrict = true;\nvar kLoose = false;\nvar kNoIterator = 0;\nvar kIsArray = 1;\nvar kIsSet = 2;\nvar kIsMap = 3;\n\n// Check if they have the same source and flags\nfunction areSimilarRegExps(a, b) {\n  return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);\n}\nfunction areSimilarFloatArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n  for (var offset = 0; offset < a.byteLength; offset++) {\n    if (a[offset] !== b[offset]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction areSimilarTypedArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n  return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;\n}\nfunction areEqualArrayBuffers(buf1, buf2) {\n  return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;\n}\nfunction isEqualBoxedPrimitive(val1, val2) {\n  if (isNumberObject(val1)) {\n    return isNumberObject(val2) && objectIs(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));\n  }\n  if (isStringObject(val1)) {\n    return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);\n  }\n  if (isBooleanObject(val1)) {\n    return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);\n  }\n  if (isBigIntObject(val1)) {\n    return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);\n  }\n  return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);\n}\n\n// Notes: Type tags are historical [[Class]] properties that can be set by\n// FunctionTemplate::SetClassName() in C++ or Symbol.toStringTag in JS\n// and retrieved using Object.prototype.toString.call(obj) in JS\n// See https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n// for a list of tags pre-defined in the spec.\n// There are some unspecified tags in the wild too (e.g. typed array tags).\n// Since tags can be altered, they only serve fast failures\n//\n// Typed arrays and buffers are checked by comparing the content in their\n// underlying ArrayBuffer. This optimization requires that it's\n// reasonable to interpret their underlying memory in the same way,\n// which is checked by comparing their type tags.\n// (e.g. a Uint8Array and a Uint16Array with the same memory content\n// could still be different because they will be interpreted differently).\n//\n// For strict comparison, objects should have\n// a) The same built-in type tags\n// b) The same prototypes.\n\nfunction innerDeepEqual(val1, val2, strict, memos) {\n  // All identical values are equivalent, as determined by ===.\n  if (val1 === val2) {\n    if (val1 !== 0) return true;\n    return strict ? objectIs(val1, val2) : true;\n  }\n\n  // Check more closely if val1 and val2 are equal.\n  if (strict) {\n    if (_typeof(val1) !== 'object') {\n      return typeof val1 === 'number' && numberIsNaN(val1) && numberIsNaN(val2);\n    }\n    if (_typeof(val2) !== 'object' || val1 === null || val2 === null) {\n      return false;\n    }\n    if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {\n      return false;\n    }\n  } else {\n    if (val1 === null || _typeof(val1) !== 'object') {\n      if (val2 === null || _typeof(val2) !== 'object') {\n        // eslint-disable-next-line eqeqeq\n        return val1 == val2;\n      }\n      return false;\n    }\n    if (val2 === null || _typeof(val2) !== 'object') {\n      return false;\n    }\n  }\n  var val1Tag = objectToString(val1);\n  var val2Tag = objectToString(val2);\n  if (val1Tag !== val2Tag) {\n    return false;\n  }\n  if (Array.isArray(val1)) {\n    // Check for sparse arrays and general fast path\n    if (val1.length !== val2.length) {\n      return false;\n    }\n    var keys1 = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n    var keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n    return keyCheck(val1, val2, strict, memos, kIsArray, keys1);\n  }\n  // [browserify] This triggers on certain types in IE (Map/Set) so we don't\n  // wan't to early return out of the rest of the checks. However we can check\n  // if the second value is one of these values and the first isn't.\n  if (val1Tag === '[object Object]') {\n    // return keyCheck(val1, val2, strict, memos, kNoIterator);\n    if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {\n      return false;\n    }\n  }\n  if (isDate(val1)) {\n    if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {\n      return false;\n    }\n  } else if (isRegExp(val1)) {\n    if (!isRegExp(val2) || !areSimilarRegExps(val1, val2)) {\n      return false;\n    }\n  } else if (isNativeError(val1) || val1 instanceof Error) {\n    // Do not compare the stack as it might differ even though the error itself\n    // is otherwise identical.\n    if (val1.message !== val2.message || val1.name !== val2.name) {\n      return false;\n    }\n  } else if (isArrayBufferView(val1)) {\n    if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {\n      if (!areSimilarFloatArrays(val1, val2)) {\n        return false;\n      }\n    } else if (!areSimilarTypedArrays(val1, val2)) {\n      return false;\n    }\n    // Buffer.compare returns true, so val1.length === val2.length. If they both\n    // only contain numeric keys, we don't need to exam further than checking\n    // the symbols.\n    var _keys = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n    var _keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n    if (_keys.length !== _keys2.length) {\n      return false;\n    }\n    return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);\n  } else if (isSet(val1)) {\n    if (!isSet(val2) || val1.size !== val2.size) {\n      return false;\n    }\n    return keyCheck(val1, val2, strict, memos, kIsSet);\n  } else if (isMap(val1)) {\n    if (!isMap(val2) || val1.size !== val2.size) {\n      return false;\n    }\n    return keyCheck(val1, val2, strict, memos, kIsMap);\n  } else if (isAnyArrayBuffer(val1)) {\n    if (!areEqualArrayBuffers(val1, val2)) {\n      return false;\n    }\n  } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {\n    return false;\n  }\n  return keyCheck(val1, val2, strict, memos, kNoIterator);\n}\nfunction getEnumerables(val, keys) {\n  return keys.filter(function (k) {\n    return propertyIsEnumerable(val, k);\n  });\n}\nfunction keyCheck(val1, val2, strict, memos, iterationType, aKeys) {\n  // For all remaining Object pairs, including Array, objects and Maps,\n  // equivalence is determined by having:\n  // a) The same number of owned enumerable properties\n  // b) The same set of keys/indexes (although not necessarily the same order)\n  // c) Equivalent values for every corresponding key/index\n  // d) For Sets and Maps, equal contents\n  // Note: this accounts for both named and indexed properties on Arrays.\n  if (arguments.length === 5) {\n    aKeys = Object.keys(val1);\n    var bKeys = Object.keys(val2);\n\n    // The pair must have the same number of owned properties.\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n  }\n\n  // Cheap key test\n  var i = 0;\n  for (; i < aKeys.length; i++) {\n    if (!hasOwnProperty(val2, aKeys[i])) {\n      return false;\n    }\n  }\n  if (strict && arguments.length === 5) {\n    var symbolKeysA = objectGetOwnPropertySymbols(val1);\n    if (symbolKeysA.length !== 0) {\n      var count = 0;\n      for (i = 0; i < symbolKeysA.length; i++) {\n        var key = symbolKeysA[i];\n        if (propertyIsEnumerable(val1, key)) {\n          if (!propertyIsEnumerable(val2, key)) {\n            return false;\n          }\n          aKeys.push(key);\n          count++;\n        } else if (propertyIsEnumerable(val2, key)) {\n          return false;\n        }\n      }\n      var symbolKeysB = objectGetOwnPropertySymbols(val2);\n      if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {\n        return false;\n      }\n    } else {\n      var _symbolKeysB = objectGetOwnPropertySymbols(val2);\n      if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {\n        return false;\n      }\n    }\n  }\n  if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {\n    return true;\n  }\n\n  // Use memos to handle cycles.\n  if (memos === undefined) {\n    memos = {\n      val1: new Map(),\n      val2: new Map(),\n      position: 0\n    };\n  } else {\n    // We prevent up to two map.has(x) calls by directly retrieving the value\n    // and checking for undefined. The map can only contain numbers, so it is\n    // safe to check for undefined only.\n    var val2MemoA = memos.val1.get(val1);\n    if (val2MemoA !== undefined) {\n      var val2MemoB = memos.val2.get(val2);\n      if (val2MemoB !== undefined) {\n        return val2MemoA === val2MemoB;\n      }\n    }\n    memos.position++;\n  }\n  memos.val1.set(val1, memos.position);\n  memos.val2.set(val2, memos.position);\n  var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);\n  memos.val1.delete(val1);\n  memos.val2.delete(val2);\n  return areEq;\n}\nfunction setHasEqualElement(set, val1, strict, memo) {\n  // Go looking.\n  var setValues = arrayFromSet(set);\n  for (var i = 0; i < setValues.length; i++) {\n    var val2 = setValues[i];\n    if (innerDeepEqual(val1, val2, strict, memo)) {\n      // Remove the matching element to make sure we do not check that again.\n      set.delete(val2);\n      return true;\n    }\n  }\n  return false;\n}\n\n// See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using\n// Sadly it is not possible to detect corresponding values properly in case the\n// type is a string, number, bigint or boolean. The reason is that those values\n// can match lots of different string values (e.g., 1n == '+00001').\nfunction findLooseMatchingPrimitives(prim) {\n  switch (_typeof(prim)) {\n    case 'undefined':\n      return null;\n    case 'object':\n      // Only pass in null as object!\n      return undefined;\n    case 'symbol':\n      return false;\n    case 'string':\n      prim = +prim;\n    // Loose equal entries exist only if the string is possible to convert to\n    // a regular number and not NaN.\n    // Fall through\n    case 'number':\n      if (numberIsNaN(prim)) {\n        return false;\n      }\n  }\n  return true;\n}\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) return altValue;\n  return b.has(altValue) && !a.has(altValue);\n}\nfunction mapMightHaveLoosePrim(a, b, prim, item, memo) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n  var curB = b.get(altValue);\n  if (curB === undefined && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {\n    return false;\n  }\n  return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);\n}\nfunction setEquiv(a, b, strict, memo) {\n  // This is a lazily initiated Set of entries which have to be compared\n  // pairwise.\n  var set = null;\n  var aValues = arrayFromSet(a);\n  for (var i = 0; i < aValues.length; i++) {\n    var val = aValues[i];\n    // Note: Checking for the objects first improves the performance for object\n    // heavy sets but it is a minor slow down for primitives. As they are fast\n    // to check this improves the worst case scenario instead.\n    if (_typeof(val) === 'object' && val !== null) {\n      if (set === null) {\n        set = new Set();\n      }\n      // If the specified value doesn't exist in the second set its an not null\n      // object (or non strict only: a not matching primitive) we'll need to go\n      // hunting for something thats deep-(strict-)equal to it. To make this\n      // O(n log n) complexity we have to copy these values in a new set first.\n      set.add(val);\n    } else if (!b.has(val)) {\n      if (strict) return false;\n\n      // Fast path to detect missing string, symbol, undefined and null values.\n      if (!setMightHaveLoosePrim(a, b, val)) {\n        return false;\n      }\n      if (set === null) {\n        set = new Set();\n      }\n      set.add(val);\n    }\n  }\n  if (set !== null) {\n    var bValues = arrayFromSet(b);\n    for (var _i = 0; _i < bValues.length; _i++) {\n      var _val = bValues[_i];\n      // We have to check if a primitive value is already\n      // matching and only if it's not, go hunting for it.\n      if (_typeof(_val) === 'object' && _val !== null) {\n        if (!setHasEqualElement(set, _val, strict, memo)) return false;\n      } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {\n        return false;\n      }\n    }\n    return set.size === 0;\n  }\n  return true;\n}\nfunction mapHasEqualEntry(set, map, key1, item1, strict, memo) {\n  // To be able to handle cases like:\n  //   Map([[{}, 'a'], [{}, 'b']]) vs Map([[{}, 'b'], [{}, 'a']])\n  // ... we need to consider *all* matching keys, not just the first we find.\n  var setValues = arrayFromSet(set);\n  for (var i = 0; i < setValues.length; i++) {\n    var key2 = setValues[i];\n    if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {\n      set.delete(key2);\n      return true;\n    }\n  }\n  return false;\n}\nfunction mapEquiv(a, b, strict, memo) {\n  var set = null;\n  var aEntries = arrayFromMap(a);\n  for (var i = 0; i < aEntries.length; i++) {\n    var _aEntries$i = _slicedToArray(aEntries[i], 2),\n      key = _aEntries$i[0],\n      item1 = _aEntries$i[1];\n    if (_typeof(key) === 'object' && key !== null) {\n      if (set === null) {\n        set = new Set();\n      }\n      set.add(key);\n    } else {\n      // By directly retrieving the value we prevent another b.has(key) check in\n      // almost all possible cases.\n      var item2 = b.get(key);\n      if (item2 === undefined && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {\n        if (strict) return false;\n        // Fast path to detect missing string, symbol, undefined and null\n        // keys.\n        if (!mapMightHaveLoosePrim(a, b, key, item1, memo)) return false;\n        if (set === null) {\n          set = new Set();\n        }\n        set.add(key);\n      }\n    }\n  }\n  if (set !== null) {\n    var bEntries = arrayFromMap(b);\n    for (var _i2 = 0; _i2 < bEntries.length; _i2++) {\n      var _bEntries$_i = _slicedToArray(bEntries[_i2], 2),\n        _key = _bEntries$_i[0],\n        item = _bEntries$_i[1];\n      if (_typeof(_key) === 'object' && _key !== null) {\n        if (!mapHasEqualEntry(set, a, _key, item, strict, memo)) return false;\n      } else if (!strict && (!a.has(_key) || !innerDeepEqual(a.get(_key), item, false, memo)) && !mapHasEqualEntry(set, a, _key, item, false, memo)) {\n        return false;\n      }\n    }\n    return set.size === 0;\n  }\n  return true;\n}\nfunction objEquiv(a, b, strict, keys, memos, iterationType) {\n  // Sets and maps don't have their entries accessible via normal object\n  // properties.\n  var i = 0;\n  if (iterationType === kIsSet) {\n    if (!setEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsMap) {\n    if (!mapEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsArray) {\n    for (; i < a.length; i++) {\n      if (hasOwnProperty(a, i)) {\n        if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {\n          return false;\n        }\n      } else if (hasOwnProperty(b, i)) {\n        return false;\n      } else {\n        // Array is sparse.\n        var keysA = Object.keys(a);\n        for (; i < keysA.length; i++) {\n          var key = keysA[i];\n          if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {\n            return false;\n          }\n        }\n        if (keysA.length !== Object.keys(b).length) {\n          return false;\n        }\n        return true;\n      }\n    }\n  }\n\n  // The pair must have equivalent values for every corresponding key.\n  // Possibly expensive deep test:\n  for (i = 0; i < keys.length; i++) {\n    var _key2 = keys[i];\n    if (!innerDeepEqual(a[_key2], b[_key2], strict, memos)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isDeepEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kLoose);\n}\nfunction isDeepStrictEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kStrict);\n}\nmodule.exports = {\n  isDeepEqual: isDeepEqual,\n  isDeepStrictEqual: isDeepStrictEqual\n};","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (Array.isArray(source) || source instanceof Uint8Array) { source = _Buffer.from(source) }\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","// (public) Constructor\nfunction BigInteger(a, b, c) {\n  if (!(this instanceof BigInteger))\n    return new BigInteger(a, b, c)\n\n  if (a != null) {\n    if (\"number\" == typeof a) this.fromNumber(a, b, c)\n    else if (b == null && \"string\" != typeof a) this.fromString(a, 256)\n    else this.fromString(a, b)\n  }\n}\n\nvar proto = BigInteger.prototype\n\n// duck-typed isBigInteger\nproto.__bigi = require('../package.json').version\nBigInteger.isBigInteger = function (obj, check_ver) {\n  return obj && obj.__bigi && (!check_ver || obj.__bigi === proto.__bigi)\n}\n\n// Bits per digit\nvar dbits\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c\n    c = Math.floor(v / 0x4000000)\n    w[j++] = v & 0x3ffffff\n  }\n  return c\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n    xh = x >> 15\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff\n    var h = this[i++] >> 15\n    var m = xh * l + h * xl\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff)\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30)\n    w[j++] = l & 0x3fffffff\n  }\n  return c\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n    xh = x >> 14\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff\n    var h = this[i++] >> 14\n    var m = xh * l + h * xl\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c\n    c = (l >> 28) + (m >> 14) + xh * h\n    w[j++] = l & 0xfffffff\n  }\n  return c\n}\n\n// wtf?\nBigInteger.prototype.am = am1\ndbits = 26\n\nBigInteger.prototype.DB = dbits\nBigInteger.prototype.DM = ((1 << dbits) - 1)\nvar DV = BigInteger.prototype.DV = (1 << dbits)\n\nvar BI_FP = 52\nBigInteger.prototype.FV = Math.pow(2, BI_FP)\nBigInteger.prototype.F1 = BI_FP - dbits\nBigInteger.prototype.F2 = 2 * dbits - BI_FP\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\"\nvar BI_RC = new Array()\nvar rr, vv\nrr = \"0\".charCodeAt(0)\nfor (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv\nrr = \"a\".charCodeAt(0)\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv\nrr = \"A\".charCodeAt(0)\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv\n\nfunction int2char(n) {\n  return BI_RM.charAt(n)\n}\n\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)]\n  return (c == null) ? -1 : c\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) r[i] = this[i]\n  r.t = this.t\n  r.s = this.s\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n  this.t = 1\n  this.s = (x < 0) ? -1 : 0\n  if (x > 0) this[0] = x\n  else if (x < -1) this[0] = x + DV\n  else this.t = 0\n}\n\n// return bigint initialized to value\nfunction nbv(i) {\n  var r = new BigInteger()\n  r.fromInt(i)\n  return r\n}\n\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n  var self = this\n\n  var k\n  if (b == 16) k = 4\n  else if (b == 8) k = 3\n  else if (b == 256) k = 8; // byte array\n  else if (b == 2) k = 1\n  else if (b == 32) k = 5\n  else if (b == 4) k = 2\n  else {\n    self.fromRadix(s, b)\n    return\n  }\n  self.t = 0\n  self.s = 0\n  var i = s.length,\n    mi = false,\n    sh = 0\n  while (--i >= 0) {\n    var x = (k == 8) ? s[i] & 0xff : intAt(s, i)\n    if (x < 0) {\n      if (s.charAt(i) == \"-\") mi = true\n      continue\n    }\n    mi = false\n    if (sh == 0)\n      self[self.t++] = x\n    else if (sh + k > self.DB) {\n      self[self.t - 1] |= (x & ((1 << (self.DB - sh)) - 1)) << sh\n      self[self.t++] = (x >> (self.DB - sh))\n    } else\n      self[self.t - 1] |= x << sh\n    sh += k\n    if (sh >= self.DB) sh -= self.DB\n  }\n  if (k == 8 && (s[0] & 0x80) != 0) {\n    self.s = -1\n    if (sh > 0) self[self.t - 1] |= ((1 << (self.DB - sh)) - 1) << sh\n  }\n  self.clamp()\n  if (mi) BigInteger.ZERO.subTo(self, self)\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s & this.DM\n  while (this.t > 0 && this[this.t - 1] == c)--this.t\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  var self = this\n  if (self.s < 0) return \"-\" + self.negate()\n    .toString(b)\n  var k\n  if (b == 16) k = 4\n  else if (b == 8) k = 3\n  else if (b == 2) k = 1\n  else if (b == 32) k = 5\n  else if (b == 4) k = 2\n  else return self.toRadix(b)\n  var km = (1 << k) - 1,\n    d, m = false,\n    r = \"\",\n    i = self.t\n  var p = self.DB - (i * self.DB) % k\n  if (i-- > 0) {\n    if (p < self.DB && (d = self[i] >> p) > 0) {\n      m = true\n      r = int2char(d)\n    }\n    while (i >= 0) {\n      if (p < k) {\n        d = (self[i] & ((1 << p) - 1)) << (k - p)\n        d |= self[--i] >> (p += self.DB - k)\n      } else {\n        d = (self[i] >> (p -= k)) & km\n        if (p <= 0) {\n          p += self.DB\n          --i\n        }\n      }\n      if (d > 0) m = true\n      if (m) r += int2char(d)\n    }\n  }\n  return m ? r : \"0\"\n}\n\n// (public) -this\nfunction bnNegate() {\n  var r = new BigInteger()\n  BigInteger.ZERO.subTo(this, r)\n  return r\n}\n\n// (public) |this|\nfunction bnAbs() {\n  return (this.s < 0) ? this.negate() : this\n}\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s - a.s\n  if (r != 0) return r\n  var i = this.t\n  r = i - a.t\n  if (r != 0) return (this.s < 0) ? -r : r\n  while (--i >= 0)\n    if ((r = this[i] - a[i]) != 0) return r\n  return 0\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n  var r = 1,\n    t\n  if ((t = x >>> 16) != 0) {\n    x = t\n    r += 16\n  }\n  if ((t = x >> 8) != 0) {\n    x = t\n    r += 8\n  }\n  if ((t = x >> 4) != 0) {\n    x = t\n    r += 4\n  }\n  if ((t = x >> 2) != 0) {\n    x = t\n    r += 2\n  }\n  if ((t = x >> 1) != 0) {\n    x = t\n    r += 1\n  }\n  return r\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if (this.t <= 0) return 0\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM))\n}\n\n// (public) return the number of bytes in \"this\"\nfunction bnByteLength() {\n  return this.bitLength() >> 3\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n  var i\n  for (i = this.t - 1; i >= 0; --i) r[i + n] = this[i]\n  for (i = n - 1; i >= 0; --i) r[i] = 0\n  r.t = this.t + n\n  r.s = this.s\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) r[i - n] = this[i]\n  r.t = Math.max(this.t - n, 0)\n  r.s = this.s\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n  var self = this\n  var bs = n % self.DB\n  var cbs = self.DB - bs\n  var bm = (1 << cbs) - 1\n  var ds = Math.floor(n / self.DB),\n    c = (self.s << bs) & self.DM,\n    i\n  for (i = self.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = (self[i] >> cbs) | c\n    c = (self[i] & bm) << bs\n  }\n  for (i = ds - 1; i >= 0; --i) r[i] = 0\n  r[ds] = c\n  r.t = self.t + ds + 1\n  r.s = self.s\n  r.clamp()\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n  var self = this\n  r.s = self.s\n  var ds = Math.floor(n / self.DB)\n  if (ds >= self.t) {\n    r.t = 0\n    return\n  }\n  var bs = n % self.DB\n  var cbs = self.DB - bs\n  var bm = (1 << bs) - 1\n  r[0] = self[ds] >> bs\n  for (var i = ds + 1; i < self.t; ++i) {\n    r[i - ds - 1] |= (self[i] & bm) << cbs\n    r[i - ds] = self[i] >> bs\n  }\n  if (bs > 0) r[self.t - ds - 1] |= (self.s & bm) << cbs\n  r.t = self.t - ds\n  r.clamp()\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n  var self = this\n  var i = 0,\n    c = 0,\n    m = Math.min(a.t, self.t)\n  while (i < m) {\n    c += self[i] - a[i]\n    r[i++] = c & self.DM\n    c >>= self.DB\n  }\n  if (a.t < self.t) {\n    c -= a.s\n    while (i < self.t) {\n      c += self[i]\n      r[i++] = c & self.DM\n      c >>= self.DB\n    }\n    c += self.s\n  } else {\n    c += self.s\n    while (i < a.t) {\n      c -= a[i]\n      r[i++] = c & self.DM\n      c >>= self.DB\n    }\n    c -= a.s\n  }\n  r.s = (c < 0) ? -1 : 0\n  if (c < -1) r[i++] = self.DV + c\n  else if (c > 0) r[i++] = c\n  r.t = i\n  r.clamp()\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n    y = a.abs()\n  var i = x.t\n  r.t = i + y.t\n  while (--i >= 0) r[i] = 0\n  for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t)\n  r.s = 0\n  r.clamp()\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r)\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs()\n  var i = r.t = 2 * x.t\n  while (--i >= 0) r[i] = 0\n  for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1)\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV\n      r[i + x.t + 1] = 1\n    }\n  }\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1)\n  r.s = 0\n  r.clamp()\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n  var self = this\n  var pm = m.abs()\n  if (pm.t <= 0) return\n  var pt = self.abs()\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0)\n    if (r != null) self.copyTo(r)\n    return\n  }\n  if (r == null) r = new BigInteger()\n  var y = new BigInteger(),\n    ts = self.s,\n    ms = m.s\n  var nsh = self.DB - nbits(pm[pm.t - 1]); // normalize modulus\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y)\n    pt.lShiftTo(nsh, r)\n  } else {\n    pm.copyTo(y)\n    pt.copyTo(r)\n  }\n  var ys = y.t\n  var y0 = y[ys - 1]\n  if (y0 == 0) return\n  var yt = y0 * (1 << self.F1) + ((ys > 1) ? y[ys - 2] >> self.F2 : 0)\n  var d1 = self.FV / yt,\n    d2 = (1 << self.F1) / yt,\n    e = 1 << self.F2\n  var i = r.t,\n    j = i - ys,\n    t = (q == null) ? new BigInteger() : q\n  y.dlShiftTo(j, t)\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1\n    r.subTo(t, r)\n  }\n  BigInteger.ONE.dlShiftTo(ys, t)\n  t.subTo(y, y); // \"negative\" y so we can replace sub with am later\n  while (y.t < ys) y[y.t++] = 0\n  while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = (r[--i] == y0) ? self.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2)\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) { // Try it out\n      y.dlShiftTo(j, t)\n      r.subTo(t, r)\n      while (r[i] < --qd) r.subTo(t, r)\n    }\n  }\n  if (q != null) {\n    r.drShiftTo(ys, q)\n    if (ts != ms) BigInteger.ZERO.subTo(q, q)\n  }\n  r.t = ys\n  r.clamp()\n  if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\n  if (ts < 0) BigInteger.ZERO.subTo(r, r)\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = new BigInteger()\n  this.abs()\n    .divRemTo(a, null, r)\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r)\n  return r\n}\n\n// Modular reduction using \"classic\" algorithm\nfunction Classic(m) {\n  this.m = m\n}\n\nfunction cConvert(x) {\n  if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m)\n  else return x\n}\n\nfunction cRevert(x) {\n  return x\n}\n\nfunction cReduce(x) {\n  x.divRemTo(this.m, null, x)\n}\n\nfunction cMulTo(x, y, r) {\n  x.multiplyTo(y, r)\n  this.reduce(r)\n}\n\nfunction cSqrTo(x, r) {\n  x.squareTo(r)\n  this.reduce(r)\n}\n\nClassic.prototype.convert = cConvert\nClassic.prototype.revert = cRevert\nClassic.prototype.reduce = cReduce\nClassic.prototype.mulTo = cMulTo\nClassic.prototype.sqrTo = cSqrTo\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0\n  var x = this[0]\n  if ((x & 1) == 0) return 0\n  var y = x & 3; // y == 1/x mod 2^2\n  y = (y * (2 - (x & 0xf) * y)) & 0xf; // y == 1/x mod 2^4\n  y = (y * (2 - (x & 0xff) * y)) & 0xff; // y == 1/x mod 2^8\n  y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff; // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n  y = (y * (2 - x * y % this.DV)) % this.DV; // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n  return (y > 0) ? this.DV - y : -y\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n  this.m = m\n  this.mp = m.invDigit()\n  this.mpl = this.mp & 0x7fff\n  this.mph = this.mp >> 15\n  this.um = (1 << (m.DB - 15)) - 1\n  this.mt2 = 2 * m.t\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = new BigInteger()\n  x.abs()\n    .dlShiftTo(this.m.t, r)\n  r.divRemTo(this.m, null, r)\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r)\n  return r\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = new BigInteger()\n  x.copyTo(r)\n  this.reduce(r)\n  return r\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while (x.t <= this.mt2) // pad x so am has enough room later\n    x[x.t++] = 0\n  for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff\n    var u0 = (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM\n    // use am to combine the multiply-shift-add into one call\n    j = i + this.m.t\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t)\n    // propagate carry\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV\n      x[++j]++\n    }\n  }\n  x.clamp()\n  x.drShiftTo(this.m.t, x)\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x)\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) {\n  x.squareTo(r)\n  this.reduce(r)\n}\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r)\n  this.reduce(r)\n}\n\nMontgomery.prototype.convert = montConvert\nMontgomery.prototype.revert = montRevert\nMontgomery.prototype.reduce = montReduce\nMontgomery.prototype.mulTo = montMulTo\nMontgomery.prototype.sqrTo = montSqrTo\n\n// (protected) true iff this is even\nfunction bnpIsEven() {\n  return ((this.t > 0) ? (this[0] & 1) : this.s) == 0\n}\n\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\nfunction bnpExp(e, z) {\n  if (e > 0xffffffff || e < 1) return BigInteger.ONE\n  var r = new BigInteger(),\n    r2 = new BigInteger(),\n    g = z.convert(this),\n    i = nbits(e) - 1\n  g.copyTo(r)\n  while (--i >= 0) {\n    z.sqrTo(r, r2)\n    if ((e & (1 << i)) > 0) z.mulTo(r2, g, r)\n    else {\n      var t = r\n      r = r2\n      r2 = t\n    }\n  }\n  return z.revert(r)\n}\n\n// (public) this^e % m, 0 <= e < 2^32\nfunction bnModPowInt(e, m) {\n  var z\n  if (e < 256 || m.isEven()) z = new Classic(m)\n  else z = new Montgomery(m)\n  return this.exp(e, z)\n}\n\n// protected\nproto.copyTo = bnpCopyTo\nproto.fromInt = bnpFromInt\nproto.fromString = bnpFromString\nproto.clamp = bnpClamp\nproto.dlShiftTo = bnpDLShiftTo\nproto.drShiftTo = bnpDRShiftTo\nproto.lShiftTo = bnpLShiftTo\nproto.rShiftTo = bnpRShiftTo\nproto.subTo = bnpSubTo\nproto.multiplyTo = bnpMultiplyTo\nproto.squareTo = bnpSquareTo\nproto.divRemTo = bnpDivRemTo\nproto.invDigit = bnpInvDigit\nproto.isEven = bnpIsEven\nproto.exp = bnpExp\n\n// public\nproto.toString = bnToString\nproto.negate = bnNegate\nproto.abs = bnAbs\nproto.compareTo = bnCompareTo\nproto.bitLength = bnBitLength\nproto.byteLength = bnByteLength\nproto.mod = bnMod\nproto.modPowInt = bnModPowInt\n\n// (public)\nfunction bnClone() {\n  var r = new BigInteger()\n  this.copyTo(r)\n  return r\n}\n\n// (public) return value as integer\nfunction bnIntValue() {\n  if (this.s < 0) {\n    if (this.t == 1) return this[0] - this.DV\n    else if (this.t == 0) return -1\n  } else if (this.t == 1) return this[0]\n  else if (this.t == 0) return 0\n  // assumes 16 < DB < 32\n  return ((this[1] & ((1 << (32 - this.DB)) - 1)) << this.DB) | this[0]\n}\n\n// (public) return value as byte\nfunction bnByteValue() {\n  return (this.t == 0) ? this.s : (this[0] << 24) >> 24\n}\n\n// (public) return value as short (assumes DB>=16)\nfunction bnShortValue() {\n  return (this.t == 0) ? this.s : (this[0] << 16) >> 16\n}\n\n// (protected) return x s.t. r^x < DV\nfunction bnpChunkSize(r) {\n  return Math.floor(Math.LN2 * this.DB / Math.log(r))\n}\n\n// (public) 0 if this == 0, 1 if this > 0\nfunction bnSigNum() {\n  if (this.s < 0) return -1\n  else if (this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0\n  else return 1\n}\n\n// (protected) convert to radix string\nfunction bnpToRadix(b) {\n  if (b == null) b = 10\n  if (this.signum() == 0 || b < 2 || b > 36) return \"0\"\n  var cs = this.chunkSize(b)\n  var a = Math.pow(b, cs)\n  var d = nbv(a),\n    y = new BigInteger(),\n    z = new BigInteger(),\n    r = \"\"\n  this.divRemTo(d, y, z)\n  while (y.signum() > 0) {\n    r = (a + z.intValue())\n      .toString(b)\n      .substr(1) + r\n    y.divRemTo(d, y, z)\n  }\n  return z.intValue()\n    .toString(b) + r\n}\n\n// (protected) convert from radix string\nfunction bnpFromRadix(s, b) {\n  var self = this\n  self.fromInt(0)\n  if (b == null) b = 10\n  var cs = self.chunkSize(b)\n  var d = Math.pow(b, cs),\n    mi = false,\n    j = 0,\n    w = 0\n  for (var i = 0; i < s.length; ++i) {\n    var x = intAt(s, i)\n    if (x < 0) {\n      if (s.charAt(i) == \"-\" && self.signum() == 0) mi = true\n      continue\n    }\n    w = b * w + x\n    if (++j >= cs) {\n      self.dMultiply(d)\n      self.dAddOffset(w, 0)\n      j = 0\n      w = 0\n    }\n  }\n  if (j > 0) {\n    self.dMultiply(Math.pow(b, j))\n    self.dAddOffset(w, 0)\n  }\n  if (mi) BigInteger.ZERO.subTo(self, self)\n}\n\n// (protected) alternate constructor\nfunction bnpFromNumber(a, b, c) {\n  var self = this\n  if (\"number\" == typeof b) {\n    // new BigInteger(int,int,RNG)\n    if (a < 2) self.fromInt(1)\n    else {\n      self.fromNumber(a, c)\n      if (!self.testBit(a - 1)) // force MSB set\n        self.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, self)\n      if (self.isEven()) self.dAddOffset(1, 0); // force odd\n      while (!self.isProbablePrime(b)) {\n        self.dAddOffset(2, 0)\n        if (self.bitLength() > a) self.subTo(BigInteger.ONE.shiftLeft(a - 1), self)\n      }\n    }\n  } else {\n    // new BigInteger(int,RNG)\n    var x = new Array(),\n      t = a & 7\n    x.length = (a >> 3) + 1\n    b.nextBytes(x)\n    if (t > 0) x[0] &= ((1 << t) - 1)\n    else x[0] = 0\n    self.fromString(x, 256)\n  }\n}\n\n// (public) convert to bigendian byte array\nfunction bnToByteArray() {\n  var self = this\n  var i = self.t,\n    r = new Array()\n  r[0] = self.s\n  var p = self.DB - (i * self.DB) % 8,\n    d, k = 0\n  if (i-- > 0) {\n    if (p < self.DB && (d = self[i] >> p) != (self.s & self.DM) >> p)\n      r[k++] = d | (self.s << (self.DB - p))\n    while (i >= 0) {\n      if (p < 8) {\n        d = (self[i] & ((1 << p) - 1)) << (8 - p)\n        d |= self[--i] >> (p += self.DB - 8)\n      } else {\n        d = (self[i] >> (p -= 8)) & 0xff\n        if (p <= 0) {\n          p += self.DB\n          --i\n        }\n      }\n      if ((d & 0x80) != 0) d |= -256\n      if (k === 0 && (self.s & 0x80) != (d & 0x80))++k\n      if (k > 0 || d != self.s) r[k++] = d\n    }\n  }\n  return r\n}\n\nfunction bnEquals(a) {\n  return (this.compareTo(a) == 0)\n}\n\nfunction bnMin(a) {\n  return (this.compareTo(a) < 0) ? this : a\n}\n\nfunction bnMax(a) {\n  return (this.compareTo(a) > 0) ? this : a\n}\n\n// (protected) r = this op a (bitwise)\nfunction bnpBitwiseTo(a, op, r) {\n  var self = this\n  var i, f, m = Math.min(a.t, self.t)\n  for (i = 0; i < m; ++i) r[i] = op(self[i], a[i])\n  if (a.t < self.t) {\n    f = a.s & self.DM\n    for (i = m; i < self.t; ++i) r[i] = op(self[i], f)\n    r.t = self.t\n  } else {\n    f = self.s & self.DM\n    for (i = m; i < a.t; ++i) r[i] = op(f, a[i])\n    r.t = a.t\n  }\n  r.s = op(self.s, a.s)\n  r.clamp()\n}\n\n// (public) this & a\nfunction op_and(x, y) {\n  return x & y\n}\n\nfunction bnAnd(a) {\n  var r = new BigInteger()\n  this.bitwiseTo(a, op_and, r)\n  return r\n}\n\n// (public) this | a\nfunction op_or(x, y) {\n  return x | y\n}\n\nfunction bnOr(a) {\n  var r = new BigInteger()\n  this.bitwiseTo(a, op_or, r)\n  return r\n}\n\n// (public) this ^ a\nfunction op_xor(x, y) {\n  return x ^ y\n}\n\nfunction bnXor(a) {\n  var r = new BigInteger()\n  this.bitwiseTo(a, op_xor, r)\n  return r\n}\n\n// (public) this & ~a\nfunction op_andnot(x, y) {\n  return x & ~y\n}\n\nfunction bnAndNot(a) {\n  var r = new BigInteger()\n  this.bitwiseTo(a, op_andnot, r)\n  return r\n}\n\n// (public) ~this\nfunction bnNot() {\n  var r = new BigInteger()\n  for (var i = 0; i < this.t; ++i) r[i] = this.DM & ~this[i]\n  r.t = this.t\n  r.s = ~this.s\n  return r\n}\n\n// (public) this << n\nfunction bnShiftLeft(n) {\n  var r = new BigInteger()\n  if (n < 0) this.rShiftTo(-n, r)\n  else this.lShiftTo(n, r)\n  return r\n}\n\n// (public) this >> n\nfunction bnShiftRight(n) {\n  var r = new BigInteger()\n  if (n < 0) this.lShiftTo(-n, r)\n  else this.rShiftTo(n, r)\n  return r\n}\n\n// return index of lowest 1-bit in x, x < 2^31\nfunction lbit(x) {\n  if (x == 0) return -1\n  var r = 0\n  if ((x & 0xffff) == 0) {\n    x >>= 16\n    r += 16\n  }\n  if ((x & 0xff) == 0) {\n    x >>= 8\n    r += 8\n  }\n  if ((x & 0xf) == 0) {\n    x >>= 4\n    r += 4\n  }\n  if ((x & 3) == 0) {\n    x >>= 2\n    r += 2\n  }\n  if ((x & 1) == 0)++r\n  return r\n}\n\n// (public) returns index of lowest 1-bit (or -1 if none)\nfunction bnGetLowestSetBit() {\n  for (var i = 0; i < this.t; ++i)\n    if (this[i] != 0) return i * this.DB + lbit(this[i])\n  if (this.s < 0) return this.t * this.DB\n  return -1\n}\n\n// return number of 1 bits in x\nfunction cbit(x) {\n  var r = 0\n  while (x != 0) {\n    x &= x - 1\n    ++r\n  }\n  return r\n}\n\n// (public) return number of set bits\nfunction bnBitCount() {\n  var r = 0,\n    x = this.s & this.DM\n  for (var i = 0; i < this.t; ++i) r += cbit(this[i] ^ x)\n  return r\n}\n\n// (public) true iff nth bit is set\nfunction bnTestBit(n) {\n  var j = Math.floor(n / this.DB)\n  if (j >= this.t) return (this.s != 0)\n  return ((this[j] & (1 << (n % this.DB))) != 0)\n}\n\n// (protected) this op (1<<n)\nfunction bnpChangeBit(n, op) {\n  var r = BigInteger.ONE.shiftLeft(n)\n  this.bitwiseTo(r, op, r)\n  return r\n}\n\n// (public) this | (1<<n)\nfunction bnSetBit(n) {\n  return this.changeBit(n, op_or)\n}\n\n// (public) this & ~(1<<n)\nfunction bnClearBit(n) {\n  return this.changeBit(n, op_andnot)\n}\n\n// (public) this ^ (1<<n)\nfunction bnFlipBit(n) {\n  return this.changeBit(n, op_xor)\n}\n\n// (protected) r = this + a\nfunction bnpAddTo(a, r) {\n  var self = this\n\n  var i = 0,\n    c = 0,\n    m = Math.min(a.t, self.t)\n  while (i < m) {\n    c += self[i] + a[i]\n    r[i++] = c & self.DM\n    c >>= self.DB\n  }\n  if (a.t < self.t) {\n    c += a.s\n    while (i < self.t) {\n      c += self[i]\n      r[i++] = c & self.DM\n      c >>= self.DB\n    }\n    c += self.s\n  } else {\n    c += self.s\n    while (i < a.t) {\n      c += a[i]\n      r[i++] = c & self.DM\n      c >>= self.DB\n    }\n    c += a.s\n  }\n  r.s = (c < 0) ? -1 : 0\n  if (c > 0) r[i++] = c\n  else if (c < -1) r[i++] = self.DV + c\n  r.t = i\n  r.clamp()\n}\n\n// (public) this + a\nfunction bnAdd(a) {\n  var r = new BigInteger()\n  this.addTo(a, r)\n  return r\n}\n\n// (public) this - a\nfunction bnSubtract(a) {\n  var r = new BigInteger()\n  this.subTo(a, r)\n  return r\n}\n\n// (public) this * a\nfunction bnMultiply(a) {\n  var r = new BigInteger()\n  this.multiplyTo(a, r)\n  return r\n}\n\n// (public) this^2\nfunction bnSquare() {\n  var r = new BigInteger()\n  this.squareTo(r)\n  return r\n}\n\n// (public) this / a\nfunction bnDivide(a) {\n  var r = new BigInteger()\n  this.divRemTo(a, r, null)\n  return r\n}\n\n// (public) this % a\nfunction bnRemainder(a) {\n  var r = new BigInteger()\n  this.divRemTo(a, null, r)\n  return r\n}\n\n// (public) [this/a,this%a]\nfunction bnDivideAndRemainder(a) {\n  var q = new BigInteger(),\n    r = new BigInteger()\n  this.divRemTo(a, q, r)\n  return new Array(q, r)\n}\n\n// (protected) this *= n, this >= 0, 1 < n < DV\nfunction bnpDMultiply(n) {\n  this[this.t] = this.am(0, n - 1, this, 0, 0, this.t)\n  ++this.t\n  this.clamp()\n}\n\n// (protected) this += n << w words, this >= 0\nfunction bnpDAddOffset(n, w) {\n  if (n == 0) return\n  while (this.t <= w) this[this.t++] = 0\n  this[w] += n\n  while (this[w] >= this.DV) {\n    this[w] -= this.DV\n    if (++w >= this.t) this[this.t++] = 0\n    ++this[w]\n  }\n}\n\n// A \"null\" reducer\nfunction NullExp() {}\n\nfunction nNop(x) {\n  return x\n}\n\nfunction nMulTo(x, y, r) {\n  x.multiplyTo(y, r)\n}\n\nfunction nSqrTo(x, r) {\n  x.squareTo(r)\n}\n\nNullExp.prototype.convert = nNop\nNullExp.prototype.revert = nNop\nNullExp.prototype.mulTo = nMulTo\nNullExp.prototype.sqrTo = nSqrTo\n\n// (public) this^e\nfunction bnPow(e) {\n  return this.exp(e, new NullExp())\n}\n\n// (protected) r = lower n words of \"this * a\", a.t <= n\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyLowerTo(a, n, r) {\n  var i = Math.min(this.t + a.t, n)\n  r.s = 0; // assumes a,this >= 0\n  r.t = i\n  while (i > 0) r[--i] = 0\n  var j\n  for (j = r.t - this.t; i < j; ++i) r[i + this.t] = this.am(0, a[i], r, i, 0, this.t)\n  for (j = Math.min(a.t, n); i < j; ++i) this.am(0, a[i], r, i, 0, n - i)\n  r.clamp()\n}\n\n// (protected) r = \"this * a\" without lower n words, n > 0\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyUpperTo(a, n, r) {\n  --n\n  var i = r.t = this.t + a.t - n\n  r.s = 0; // assumes a,this >= 0\n  while (--i >= 0) r[i] = 0\n  for (i = Math.max(n - this.t, 0); i < a.t; ++i)\n    r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n)\n  r.clamp()\n  r.drShiftTo(1, r)\n}\n\n// Barrett modular reduction\nfunction Barrett(m) {\n  // setup Barrett\n  this.r2 = new BigInteger()\n  this.q3 = new BigInteger()\n  BigInteger.ONE.dlShiftTo(2 * m.t, this.r2)\n  this.mu = this.r2.divide(m)\n  this.m = m\n}\n\nfunction barrettConvert(x) {\n  if (x.s < 0 || x.t > 2 * this.m.t) return x.mod(this.m)\n  else if (x.compareTo(this.m) < 0) return x\n  else {\n    var r = new BigInteger()\n    x.copyTo(r)\n    this.reduce(r)\n    return r\n  }\n}\n\nfunction barrettRevert(x) {\n  return x\n}\n\n// x = x mod m (HAC 14.42)\nfunction barrettReduce(x) {\n  var self = this\n  x.drShiftTo(self.m.t - 1, self.r2)\n  if (x.t > self.m.t + 1) {\n    x.t = self.m.t + 1\n    x.clamp()\n  }\n  self.mu.multiplyUpperTo(self.r2, self.m.t + 1, self.q3)\n  self.m.multiplyLowerTo(self.q3, self.m.t + 1, self.r2)\n  while (x.compareTo(self.r2) < 0) x.dAddOffset(1, self.m.t + 1)\n  x.subTo(self.r2, x)\n  while (x.compareTo(self.m) >= 0) x.subTo(self.m, x)\n}\n\n// r = x^2 mod m; x != r\nfunction barrettSqrTo(x, r) {\n  x.squareTo(r)\n  this.reduce(r)\n}\n\n// r = x*y mod m; x,y != r\nfunction barrettMulTo(x, y, r) {\n  x.multiplyTo(y, r)\n  this.reduce(r)\n}\n\nBarrett.prototype.convert = barrettConvert\nBarrett.prototype.revert = barrettRevert\nBarrett.prototype.reduce = barrettReduce\nBarrett.prototype.mulTo = barrettMulTo\nBarrett.prototype.sqrTo = barrettSqrTo\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e, m) {\n  var i = e.bitLength(),\n    k, r = nbv(1),\n    z\n  if (i <= 0) return r\n  else if (i < 18) k = 1\n  else if (i < 48) k = 3\n  else if (i < 144) k = 4\n  else if (i < 768) k = 5\n  else k = 6\n  if (i < 8)\n    z = new Classic(m)\n  else if (m.isEven())\n    z = new Barrett(m)\n  else\n    z = new Montgomery(m)\n\n  // precomputation\n  var g = new Array(),\n    n = 3,\n    k1 = k - 1,\n    km = (1 << k) - 1\n  g[1] = z.convert(this)\n  if (k > 1) {\n    var g2 = new BigInteger()\n    z.sqrTo(g[1], g2)\n    while (n <= km) {\n      g[n] = new BigInteger()\n      z.mulTo(g2, g[n - 2], g[n])\n      n += 2\n    }\n  }\n\n  var j = e.t - 1,\n    w, is1 = true,\n    r2 = new BigInteger(),\n    t\n  i = nbits(e[j]) - 1\n  while (j >= 0) {\n    if (i >= k1) w = (e[j] >> (i - k1)) & km\n    else {\n      w = (e[j] & ((1 << (i + 1)) - 1)) << (k1 - i)\n      if (j > 0) w |= e[j - 1] >> (this.DB + i - k1)\n    }\n\n    n = k\n    while ((w & 1) == 0) {\n      w >>= 1\n      --n\n    }\n    if ((i -= n) < 0) {\n      i += this.DB\n      --j\n    }\n    if (is1) { // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r)\n      is1 = false\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2)\n        z.sqrTo(r2, r)\n        n -= 2\n      }\n      if (n > 0) z.sqrTo(r, r2)\n      else {\n        t = r\n        r = r2\n        r2 = t\n      }\n      z.mulTo(r2, g[w], r)\n    }\n\n    while (j >= 0 && (e[j] & (1 << i)) == 0) {\n      z.sqrTo(r, r2)\n      t = r\n      r = r2\n      r2 = t\n      if (--i < 0) {\n        i = this.DB - 1\n        --j\n      }\n    }\n  }\n  return z.revert(r)\n}\n\n// (public) gcd(this,a) (HAC 14.54)\nfunction bnGCD(a) {\n  var x = (this.s < 0) ? this.negate() : this.clone()\n  var y = (a.s < 0) ? a.negate() : a.clone()\n  if (x.compareTo(y) < 0) {\n    var t = x\n    x = y\n    y = t\n  }\n  var i = x.getLowestSetBit(),\n    g = y.getLowestSetBit()\n  if (g < 0) return x\n  if (i < g) g = i\n  if (g > 0) {\n    x.rShiftTo(g, x)\n    y.rShiftTo(g, y)\n  }\n  while (x.signum() > 0) {\n    if ((i = x.getLowestSetBit()) > 0) x.rShiftTo(i, x)\n    if ((i = y.getLowestSetBit()) > 0) y.rShiftTo(i, y)\n    if (x.compareTo(y) >= 0) {\n      x.subTo(y, x)\n      x.rShiftTo(1, x)\n    } else {\n      y.subTo(x, y)\n      y.rShiftTo(1, y)\n    }\n  }\n  if (g > 0) y.lShiftTo(g, y)\n  return y\n}\n\n// (protected) this % n, n < 2^26\nfunction bnpModInt(n) {\n  if (n <= 0) return 0\n  var d = this.DV % n,\n    r = (this.s < 0) ? n - 1 : 0\n  if (this.t > 0)\n    if (d == 0) r = this[0] % n\n    else\n      for (var i = this.t - 1; i >= 0; --i) r = (d * r + this[i]) % n\n  return r\n}\n\n// (public) 1/this % m (HAC 14.61)\nfunction bnModInverse(m) {\n  var ac = m.isEven()\n  if (this.signum() === 0) throw new Error('division by zero')\n  if ((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO\n  var u = m.clone(),\n    v = this.clone()\n  var a = nbv(1),\n    b = nbv(0),\n    c = nbv(0),\n    d = nbv(1)\n  while (u.signum() != 0) {\n    while (u.isEven()) {\n      u.rShiftTo(1, u)\n      if (ac) {\n        if (!a.isEven() || !b.isEven()) {\n          a.addTo(this, a)\n          b.subTo(m, b)\n        }\n        a.rShiftTo(1, a)\n      } else if (!b.isEven()) b.subTo(m, b)\n      b.rShiftTo(1, b)\n    }\n    while (v.isEven()) {\n      v.rShiftTo(1, v)\n      if (ac) {\n        if (!c.isEven() || !d.isEven()) {\n          c.addTo(this, c)\n          d.subTo(m, d)\n        }\n        c.rShiftTo(1, c)\n      } else if (!d.isEven()) d.subTo(m, d)\n      d.rShiftTo(1, d)\n    }\n    if (u.compareTo(v) >= 0) {\n      u.subTo(v, u)\n      if (ac) a.subTo(c, a)\n      b.subTo(d, b)\n    } else {\n      v.subTo(u, v)\n      if (ac) c.subTo(a, c)\n      d.subTo(b, d)\n    }\n  }\n  if (v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO\n  while (d.compareTo(m) >= 0) d.subTo(m, d)\n  while (d.signum() < 0) d.addTo(m, d)\n  return d\n}\n\nvar lowprimes = [\n  2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71,\n  73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151,\n  157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233,\n  239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317,\n  331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419,\n  421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503,\n  509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607,\n  613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701,\n  709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811,\n  821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911,\n  919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997\n]\n\nvar lplim = (1 << 26) / lowprimes[lowprimes.length - 1]\n\n// (public) test primality with certainty >= 1-.5^t\nfunction bnIsProbablePrime(t) {\n  var i, x = this.abs()\n  if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {\n    for (i = 0; i < lowprimes.length; ++i)\n      if (x[0] == lowprimes[i]) return true\n    return false\n  }\n  if (x.isEven()) return false\n  i = 1\n  while (i < lowprimes.length) {\n    var m = lowprimes[i],\n      j = i + 1\n    while (j < lowprimes.length && m < lplim) m *= lowprimes[j++]\n    m = x.modInt(m)\n    while (i < j) if (m % lowprimes[i++] == 0) return false\n  }\n  return x.millerRabin(t)\n}\n\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\nfunction bnpMillerRabin(t) {\n  var n1 = this.subtract(BigInteger.ONE)\n  var k = n1.getLowestSetBit()\n  if (k <= 0) return false\n  var r = n1.shiftRight(k)\n  t = (t + 1) >> 1\n  if (t > lowprimes.length) t = lowprimes.length\n  var a = new BigInteger(null)\n  var j, bases = []\n  for (var i = 0; i < t; ++i) {\n    for (;;) {\n      j = lowprimes[Math.floor(Math.random() * lowprimes.length)]\n      if (bases.indexOf(j) == -1) break\n    }\n    bases.push(j)\n    a.fromInt(j)\n    var y = a.modPow(r, this)\n    if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n      var j = 1\n      while (j++ < k && y.compareTo(n1) != 0) {\n        y = y.modPowInt(2, this)\n        if (y.compareTo(BigInteger.ONE) == 0) return false\n      }\n      if (y.compareTo(n1) != 0) return false\n    }\n  }\n  return true\n}\n\n// protected\nproto.chunkSize = bnpChunkSize\nproto.toRadix = bnpToRadix\nproto.fromRadix = bnpFromRadix\nproto.fromNumber = bnpFromNumber\nproto.bitwiseTo = bnpBitwiseTo\nproto.changeBit = bnpChangeBit\nproto.addTo = bnpAddTo\nproto.dMultiply = bnpDMultiply\nproto.dAddOffset = bnpDAddOffset\nproto.multiplyLowerTo = bnpMultiplyLowerTo\nproto.multiplyUpperTo = bnpMultiplyUpperTo\nproto.modInt = bnpModInt\nproto.millerRabin = bnpMillerRabin\n\n// public\nproto.clone = bnClone\nproto.intValue = bnIntValue\nproto.byteValue = bnByteValue\nproto.shortValue = bnShortValue\nproto.signum = bnSigNum\nproto.toByteArray = bnToByteArray\nproto.equals = bnEquals\nproto.min = bnMin\nproto.max = bnMax\nproto.and = bnAnd\nproto.or = bnOr\nproto.xor = bnXor\nproto.andNot = bnAndNot\nproto.not = bnNot\nproto.shiftLeft = bnShiftLeft\nproto.shiftRight = bnShiftRight\nproto.getLowestSetBit = bnGetLowestSetBit\nproto.bitCount = bnBitCount\nproto.testBit = bnTestBit\nproto.setBit = bnSetBit\nproto.clearBit = bnClearBit\nproto.flipBit = bnFlipBit\nproto.add = bnAdd\nproto.subtract = bnSubtract\nproto.multiply = bnMultiply\nproto.divide = bnDivide\nproto.remainder = bnRemainder\nproto.divideAndRemainder = bnDivideAndRemainder\nproto.modPow = bnModPow\nproto.modInverse = bnModInverse\nproto.pow = bnPow\nproto.gcd = bnGCD\nproto.isProbablePrime = bnIsProbablePrime\n\n// JSBN-specific extension\nproto.square = bnSquare\n\n// constants\nBigInteger.ZERO = nbv(0)\nBigInteger.ONE = nbv(1)\nBigInteger.valueOf = nbv\n\nmodule.exports = BigInteger\n","// FIXME: Kind of a weird way to throw exceptions, consider removing\nvar assert = require('assert')\nvar BigInteger = require('./bigi')\n\n/**\n * Turns a byte array into a big integer.\n *\n * This function will interpret a byte array as a big integer in big\n * endian notation.\n */\nBigInteger.fromByteArrayUnsigned = function(byteArray) {\n  // BigInteger expects a DER integer conformant byte array\n  if (byteArray[0] & 0x80) {\n    return new BigInteger([0].concat(byteArray))\n  }\n\n  return new BigInteger(byteArray)\n}\n\n/**\n * Returns a byte array representation of the big integer.\n *\n * This returns the absolute of the contained value in big endian\n * form. A value of zero results in an empty array.\n */\nBigInteger.prototype.toByteArrayUnsigned = function() {\n  var byteArray = this.toByteArray()\n  return byteArray[0] === 0 ? byteArray.slice(1) : byteArray\n}\n\nBigInteger.fromDERInteger = function(byteArray) {\n  return new BigInteger(byteArray)\n}\n\n/*\n * Converts BigInteger to a DER integer representation.\n *\n * The format for this value uses the most significant bit as a sign\n * bit.  If the most significant bit is already set and the integer is\n * positive, a 0x00 is prepended.\n *\n * Examples:\n *\n *      0 =>     0x00\n *      1 =>     0x01\n *     -1 =>     0xff\n *    127 =>     0x7f\n *   -127 =>     0x81\n *    128 =>   0x0080\n *   -128 =>     0x80\n *    255 =>   0x00ff\n *   -255 =>   0xff01\n *  16300 =>   0x3fac\n * -16300 =>   0xc054\n *  62300 => 0x00f35c\n * -62300 => 0xff0ca4\n*/\nBigInteger.prototype.toDERInteger = BigInteger.prototype.toByteArray\n\nBigInteger.fromBuffer = function(buffer) {\n  // BigInteger expects a DER integer conformant byte array\n  if (buffer[0] & 0x80) {\n    var byteArray = Array.prototype.slice.call(buffer)\n\n    return new BigInteger([0].concat(byteArray))\n  }\n\n  return new BigInteger(buffer)\n}\n\nBigInteger.fromHex = function(hex) {\n  if (hex === '') return BigInteger.ZERO\n\n  assert.equal(hex, hex.match(/^[A-Fa-f0-9]+/), 'Invalid hex string')\n  assert.equal(hex.length % 2, 0, 'Incomplete hex')\n  return new BigInteger(hex, 16)\n}\n\nBigInteger.prototype.toBuffer = function(size) {\n  var byteArray = this.toByteArrayUnsigned()\n  var zeros = []\n\n  var padding = size - byteArray.length\n  while (zeros.length < padding) zeros.push(0)\n\n  return new Buffer(zeros.concat(byteArray))\n}\n\nBigInteger.prototype.toHex = function(size) {\n  return this.toBuffer(size).toString('hex')\n}\n","var BigInteger = require('./bigi')\n\n//addons\nrequire('./convert')\n\nmodule.exports = BigInteger","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst parser_1 = require('../parser');\nfunction combine(psbts) {\n  const self = psbts[0];\n  const selfKeyVals = parser_1.psbtToKeyVals(self);\n  const others = psbts.slice(1);\n  if (others.length === 0) throw new Error('Combine: Nothing to combine');\n  const selfTx = getTx(self);\n  if (selfTx === undefined) {\n    throw new Error('Combine: Self missing transaction');\n  }\n  const selfGlobalSet = getKeySet(selfKeyVals.globalKeyVals);\n  const selfInputSets = selfKeyVals.inputKeyVals.map(getKeySet);\n  const selfOutputSets = selfKeyVals.outputKeyVals.map(getKeySet);\n  for (const other of others) {\n    const otherTx = getTx(other);\n    if (\n      otherTx === undefined ||\n      !otherTx.toBuffer().equals(selfTx.toBuffer())\n    ) {\n      throw new Error(\n        'Combine: One of the Psbts does not have the same transaction.',\n      );\n    }\n    const otherKeyVals = parser_1.psbtToKeyVals(other);\n    const otherGlobalSet = getKeySet(otherKeyVals.globalKeyVals);\n    otherGlobalSet.forEach(\n      keyPusher(\n        selfGlobalSet,\n        selfKeyVals.globalKeyVals,\n        otherKeyVals.globalKeyVals,\n      ),\n    );\n    const otherInputSets = otherKeyVals.inputKeyVals.map(getKeySet);\n    otherInputSets.forEach((inputSet, idx) =>\n      inputSet.forEach(\n        keyPusher(\n          selfInputSets[idx],\n          selfKeyVals.inputKeyVals[idx],\n          otherKeyVals.inputKeyVals[idx],\n        ),\n      ),\n    );\n    const otherOutputSets = otherKeyVals.outputKeyVals.map(getKeySet);\n    otherOutputSets.forEach((outputSet, idx) =>\n      outputSet.forEach(\n        keyPusher(\n          selfOutputSets[idx],\n          selfKeyVals.outputKeyVals[idx],\n          otherKeyVals.outputKeyVals[idx],\n        ),\n      ),\n    );\n  }\n  return parser_1.psbtFromKeyVals(selfTx, {\n    globalMapKeyVals: selfKeyVals.globalKeyVals,\n    inputKeyVals: selfKeyVals.inputKeyVals,\n    outputKeyVals: selfKeyVals.outputKeyVals,\n  });\n}\nexports.combine = combine;\nfunction keyPusher(selfSet, selfKeyVals, otherKeyVals) {\n  return key => {\n    if (selfSet.has(key)) return;\n    const newKv = otherKeyVals.filter(kv => kv.key.toString('hex') === key)[0];\n    selfKeyVals.push(newKv);\n    selfSet.add(key);\n  };\n}\nfunction getTx(psbt) {\n  return psbt.globalMap.unsignedTx;\n}\nfunction getKeySet(keyVals) {\n  const set = new Set();\n  keyVals.forEach(keyVal => {\n    const hex = keyVal.key.toString('hex');\n    if (set.has(hex))\n      throw new Error('Combine: KeyValue Map keys should be unique');\n    set.add(hex);\n  });\n  return set;\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nconst range = n => [...Array(n).keys()];\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.GlobalTypes.GLOBAL_XPUB) {\n    throw new Error(\n      'Decode Error: could not decode globalXpub with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.key.length !== 79 || ![2, 3].includes(keyVal.key[46])) {\n    throw new Error(\n      'Decode Error: globalXpub has invalid extended pubkey in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if ((keyVal.value.length / 4) % 1 !== 0) {\n    throw new Error(\n      'Decode Error: Global GLOBAL_XPUB value length should be multiple of 4',\n    );\n  }\n  const extendedPubkey = keyVal.key.slice(1);\n  const data = {\n    masterFingerprint: keyVal.value.slice(0, 4),\n    extendedPubkey,\n    path: 'm',\n  };\n  for (const i of range(keyVal.value.length / 4 - 1)) {\n    const val = keyVal.value.readUInt32LE(i * 4 + 4);\n    const isHard = !!(val & 0x80000000);\n    const idx = val & 0x7fffffff;\n    data.path += '/' + idx.toString(10) + (isHard ? \"'\" : '');\n  }\n  return data;\n}\nexports.decode = decode;\nfunction encode(data) {\n  const head = Buffer.from([typeFields_1.GlobalTypes.GLOBAL_XPUB]);\n  const key = Buffer.concat([head, data.extendedPubkey]);\n  const splitPath = data.path.split('/');\n  const value = Buffer.allocUnsafe(splitPath.length * 4);\n  data.masterFingerprint.copy(value, 0);\n  let offset = 4;\n  splitPath.slice(1).forEach(level => {\n    const isHard = level.slice(-1) === \"'\";\n    let num = 0x7fffffff & parseInt(isHard ? level.slice(0, -1) : level, 10);\n    if (isHard) num += 0x80000000;\n    value.writeUInt32LE(num, offset);\n    offset += 4;\n  });\n  return {\n    key,\n    value,\n  };\n}\nexports.encode = encode;\nexports.expected =\n  '{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }';\nfunction check(data) {\n  const epk = data.extendedPubkey;\n  const mfp = data.masterFingerprint;\n  const p = data.path;\n  return (\n    Buffer.isBuffer(epk) &&\n    epk.length === 78 &&\n    [2, 3].indexOf(epk[45]) > -1 &&\n    Buffer.isBuffer(mfp) &&\n    mfp.length === 4 &&\n    typeof p === 'string' &&\n    !!p.match(/^m(\\/\\d+'?)*$/)\n  );\n}\nexports.check = check;\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString = item.extendedPubkey.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return (\n    array.filter(v => v.extendedPubkey.equals(item.extendedPubkey)).length === 0\n  );\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction encode(data) {\n  return {\n    key: Buffer.from([typeFields_1.GlobalTypes.UNSIGNED_TX]),\n    value: data.toBuffer(),\n  };\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../typeFields');\nconst globalXpub = require('./global/globalXpub');\nconst unsignedTx = require('./global/unsignedTx');\nconst finalScriptSig = require('./input/finalScriptSig');\nconst finalScriptWitness = require('./input/finalScriptWitness');\nconst nonWitnessUtxo = require('./input/nonWitnessUtxo');\nconst partialSig = require('./input/partialSig');\nconst porCommitment = require('./input/porCommitment');\nconst sighashType = require('./input/sighashType');\nconst tapKeySig = require('./input/tapKeySig');\nconst tapLeafScript = require('./input/tapLeafScript');\nconst tapMerkleRoot = require('./input/tapMerkleRoot');\nconst tapScriptSig = require('./input/tapScriptSig');\nconst witnessUtxo = require('./input/witnessUtxo');\nconst tapTree = require('./output/tapTree');\nconst bip32Derivation = require('./shared/bip32Derivation');\nconst checkPubkey = require('./shared/checkPubkey');\nconst redeemScript = require('./shared/redeemScript');\nconst tapBip32Derivation = require('./shared/tapBip32Derivation');\nconst tapInternalKey = require('./shared/tapInternalKey');\nconst witnessScript = require('./shared/witnessScript');\nconst globals = {\n  unsignedTx,\n  globalXpub,\n  // pass an Array of key bytes that require pubkey beside the key\n  checkPubkey: checkPubkey.makeChecker([]),\n};\nexports.globals = globals;\nconst inputs = {\n  nonWitnessUtxo,\n  partialSig,\n  sighashType,\n  finalScriptSig,\n  finalScriptWitness,\n  porCommitment,\n  witnessUtxo,\n  bip32Derivation: bip32Derivation.makeConverter(\n    typeFields_1.InputTypes.BIP32_DERIVATION,\n  ),\n  redeemScript: redeemScript.makeConverter(\n    typeFields_1.InputTypes.REDEEM_SCRIPT,\n  ),\n  witnessScript: witnessScript.makeConverter(\n    typeFields_1.InputTypes.WITNESS_SCRIPT,\n  ),\n  checkPubkey: checkPubkey.makeChecker([\n    typeFields_1.InputTypes.PARTIAL_SIG,\n    typeFields_1.InputTypes.BIP32_DERIVATION,\n  ]),\n  tapKeySig,\n  tapScriptSig,\n  tapLeafScript,\n  tapBip32Derivation: tapBip32Derivation.makeConverter(\n    typeFields_1.InputTypes.TAP_BIP32_DERIVATION,\n  ),\n  tapInternalKey: tapInternalKey.makeConverter(\n    typeFields_1.InputTypes.TAP_INTERNAL_KEY,\n  ),\n  tapMerkleRoot,\n};\nexports.inputs = inputs;\nconst outputs = {\n  bip32Derivation: bip32Derivation.makeConverter(\n    typeFields_1.OutputTypes.BIP32_DERIVATION,\n  ),\n  redeemScript: redeemScript.makeConverter(\n    typeFields_1.OutputTypes.REDEEM_SCRIPT,\n  ),\n  witnessScript: witnessScript.makeConverter(\n    typeFields_1.OutputTypes.WITNESS_SCRIPT,\n  ),\n  checkPubkey: checkPubkey.makeChecker([\n    typeFields_1.OutputTypes.BIP32_DERIVATION,\n  ]),\n  tapBip32Derivation: tapBip32Derivation.makeConverter(\n    typeFields_1.OutputTypes.TAP_BIP32_DERIVATION,\n  ),\n  tapTree,\n  tapInternalKey: tapInternalKey.makeConverter(\n    typeFields_1.OutputTypes.TAP_INTERNAL_KEY,\n  ),\n};\nexports.outputs = outputs;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.FINAL_SCRIPTSIG) {\n    throw new Error(\n      'Decode Error: could not decode finalScriptSig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.FINAL_SCRIPTSIG]);\n  return {\n    key,\n    value: data,\n  };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.finalScriptSig === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.FINAL_SCRIPTWITNESS) {\n    throw new Error(\n      'Decode Error: could not decode finalScriptWitness with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.FINAL_SCRIPTWITNESS]);\n  return {\n    key,\n    value: data,\n  };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return (\n    !!currentData && !!newData && currentData.finalScriptWitness === undefined\n  );\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.NON_WITNESS_UTXO) {\n    throw new Error(\n      'Decode Error: could not decode nonWitnessUtxo with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(data) {\n  return {\n    key: Buffer.from([typeFields_1.InputTypes.NON_WITNESS_UTXO]),\n    value: data,\n  };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.nonWitnessUtxo === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.PARTIAL_SIG) {\n    throw new Error(\n      'Decode Error: could not decode partialSig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (\n    !(keyVal.key.length === 34 || keyVal.key.length === 66) ||\n    ![2, 3, 4].includes(keyVal.key[1])\n  ) {\n    throw new Error(\n      'Decode Error: partialSig has invalid pubkey in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const pubkey = keyVal.key.slice(1);\n  return {\n    pubkey,\n    signature: keyVal.value,\n  };\n}\nexports.decode = decode;\nfunction encode(pSig) {\n  const head = Buffer.from([typeFields_1.InputTypes.PARTIAL_SIG]);\n  return {\n    key: Buffer.concat([head, pSig.pubkey]),\n    value: pSig.signature,\n  };\n}\nexports.encode = encode;\nexports.expected = '{ pubkey: Buffer; signature: Buffer; }';\nfunction check(data) {\n  return (\n    Buffer.isBuffer(data.pubkey) &&\n    Buffer.isBuffer(data.signature) &&\n    [33, 65].includes(data.pubkey.length) &&\n    [2, 3, 4].includes(data.pubkey[0]) &&\n    isDerSigWithSighash(data.signature)\n  );\n}\nexports.check = check;\nfunction isDerSigWithSighash(buf) {\n  if (!Buffer.isBuffer(buf) || buf.length < 9) return false;\n  if (buf[0] !== 0x30) return false;\n  if (buf.length !== buf[1] + 3) return false;\n  if (buf[2] !== 0x02) return false;\n  const rLen = buf[3];\n  if (rLen > 33 || rLen < 1) return false;\n  if (buf[3 + rLen + 1] !== 0x02) return false;\n  const sLen = buf[3 + rLen + 2];\n  if (sLen > 33 || sLen < 1) return false;\n  if (buf.length !== 3 + rLen + 2 + sLen + 2) return false;\n  return true;\n}\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString = item.pubkey.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return array.filter(v => v.pubkey.equals(item.pubkey)).length === 0;\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.POR_COMMITMENT) {\n    throw new Error(\n      'Decode Error: could not decode porCommitment with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value.toString('utf8');\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.POR_COMMITMENT]);\n  return {\n    key,\n    value: Buffer.from(data, 'utf8'),\n  };\n}\nexports.encode = encode;\nexports.expected = 'string';\nfunction check(data) {\n  return typeof data === 'string';\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.porCommitment === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.SIGHASH_TYPE) {\n    throw new Error(\n      'Decode Error: could not decode sighashType with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value.readUInt32LE(0);\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.SIGHASH_TYPE]);\n  const value = Buffer.allocUnsafe(4);\n  value.writeUInt32LE(data, 0);\n  return {\n    key,\n    value,\n  };\n}\nexports.encode = encode;\nexports.expected = 'number';\nfunction check(data) {\n  return typeof data === 'number';\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.sighashType === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (\n    keyVal.key[0] !== typeFields_1.InputTypes.TAP_KEY_SIG ||\n    keyVal.key.length !== 1\n  ) {\n    throw new Error(\n      'Decode Error: could not decode tapKeySig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (!check(keyVal.value)) {\n    throw new Error(\n      'Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature',\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(value) {\n  const key = Buffer.from([typeFields_1.InputTypes.TAP_KEY_SIG]);\n  return { key, value };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data) && (data.length === 64 || data.length === 65);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.tapKeySig === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.TAP_LEAF_SCRIPT) {\n    throw new Error(\n      'Decode Error: could not decode tapLeafScript with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if ((keyVal.key.length - 2) % 32 !== 0) {\n    throw new Error(\n      'Decode Error: tapLeafScript has invalid control block in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const leafVersion = keyVal.value[keyVal.value.length - 1];\n  if ((keyVal.key[1] & 0xfe) !== leafVersion) {\n    throw new Error(\n      'Decode Error: tapLeafScript bad leaf version in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const script = keyVal.value.slice(0, -1);\n  const controlBlock = keyVal.key.slice(1);\n  return { controlBlock, script, leafVersion };\n}\nexports.decode = decode;\nfunction encode(tScript) {\n  const head = Buffer.from([typeFields_1.InputTypes.TAP_LEAF_SCRIPT]);\n  const verBuf = Buffer.from([tScript.leafVersion]);\n  return {\n    key: Buffer.concat([head, tScript.controlBlock]),\n    value: Buffer.concat([tScript.script, verBuf]),\n  };\n}\nexports.encode = encode;\nexports.expected =\n  '{ controlBlock: Buffer; leafVersion: number, script: Buffer; }';\nfunction check(data) {\n  return (\n    Buffer.isBuffer(data.controlBlock) &&\n    (data.controlBlock.length - 1) % 32 === 0 &&\n    (data.controlBlock[0] & 0xfe) === data.leafVersion &&\n    Buffer.isBuffer(data.script)\n  );\n}\nexports.check = check;\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString = item.controlBlock.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return (\n    array.filter(v => v.controlBlock.equals(item.controlBlock)).length === 0\n  );\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (\n    keyVal.key[0] !== typeFields_1.InputTypes.TAP_MERKLE_ROOT ||\n    keyVal.key.length !== 1\n  ) {\n    throw new Error(\n      'Decode Error: could not decode tapMerkleRoot with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (!check(keyVal.value)) {\n    throw new Error('Decode Error: tapMerkleRoot not a 32-byte hash');\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(value) {\n  const key = Buffer.from([typeFields_1.InputTypes.TAP_MERKLE_ROOT]);\n  return { key, value };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data) && data.length === 32;\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.tapMerkleRoot === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.TAP_SCRIPT_SIG) {\n    throw new Error(\n      'Decode Error: could not decode tapScriptSig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.key.length !== 65) {\n    throw new Error(\n      'Decode Error: tapScriptSig has invalid key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.value.length !== 64 && keyVal.value.length !== 65) {\n    throw new Error(\n      'Decode Error: tapScriptSig has invalid signature in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const pubkey = keyVal.key.slice(1, 33);\n  const leafHash = keyVal.key.slice(33);\n  return {\n    pubkey,\n    leafHash,\n    signature: keyVal.value,\n  };\n}\nexports.decode = decode;\nfunction encode(tSig) {\n  const head = Buffer.from([typeFields_1.InputTypes.TAP_SCRIPT_SIG]);\n  return {\n    key: Buffer.concat([head, tSig.pubkey, tSig.leafHash]),\n    value: tSig.signature,\n  };\n}\nexports.encode = encode;\nexports.expected = '{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }';\nfunction check(data) {\n  return (\n    Buffer.isBuffer(data.pubkey) &&\n    Buffer.isBuffer(data.leafHash) &&\n    Buffer.isBuffer(data.signature) &&\n    data.pubkey.length === 32 &&\n    data.leafHash.length === 32 &&\n    (data.signature.length === 64 || data.signature.length === 65)\n  );\n}\nexports.check = check;\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString =\n    item.pubkey.toString('hex') + item.leafHash.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return (\n    array.filter(\n      v => v.pubkey.equals(item.pubkey) && v.leafHash.equals(item.leafHash),\n    ).length === 0\n  );\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nconst tools_1 = require('../tools');\nconst varuint = require('../varint');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.WITNESS_UTXO) {\n    throw new Error(\n      'Decode Error: could not decode witnessUtxo with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const value = tools_1.readUInt64LE(keyVal.value, 0);\n  let _offset = 8;\n  const scriptLen = varuint.decode(keyVal.value, _offset);\n  _offset += varuint.encodingLength(scriptLen);\n  const script = keyVal.value.slice(_offset);\n  if (script.length !== scriptLen) {\n    throw new Error('Decode Error: WITNESS_UTXO script is not proper length');\n  }\n  return {\n    script,\n    value,\n  };\n}\nexports.decode = decode;\nfunction encode(data) {\n  const { script, value } = data;\n  const varintLen = varuint.encodingLength(script.length);\n  const result = Buffer.allocUnsafe(8 + varintLen + script.length);\n  tools_1.writeUInt64LE(result, value, 0);\n  varuint.encode(script.length, result, 8);\n  script.copy(result, 8 + varintLen);\n  return {\n    key: Buffer.from([typeFields_1.InputTypes.WITNESS_UTXO]),\n    value: result,\n  };\n}\nexports.encode = encode;\nexports.expected = '{ script: Buffer; value: number; }';\nfunction check(data) {\n  return Buffer.isBuffer(data.script) && typeof data.value === 'number';\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.witnessUtxo === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nconst varuint = require('../varint');\nfunction decode(keyVal) {\n  if (\n    keyVal.key[0] !== typeFields_1.OutputTypes.TAP_TREE ||\n    keyVal.key.length !== 1\n  ) {\n    throw new Error(\n      'Decode Error: could not decode tapTree with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  let _offset = 0;\n  const data = [];\n  while (_offset < keyVal.value.length) {\n    const depth = keyVal.value[_offset++];\n    const leafVersion = keyVal.value[_offset++];\n    const scriptLen = varuint.decode(keyVal.value, _offset);\n    _offset += varuint.encodingLength(scriptLen);\n    data.push({\n      depth,\n      leafVersion,\n      script: keyVal.value.slice(_offset, _offset + scriptLen),\n    });\n    _offset += scriptLen;\n  }\n  return { leaves: data };\n}\nexports.decode = decode;\nfunction encode(tree) {\n  const key = Buffer.from([typeFields_1.OutputTypes.TAP_TREE]);\n  const bufs = [].concat(\n    ...tree.leaves.map(tapLeaf => [\n      Buffer.of(tapLeaf.depth, tapLeaf.leafVersion),\n      varuint.encode(tapLeaf.script.length),\n      tapLeaf.script,\n    ]),\n  );\n  return {\n    key,\n    value: Buffer.concat(bufs),\n  };\n}\nexports.encode = encode;\nexports.expected =\n  '{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }';\nfunction check(data) {\n  return (\n    Array.isArray(data.leaves) &&\n    data.leaves.every(\n      tapLeaf =>\n        tapLeaf.depth >= 0 &&\n        tapLeaf.depth <= 128 &&\n        (tapLeaf.leafVersion & 0xfe) === tapLeaf.leafVersion &&\n        Buffer.isBuffer(tapLeaf.script),\n    )\n  );\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.tapTree === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst range = n => [...Array(n).keys()];\nconst isValidDERKey = pubkey =>\n  (pubkey.length === 33 && [2, 3].includes(pubkey[0])) ||\n  (pubkey.length === 65 && 4 === pubkey[0]);\nfunction makeConverter(TYPE_BYTE, isValidPubkey = isValidDERKey) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE) {\n      throw new Error(\n        'Decode Error: could not decode bip32Derivation with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    const pubkey = keyVal.key.slice(1);\n    if (!isValidPubkey(pubkey)) {\n      throw new Error(\n        'Decode Error: bip32Derivation has invalid pubkey in key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    if ((keyVal.value.length / 4) % 1 !== 0) {\n      throw new Error(\n        'Decode Error: Input BIP32_DERIVATION value length should be multiple of 4',\n      );\n    }\n    const data = {\n      masterFingerprint: keyVal.value.slice(0, 4),\n      pubkey,\n      path: 'm',\n    };\n    for (const i of range(keyVal.value.length / 4 - 1)) {\n      const val = keyVal.value.readUInt32LE(i * 4 + 4);\n      const isHard = !!(val & 0x80000000);\n      const idx = val & 0x7fffffff;\n      data.path += '/' + idx.toString(10) + (isHard ? \"'\" : '');\n    }\n    return data;\n  }\n  function encode(data) {\n    const head = Buffer.from([TYPE_BYTE]);\n    const key = Buffer.concat([head, data.pubkey]);\n    const splitPath = data.path.split('/');\n    const value = Buffer.allocUnsafe(splitPath.length * 4);\n    data.masterFingerprint.copy(value, 0);\n    let offset = 4;\n    splitPath.slice(1).forEach(level => {\n      const isHard = level.slice(-1) === \"'\";\n      let num = 0x7fffffff & parseInt(isHard ? level.slice(0, -1) : level, 10);\n      if (isHard) num += 0x80000000;\n      value.writeUInt32LE(num, offset);\n      offset += 4;\n    });\n    return {\n      key,\n      value,\n    };\n  }\n  const expected =\n    '{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }';\n  function check(data) {\n    return (\n      Buffer.isBuffer(data.pubkey) &&\n      Buffer.isBuffer(data.masterFingerprint) &&\n      typeof data.path === 'string' &&\n      isValidPubkey(data.pubkey) &&\n      data.masterFingerprint.length === 4\n    );\n  }\n  function canAddToArray(array, item, dupeSet) {\n    const dupeString = item.pubkey.toString('hex');\n    if (dupeSet.has(dupeString)) return false;\n    dupeSet.add(dupeString);\n    return array.filter(v => v.pubkey.equals(item.pubkey)).length === 0;\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAddToArray,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeChecker(pubkeyTypes) {\n  return checkPubkey;\n  function checkPubkey(keyVal) {\n    let pubkey;\n    if (pubkeyTypes.includes(keyVal.key[0])) {\n      pubkey = keyVal.key.slice(1);\n      if (\n        !(pubkey.length === 33 || pubkey.length === 65) ||\n        ![2, 3, 4].includes(pubkey[0])\n      ) {\n        throw new Error(\n          'Format Error: invalid pubkey in key 0x' + keyVal.key.toString('hex'),\n        );\n      }\n    }\n    return pubkey;\n  }\n}\nexports.makeChecker = makeChecker;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeConverter(TYPE_BYTE) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE) {\n      throw new Error(\n        'Decode Error: could not decode redeemScript with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    return keyVal.value;\n  }\n  function encode(data) {\n    const key = Buffer.from([TYPE_BYTE]);\n    return {\n      key,\n      value: data,\n    };\n  }\n  const expected = 'Buffer';\n  function check(data) {\n    return Buffer.isBuffer(data);\n  }\n  function canAdd(currentData, newData) {\n    return !!currentData && !!newData && currentData.redeemScript === undefined;\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAdd,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst varuint = require('../varint');\nconst bip32Derivation = require('./bip32Derivation');\nconst isValidBIP340Key = pubkey => pubkey.length === 32;\nfunction makeConverter(TYPE_BYTE) {\n  const parent = bip32Derivation.makeConverter(TYPE_BYTE, isValidBIP340Key);\n  function decode(keyVal) {\n    const nHashes = varuint.decode(keyVal.value);\n    const nHashesLen = varuint.encodingLength(nHashes);\n    const base = parent.decode({\n      key: keyVal.key,\n      value: keyVal.value.slice(nHashesLen + nHashes * 32),\n    });\n    const leafHashes = new Array(nHashes);\n    for (let i = 0, _offset = nHashesLen; i < nHashes; i++, _offset += 32) {\n      leafHashes[i] = keyVal.value.slice(_offset, _offset + 32);\n    }\n    return Object.assign({}, base, { leafHashes });\n  }\n  function encode(data) {\n    const base = parent.encode(data);\n    const nHashesLen = varuint.encodingLength(data.leafHashes.length);\n    const nHashesBuf = Buffer.allocUnsafe(nHashesLen);\n    varuint.encode(data.leafHashes.length, nHashesBuf);\n    const value = Buffer.concat([nHashesBuf, ...data.leafHashes, base.value]);\n    return Object.assign({}, base, { value });\n  }\n  const expected =\n    '{ ' +\n    'masterFingerprint: Buffer; ' +\n    'pubkey: Buffer; ' +\n    'path: string; ' +\n    'leafHashes: Buffer[]; ' +\n    '}';\n  function check(data) {\n    return (\n      Array.isArray(data.leafHashes) &&\n      data.leafHashes.every(\n        leafHash => Buffer.isBuffer(leafHash) && leafHash.length === 32,\n      ) &&\n      parent.check(data)\n    );\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAddToArray: parent.canAddToArray,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeConverter(TYPE_BYTE) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE || keyVal.key.length !== 1) {\n      throw new Error(\n        'Decode Error: could not decode tapInternalKey with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    if (keyVal.value.length !== 32) {\n      throw new Error(\n        'Decode Error: tapInternalKey not a 32-byte x-only pubkey',\n      );\n    }\n    return keyVal.value;\n  }\n  function encode(value) {\n    const key = Buffer.from([TYPE_BYTE]);\n    return { key, value };\n  }\n  const expected = 'Buffer';\n  function check(data) {\n    return Buffer.isBuffer(data) && data.length === 32;\n  }\n  function canAdd(currentData, newData) {\n    return (\n      !!currentData && !!newData && currentData.tapInternalKey === undefined\n    );\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAdd,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeConverter(TYPE_BYTE) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE) {\n      throw new Error(\n        'Decode Error: could not decode witnessScript with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    return keyVal.value;\n  }\n  function encode(data) {\n    const key = Buffer.from([TYPE_BYTE]);\n    return {\n      key,\n      value: data,\n    };\n  }\n  const expected = 'Buffer';\n  function check(data) {\n    return Buffer.isBuffer(data);\n  }\n  function canAdd(currentData, newData) {\n    return (\n      !!currentData && !!newData && currentData.witnessScript === undefined\n    );\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAdd,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst varuint = require('./varint');\nexports.range = n => [...Array(n).keys()];\nfunction reverseBuffer(buffer) {\n  if (buffer.length < 1) return buffer;\n  let j = buffer.length - 1;\n  let tmp = 0;\n  for (let i = 0; i < buffer.length / 2; i++) {\n    tmp = buffer[i];\n    buffer[i] = buffer[j];\n    buffer[j] = tmp;\n    j--;\n  }\n  return buffer;\n}\nexports.reverseBuffer = reverseBuffer;\nfunction keyValsToBuffer(keyVals) {\n  const buffers = keyVals.map(keyValToBuffer);\n  buffers.push(Buffer.from([0]));\n  return Buffer.concat(buffers);\n}\nexports.keyValsToBuffer = keyValsToBuffer;\nfunction keyValToBuffer(keyVal) {\n  const keyLen = keyVal.key.length;\n  const valLen = keyVal.value.length;\n  const keyVarIntLen = varuint.encodingLength(keyLen);\n  const valVarIntLen = varuint.encodingLength(valLen);\n  const buffer = Buffer.allocUnsafe(\n    keyVarIntLen + keyLen + valVarIntLen + valLen,\n  );\n  varuint.encode(keyLen, buffer, 0);\n  keyVal.key.copy(buffer, keyVarIntLen);\n  varuint.encode(valLen, buffer, keyVarIntLen + keyLen);\n  keyVal.value.copy(buffer, keyVarIntLen + keyLen + valVarIntLen);\n  return buffer;\n}\nexports.keyValToBuffer = keyValToBuffer;\n// https://github.com/feross/buffer/blob/master/index.js#L1127\nfunction verifuint(value, max) {\n  if (typeof value !== 'number')\n    throw new Error('cannot write a non-number as a number');\n  if (value < 0)\n    throw new Error('specified a negative value for writing an unsigned value');\n  if (value > max) throw new Error('RangeError: value out of range');\n  if (Math.floor(value) !== value)\n    throw new Error('value has a fractional component');\n}\nfunction readUInt64LE(buffer, offset) {\n  const a = buffer.readUInt32LE(offset);\n  let b = buffer.readUInt32LE(offset + 4);\n  b *= 0x100000000;\n  verifuint(b + a, 0x001fffffffffffff);\n  return b + a;\n}\nexports.readUInt64LE = readUInt64LE;\nfunction writeUInt64LE(buffer, value, offset) {\n  verifuint(value, 0x001fffffffffffff);\n  buffer.writeInt32LE(value & -1, offset);\n  buffer.writeUInt32LE(Math.floor(value / 0x100000000), offset + 4);\n  return offset + 8;\n}\nexports.writeUInt64LE = writeUInt64LE;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\n// Number.MAX_SAFE_INTEGER\nconst MAX_SAFE_INTEGER = 9007199254740991;\nfunction checkUInt53(n) {\n  if (n < 0 || n > MAX_SAFE_INTEGER || n % 1 !== 0)\n    throw new RangeError('value out of range');\n}\nfunction encode(_number, buffer, offset) {\n  checkUInt53(_number);\n  if (!buffer) buffer = Buffer.allocUnsafe(encodingLength(_number));\n  if (!Buffer.isBuffer(buffer))\n    throw new TypeError('buffer must be a Buffer instance');\n  if (!offset) offset = 0;\n  // 8 bit\n  if (_number < 0xfd) {\n    buffer.writeUInt8(_number, offset);\n    Object.assign(encode, { bytes: 1 });\n    // 16 bit\n  } else if (_number <= 0xffff) {\n    buffer.writeUInt8(0xfd, offset);\n    buffer.writeUInt16LE(_number, offset + 1);\n    Object.assign(encode, { bytes: 3 });\n    // 32 bit\n  } else if (_number <= 0xffffffff) {\n    buffer.writeUInt8(0xfe, offset);\n    buffer.writeUInt32LE(_number, offset + 1);\n    Object.assign(encode, { bytes: 5 });\n    // 64 bit\n  } else {\n    buffer.writeUInt8(0xff, offset);\n    buffer.writeUInt32LE(_number >>> 0, offset + 1);\n    buffer.writeUInt32LE((_number / 0x100000000) | 0, offset + 5);\n    Object.assign(encode, { bytes: 9 });\n  }\n  return buffer;\n}\nexports.encode = encode;\nfunction decode(buffer, offset) {\n  if (!Buffer.isBuffer(buffer))\n    throw new TypeError('buffer must be a Buffer instance');\n  if (!offset) offset = 0;\n  const first = buffer.readUInt8(offset);\n  // 8 bit\n  if (first < 0xfd) {\n    Object.assign(decode, { bytes: 1 });\n    return first;\n    // 16 bit\n  } else if (first === 0xfd) {\n    Object.assign(decode, { bytes: 3 });\n    return buffer.readUInt16LE(offset + 1);\n    // 32 bit\n  } else if (first === 0xfe) {\n    Object.assign(decode, { bytes: 5 });\n    return buffer.readUInt32LE(offset + 1);\n    // 64 bit\n  } else {\n    Object.assign(decode, { bytes: 9 });\n    const lo = buffer.readUInt32LE(offset + 1);\n    const hi = buffer.readUInt32LE(offset + 5);\n    const _number = hi * 0x0100000000 + lo;\n    checkUInt53(_number);\n    return _number;\n  }\n}\nexports.decode = decode;\nfunction encodingLength(_number) {\n  checkUInt53(_number);\n  return _number < 0xfd\n    ? 1\n    : _number <= 0xffff\n    ? 3\n    : _number <= 0xffffffff\n    ? 5\n    : 9;\n}\nexports.encodingLength = encodingLength;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst convert = require('../converter');\nconst tools_1 = require('../converter/tools');\nconst varuint = require('../converter/varint');\nconst typeFields_1 = require('../typeFields');\nfunction psbtFromBuffer(buffer, txGetter) {\n  let offset = 0;\n  function varSlice() {\n    const keyLen = varuint.decode(buffer, offset);\n    offset += varuint.encodingLength(keyLen);\n    const key = buffer.slice(offset, offset + keyLen);\n    offset += keyLen;\n    return key;\n  }\n  function readUInt32BE() {\n    const num = buffer.readUInt32BE(offset);\n    offset += 4;\n    return num;\n  }\n  function readUInt8() {\n    const num = buffer.readUInt8(offset);\n    offset += 1;\n    return num;\n  }\n  function getKeyValue() {\n    const key = varSlice();\n    const value = varSlice();\n    return {\n      key,\n      value,\n    };\n  }\n  function checkEndOfKeyValPairs() {\n    if (offset >= buffer.length) {\n      throw new Error('Format Error: Unexpected End of PSBT');\n    }\n    const isEnd = buffer.readUInt8(offset) === 0;\n    if (isEnd) {\n      offset++;\n    }\n    return isEnd;\n  }\n  if (readUInt32BE() !== 0x70736274) {\n    throw new Error('Format Error: Invalid Magic Number');\n  }\n  if (readUInt8() !== 0xff) {\n    throw new Error(\n      'Format Error: Magic Number must be followed by 0xff separator',\n    );\n  }\n  const globalMapKeyVals = [];\n  const globalKeyIndex = {};\n  while (!checkEndOfKeyValPairs()) {\n    const keyVal = getKeyValue();\n    const hexKey = keyVal.key.toString('hex');\n    if (globalKeyIndex[hexKey]) {\n      throw new Error(\n        'Format Error: Keys must be unique for global keymap: key ' + hexKey,\n      );\n    }\n    globalKeyIndex[hexKey] = 1;\n    globalMapKeyVals.push(keyVal);\n  }\n  const unsignedTxMaps = globalMapKeyVals.filter(\n    keyVal => keyVal.key[0] === typeFields_1.GlobalTypes.UNSIGNED_TX,\n  );\n  if (unsignedTxMaps.length !== 1) {\n    throw new Error('Format Error: Only one UNSIGNED_TX allowed');\n  }\n  const unsignedTx = txGetter(unsignedTxMaps[0].value);\n  // Get input and output counts to loop the respective fields\n  const { inputCount, outputCount } = unsignedTx.getInputOutputCounts();\n  const inputKeyVals = [];\n  const outputKeyVals = [];\n  // Get input fields\n  for (const index of tools_1.range(inputCount)) {\n    const inputKeyIndex = {};\n    const input = [];\n    while (!checkEndOfKeyValPairs()) {\n      const keyVal = getKeyValue();\n      const hexKey = keyVal.key.toString('hex');\n      if (inputKeyIndex[hexKey]) {\n        throw new Error(\n          'Format Error: Keys must be unique for each input: ' +\n            'input index ' +\n            index +\n            ' key ' +\n            hexKey,\n        );\n      }\n      inputKeyIndex[hexKey] = 1;\n      input.push(keyVal);\n    }\n    inputKeyVals.push(input);\n  }\n  for (const index of tools_1.range(outputCount)) {\n    const outputKeyIndex = {};\n    const output = [];\n    while (!checkEndOfKeyValPairs()) {\n      const keyVal = getKeyValue();\n      const hexKey = keyVal.key.toString('hex');\n      if (outputKeyIndex[hexKey]) {\n        throw new Error(\n          'Format Error: Keys must be unique for each output: ' +\n            'output index ' +\n            index +\n            ' key ' +\n            hexKey,\n        );\n      }\n      outputKeyIndex[hexKey] = 1;\n      output.push(keyVal);\n    }\n    outputKeyVals.push(output);\n  }\n  return psbtFromKeyVals(unsignedTx, {\n    globalMapKeyVals,\n    inputKeyVals,\n    outputKeyVals,\n  });\n}\nexports.psbtFromBuffer = psbtFromBuffer;\nfunction checkKeyBuffer(type, keyBuf, keyNum) {\n  if (!keyBuf.equals(Buffer.from([keyNum]))) {\n    throw new Error(\n      `Format Error: Invalid ${type} key: ${keyBuf.toString('hex')}`,\n    );\n  }\n}\nexports.checkKeyBuffer = checkKeyBuffer;\nfunction psbtFromKeyVals(\n  unsignedTx,\n  { globalMapKeyVals, inputKeyVals, outputKeyVals },\n) {\n  // That was easy :-)\n  const globalMap = {\n    unsignedTx,\n  };\n  let txCount = 0;\n  for (const keyVal of globalMapKeyVals) {\n    // If a globalMap item needs pubkey, uncomment\n    // const pubkey = convert.globals.checkPubkey(keyVal);\n    switch (keyVal.key[0]) {\n      case typeFields_1.GlobalTypes.UNSIGNED_TX:\n        checkKeyBuffer(\n          'global',\n          keyVal.key,\n          typeFields_1.GlobalTypes.UNSIGNED_TX,\n        );\n        if (txCount > 0) {\n          throw new Error('Format Error: GlobalMap has multiple UNSIGNED_TX');\n        }\n        txCount++;\n        break;\n      case typeFields_1.GlobalTypes.GLOBAL_XPUB:\n        if (globalMap.globalXpub === undefined) {\n          globalMap.globalXpub = [];\n        }\n        globalMap.globalXpub.push(convert.globals.globalXpub.decode(keyVal));\n        break;\n      default:\n        // This will allow inclusion during serialization.\n        if (!globalMap.unknownKeyVals) globalMap.unknownKeyVals = [];\n        globalMap.unknownKeyVals.push(keyVal);\n    }\n  }\n  // Get input and output counts to loop the respective fields\n  const inputCount = inputKeyVals.length;\n  const outputCount = outputKeyVals.length;\n  const inputs = [];\n  const outputs = [];\n  // Get input fields\n  for (const index of tools_1.range(inputCount)) {\n    const input = {};\n    for (const keyVal of inputKeyVals[index]) {\n      convert.inputs.checkPubkey(keyVal);\n      switch (keyVal.key[0]) {\n        case typeFields_1.InputTypes.NON_WITNESS_UTXO:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.NON_WITNESS_UTXO,\n          );\n          if (input.nonWitnessUtxo !== undefined) {\n            throw new Error(\n              'Format Error: Input has multiple NON_WITNESS_UTXO',\n            );\n          }\n          input.nonWitnessUtxo = convert.inputs.nonWitnessUtxo.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.WITNESS_UTXO:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.WITNESS_UTXO,\n          );\n          if (input.witnessUtxo !== undefined) {\n            throw new Error('Format Error: Input has multiple WITNESS_UTXO');\n          }\n          input.witnessUtxo = convert.inputs.witnessUtxo.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.PARTIAL_SIG:\n          if (input.partialSig === undefined) {\n            input.partialSig = [];\n          }\n          input.partialSig.push(convert.inputs.partialSig.decode(keyVal));\n          break;\n        case typeFields_1.InputTypes.SIGHASH_TYPE:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.SIGHASH_TYPE,\n          );\n          if (input.sighashType !== undefined) {\n            throw new Error('Format Error: Input has multiple SIGHASH_TYPE');\n          }\n          input.sighashType = convert.inputs.sighashType.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.REDEEM_SCRIPT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.REDEEM_SCRIPT,\n          );\n          if (input.redeemScript !== undefined) {\n            throw new Error('Format Error: Input has multiple REDEEM_SCRIPT');\n          }\n          input.redeemScript = convert.inputs.redeemScript.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.WITNESS_SCRIPT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.WITNESS_SCRIPT,\n          );\n          if (input.witnessScript !== undefined) {\n            throw new Error('Format Error: Input has multiple WITNESS_SCRIPT');\n          }\n          input.witnessScript = convert.inputs.witnessScript.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.BIP32_DERIVATION:\n          if (input.bip32Derivation === undefined) {\n            input.bip32Derivation = [];\n          }\n          input.bip32Derivation.push(\n            convert.inputs.bip32Derivation.decode(keyVal),\n          );\n          break;\n        case typeFields_1.InputTypes.FINAL_SCRIPTSIG:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.FINAL_SCRIPTSIG,\n          );\n          input.finalScriptSig = convert.inputs.finalScriptSig.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.FINAL_SCRIPTWITNESS:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.FINAL_SCRIPTWITNESS,\n          );\n          input.finalScriptWitness = convert.inputs.finalScriptWitness.decode(\n            keyVal,\n          );\n          break;\n        case typeFields_1.InputTypes.POR_COMMITMENT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.POR_COMMITMENT,\n          );\n          input.porCommitment = convert.inputs.porCommitment.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.TAP_KEY_SIG:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.TAP_KEY_SIG,\n          );\n          input.tapKeySig = convert.inputs.tapKeySig.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.TAP_SCRIPT_SIG:\n          if (input.tapScriptSig === undefined) {\n            input.tapScriptSig = [];\n          }\n          input.tapScriptSig.push(convert.inputs.tapScriptSig.decode(keyVal));\n          break;\n        case typeFields_1.InputTypes.TAP_LEAF_SCRIPT:\n          if (input.tapLeafScript === undefined) {\n            input.tapLeafScript = [];\n          }\n          input.tapLeafScript.push(convert.inputs.tapLeafScript.decode(keyVal));\n          break;\n        case typeFields_1.InputTypes.TAP_BIP32_DERIVATION:\n          if (input.tapBip32Derivation === undefined) {\n            input.tapBip32Derivation = [];\n          }\n          input.tapBip32Derivation.push(\n            convert.inputs.tapBip32Derivation.decode(keyVal),\n          );\n          break;\n        case typeFields_1.InputTypes.TAP_INTERNAL_KEY:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.TAP_INTERNAL_KEY,\n          );\n          input.tapInternalKey = convert.inputs.tapInternalKey.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.TAP_MERKLE_ROOT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.TAP_MERKLE_ROOT,\n          );\n          input.tapMerkleRoot = convert.inputs.tapMerkleRoot.decode(keyVal);\n          break;\n        default:\n          // This will allow inclusion during serialization.\n          if (!input.unknownKeyVals) input.unknownKeyVals = [];\n          input.unknownKeyVals.push(keyVal);\n      }\n    }\n    inputs.push(input);\n  }\n  for (const index of tools_1.range(outputCount)) {\n    const output = {};\n    for (const keyVal of outputKeyVals[index]) {\n      convert.outputs.checkPubkey(keyVal);\n      switch (keyVal.key[0]) {\n        case typeFields_1.OutputTypes.REDEEM_SCRIPT:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.REDEEM_SCRIPT,\n          );\n          if (output.redeemScript !== undefined) {\n            throw new Error('Format Error: Output has multiple REDEEM_SCRIPT');\n          }\n          output.redeemScript = convert.outputs.redeemScript.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.WITNESS_SCRIPT:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.WITNESS_SCRIPT,\n          );\n          if (output.witnessScript !== undefined) {\n            throw new Error('Format Error: Output has multiple WITNESS_SCRIPT');\n          }\n          output.witnessScript = convert.outputs.witnessScript.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.BIP32_DERIVATION:\n          if (output.bip32Derivation === undefined) {\n            output.bip32Derivation = [];\n          }\n          output.bip32Derivation.push(\n            convert.outputs.bip32Derivation.decode(keyVal),\n          );\n          break;\n        case typeFields_1.OutputTypes.TAP_INTERNAL_KEY:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.TAP_INTERNAL_KEY,\n          );\n          output.tapInternalKey = convert.outputs.tapInternalKey.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.TAP_TREE:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.TAP_TREE,\n          );\n          output.tapTree = convert.outputs.tapTree.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.TAP_BIP32_DERIVATION:\n          if (output.tapBip32Derivation === undefined) {\n            output.tapBip32Derivation = [];\n          }\n          output.tapBip32Derivation.push(\n            convert.outputs.tapBip32Derivation.decode(keyVal),\n          );\n          break;\n        default:\n          if (!output.unknownKeyVals) output.unknownKeyVals = [];\n          output.unknownKeyVals.push(keyVal);\n      }\n    }\n    outputs.push(output);\n  }\n  return { globalMap, inputs, outputs };\n}\nexports.psbtFromKeyVals = psbtFromKeyVals;\n","'use strict';\nfunction __export(m) {\n  for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, '__esModule', { value: true });\n__export(require('./fromBuffer'));\n__export(require('./toBuffer'));\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst convert = require('../converter');\nconst tools_1 = require('../converter/tools');\nfunction psbtToBuffer({ globalMap, inputs, outputs }) {\n  const { globalKeyVals, inputKeyVals, outputKeyVals } = psbtToKeyVals({\n    globalMap,\n    inputs,\n    outputs,\n  });\n  const globalBuffer = tools_1.keyValsToBuffer(globalKeyVals);\n  const keyValsOrEmptyToBuffer = keyVals =>\n    keyVals.length === 0\n      ? [Buffer.from([0])]\n      : keyVals.map(tools_1.keyValsToBuffer);\n  const inputBuffers = keyValsOrEmptyToBuffer(inputKeyVals);\n  const outputBuffers = keyValsOrEmptyToBuffer(outputKeyVals);\n  const header = Buffer.allocUnsafe(5);\n  header.writeUIntBE(0x70736274ff, 0, 5);\n  return Buffer.concat(\n    [header, globalBuffer].concat(inputBuffers, outputBuffers),\n  );\n}\nexports.psbtToBuffer = psbtToBuffer;\nconst sortKeyVals = (a, b) => {\n  return a.key.compare(b.key);\n};\nfunction keyValsFromMap(keyValMap, converterFactory) {\n  const keyHexSet = new Set();\n  const keyVals = Object.entries(keyValMap).reduce((result, [key, value]) => {\n    if (key === 'unknownKeyVals') return result;\n    // We are checking for undefined anyways. So ignore TS error\n    // @ts-ignore\n    const converter = converterFactory[key];\n    if (converter === undefined) return result;\n    const encodedKeyVals = (Array.isArray(value) ? value : [value]).map(\n      converter.encode,\n    );\n    const keyHexes = encodedKeyVals.map(kv => kv.key.toString('hex'));\n    keyHexes.forEach(hex => {\n      if (keyHexSet.has(hex))\n        throw new Error('Serialize Error: Duplicate key: ' + hex);\n      keyHexSet.add(hex);\n    });\n    return result.concat(encodedKeyVals);\n  }, []);\n  // Get other keyVals that have not yet been gotten\n  const otherKeyVals = keyValMap.unknownKeyVals\n    ? keyValMap.unknownKeyVals.filter(keyVal => {\n        return !keyHexSet.has(keyVal.key.toString('hex'));\n      })\n    : [];\n  return keyVals.concat(otherKeyVals).sort(sortKeyVals);\n}\nfunction psbtToKeyVals({ globalMap, inputs, outputs }) {\n  // First parse the global keyVals\n  // Get any extra keyvals to pass along\n  return {\n    globalKeyVals: keyValsFromMap(globalMap, convert.globals),\n    inputKeyVals: inputs.map(i => keyValsFromMap(i, convert.inputs)),\n    outputKeyVals: outputs.map(o => keyValsFromMap(o, convert.outputs)),\n  };\n}\nexports.psbtToKeyVals = psbtToKeyVals;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst combiner_1 = require('./combiner');\nconst parser_1 = require('./parser');\nconst typeFields_1 = require('./typeFields');\nconst utils_1 = require('./utils');\nclass Psbt {\n  constructor(tx) {\n    this.inputs = [];\n    this.outputs = [];\n    this.globalMap = {\n      unsignedTx: tx,\n    };\n  }\n  static fromBase64(data, txFromBuffer) {\n    const buffer = Buffer.from(data, 'base64');\n    return this.fromBuffer(buffer, txFromBuffer);\n  }\n  static fromHex(data, txFromBuffer) {\n    const buffer = Buffer.from(data, 'hex');\n    return this.fromBuffer(buffer, txFromBuffer);\n  }\n  static fromBuffer(buffer, txFromBuffer) {\n    const results = parser_1.psbtFromBuffer(buffer, txFromBuffer);\n    const psbt = new this(results.globalMap.unsignedTx);\n    Object.assign(psbt, results);\n    return psbt;\n  }\n  toBase64() {\n    const buffer = this.toBuffer();\n    return buffer.toString('base64');\n  }\n  toHex() {\n    const buffer = this.toBuffer();\n    return buffer.toString('hex');\n  }\n  toBuffer() {\n    return parser_1.psbtToBuffer(this);\n  }\n  updateGlobal(updateData) {\n    utils_1.updateGlobal(updateData, this.globalMap);\n    return this;\n  }\n  updateInput(inputIndex, updateData) {\n    const input = utils_1.checkForInput(this.inputs, inputIndex);\n    utils_1.updateInput(updateData, input);\n    return this;\n  }\n  updateOutput(outputIndex, updateData) {\n    const output = utils_1.checkForOutput(this.outputs, outputIndex);\n    utils_1.updateOutput(updateData, output);\n    return this;\n  }\n  addUnknownKeyValToGlobal(keyVal) {\n    utils_1.checkHasKey(\n      keyVal,\n      this.globalMap.unknownKeyVals,\n      utils_1.getEnumLength(typeFields_1.GlobalTypes),\n    );\n    if (!this.globalMap.unknownKeyVals) this.globalMap.unknownKeyVals = [];\n    this.globalMap.unknownKeyVals.push(keyVal);\n    return this;\n  }\n  addUnknownKeyValToInput(inputIndex, keyVal) {\n    const input = utils_1.checkForInput(this.inputs, inputIndex);\n    utils_1.checkHasKey(\n      keyVal,\n      input.unknownKeyVals,\n      utils_1.getEnumLength(typeFields_1.InputTypes),\n    );\n    if (!input.unknownKeyVals) input.unknownKeyVals = [];\n    input.unknownKeyVals.push(keyVal);\n    return this;\n  }\n  addUnknownKeyValToOutput(outputIndex, keyVal) {\n    const output = utils_1.checkForOutput(this.outputs, outputIndex);\n    utils_1.checkHasKey(\n      keyVal,\n      output.unknownKeyVals,\n      utils_1.getEnumLength(typeFields_1.OutputTypes),\n    );\n    if (!output.unknownKeyVals) output.unknownKeyVals = [];\n    output.unknownKeyVals.push(keyVal);\n    return this;\n  }\n  addInput(inputData) {\n    this.globalMap.unsignedTx.addInput(inputData);\n    this.inputs.push({\n      unknownKeyVals: [],\n    });\n    const addKeyVals = inputData.unknownKeyVals || [];\n    const inputIndex = this.inputs.length - 1;\n    if (!Array.isArray(addKeyVals)) {\n      throw new Error('unknownKeyVals must be an Array');\n    }\n    addKeyVals.forEach(keyVal =>\n      this.addUnknownKeyValToInput(inputIndex, keyVal),\n    );\n    utils_1.addInputAttributes(this.inputs, inputData);\n    return this;\n  }\n  addOutput(outputData) {\n    this.globalMap.unsignedTx.addOutput(outputData);\n    this.outputs.push({\n      unknownKeyVals: [],\n    });\n    const addKeyVals = outputData.unknownKeyVals || [];\n    const outputIndex = this.outputs.length - 1;\n    if (!Array.isArray(addKeyVals)) {\n      throw new Error('unknownKeyVals must be an Array');\n    }\n    addKeyVals.forEach(keyVal =>\n      this.addUnknownKeyValToOutput(outputIndex, keyVal),\n    );\n    utils_1.addOutputAttributes(this.outputs, outputData);\n    return this;\n  }\n  clearFinalizedInput(inputIndex) {\n    const input = utils_1.checkForInput(this.inputs, inputIndex);\n    utils_1.inputCheckUncleanFinalized(inputIndex, input);\n    for (const key of Object.keys(input)) {\n      if (\n        ![\n          'witnessUtxo',\n          'nonWitnessUtxo',\n          'finalScriptSig',\n          'finalScriptWitness',\n          'unknownKeyVals',\n        ].includes(key)\n      ) {\n        // @ts-ignore\n        delete input[key];\n      }\n    }\n    return this;\n  }\n  combine(...those) {\n    // Combine this with those.\n    // Return self for chaining.\n    const result = combiner_1.combine([this].concat(those));\n    Object.assign(this, result);\n    return this;\n  }\n  getTransaction() {\n    return this.globalMap.unsignedTx.toBuffer();\n  }\n}\nexports.Psbt = Psbt;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar GlobalTypes;\n(function(GlobalTypes) {\n  GlobalTypes[(GlobalTypes['UNSIGNED_TX'] = 0)] = 'UNSIGNED_TX';\n  GlobalTypes[(GlobalTypes['GLOBAL_XPUB'] = 1)] = 'GLOBAL_XPUB';\n})((GlobalTypes = exports.GlobalTypes || (exports.GlobalTypes = {})));\nexports.GLOBAL_TYPE_NAMES = ['unsignedTx', 'globalXpub'];\nvar InputTypes;\n(function(InputTypes) {\n  InputTypes[(InputTypes['NON_WITNESS_UTXO'] = 0)] = 'NON_WITNESS_UTXO';\n  InputTypes[(InputTypes['WITNESS_UTXO'] = 1)] = 'WITNESS_UTXO';\n  InputTypes[(InputTypes['PARTIAL_SIG'] = 2)] = 'PARTIAL_SIG';\n  InputTypes[(InputTypes['SIGHASH_TYPE'] = 3)] = 'SIGHASH_TYPE';\n  InputTypes[(InputTypes['REDEEM_SCRIPT'] = 4)] = 'REDEEM_SCRIPT';\n  InputTypes[(InputTypes['WITNESS_SCRIPT'] = 5)] = 'WITNESS_SCRIPT';\n  InputTypes[(InputTypes['BIP32_DERIVATION'] = 6)] = 'BIP32_DERIVATION';\n  InputTypes[(InputTypes['FINAL_SCRIPTSIG'] = 7)] = 'FINAL_SCRIPTSIG';\n  InputTypes[(InputTypes['FINAL_SCRIPTWITNESS'] = 8)] = 'FINAL_SCRIPTWITNESS';\n  InputTypes[(InputTypes['POR_COMMITMENT'] = 9)] = 'POR_COMMITMENT';\n  InputTypes[(InputTypes['TAP_KEY_SIG'] = 19)] = 'TAP_KEY_SIG';\n  InputTypes[(InputTypes['TAP_SCRIPT_SIG'] = 20)] = 'TAP_SCRIPT_SIG';\n  InputTypes[(InputTypes['TAP_LEAF_SCRIPT'] = 21)] = 'TAP_LEAF_SCRIPT';\n  InputTypes[(InputTypes['TAP_BIP32_DERIVATION'] = 22)] =\n    'TAP_BIP32_DERIVATION';\n  InputTypes[(InputTypes['TAP_INTERNAL_KEY'] = 23)] = 'TAP_INTERNAL_KEY';\n  InputTypes[(InputTypes['TAP_MERKLE_ROOT'] = 24)] = 'TAP_MERKLE_ROOT';\n})((InputTypes = exports.InputTypes || (exports.InputTypes = {})));\nexports.INPUT_TYPE_NAMES = [\n  'nonWitnessUtxo',\n  'witnessUtxo',\n  'partialSig',\n  'sighashType',\n  'redeemScript',\n  'witnessScript',\n  'bip32Derivation',\n  'finalScriptSig',\n  'finalScriptWitness',\n  'porCommitment',\n  'tapKeySig',\n  'tapScriptSig',\n  'tapLeafScript',\n  'tapBip32Derivation',\n  'tapInternalKey',\n  'tapMerkleRoot',\n];\nvar OutputTypes;\n(function(OutputTypes) {\n  OutputTypes[(OutputTypes['REDEEM_SCRIPT'] = 0)] = 'REDEEM_SCRIPT';\n  OutputTypes[(OutputTypes['WITNESS_SCRIPT'] = 1)] = 'WITNESS_SCRIPT';\n  OutputTypes[(OutputTypes['BIP32_DERIVATION'] = 2)] = 'BIP32_DERIVATION';\n  OutputTypes[(OutputTypes['TAP_INTERNAL_KEY'] = 5)] = 'TAP_INTERNAL_KEY';\n  OutputTypes[(OutputTypes['TAP_TREE'] = 6)] = 'TAP_TREE';\n  OutputTypes[(OutputTypes['TAP_BIP32_DERIVATION'] = 7)] =\n    'TAP_BIP32_DERIVATION';\n})((OutputTypes = exports.OutputTypes || (exports.OutputTypes = {})));\nexports.OUTPUT_TYPE_NAMES = [\n  'redeemScript',\n  'witnessScript',\n  'bip32Derivation',\n  'tapInternalKey',\n  'tapTree',\n  'tapBip32Derivation',\n];\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst converter = require('./converter');\nfunction checkForInput(inputs, inputIndex) {\n  const input = inputs[inputIndex];\n  if (input === undefined) throw new Error(`No input #${inputIndex}`);\n  return input;\n}\nexports.checkForInput = checkForInput;\nfunction checkForOutput(outputs, outputIndex) {\n  const output = outputs[outputIndex];\n  if (output === undefined) throw new Error(`No output #${outputIndex}`);\n  return output;\n}\nexports.checkForOutput = checkForOutput;\nfunction checkHasKey(checkKeyVal, keyVals, enumLength) {\n  if (checkKeyVal.key[0] < enumLength) {\n    throw new Error(\n      `Use the method for your specific key instead of addUnknownKeyVal*`,\n    );\n  }\n  if (\n    keyVals &&\n    keyVals.filter(kv => kv.key.equals(checkKeyVal.key)).length !== 0\n  ) {\n    throw new Error(`Duplicate Key: ${checkKeyVal.key.toString('hex')}`);\n  }\n}\nexports.checkHasKey = checkHasKey;\nfunction getEnumLength(myenum) {\n  let count = 0;\n  Object.keys(myenum).forEach(val => {\n    if (Number(isNaN(Number(val)))) {\n      count++;\n    }\n  });\n  return count;\n}\nexports.getEnumLength = getEnumLength;\nfunction inputCheckUncleanFinalized(inputIndex, input) {\n  let result = false;\n  if (input.nonWitnessUtxo || input.witnessUtxo) {\n    const needScriptSig = !!input.redeemScript;\n    const needWitnessScript = !!input.witnessScript;\n    const scriptSigOK = !needScriptSig || !!input.finalScriptSig;\n    const witnessScriptOK = !needWitnessScript || !!input.finalScriptWitness;\n    const hasOneFinal = !!input.finalScriptSig || !!input.finalScriptWitness;\n    result = scriptSigOK && witnessScriptOK && hasOneFinal;\n  }\n  if (result === false) {\n    throw new Error(\n      `Input #${inputIndex} has too much or too little data to clean`,\n    );\n  }\n}\nexports.inputCheckUncleanFinalized = inputCheckUncleanFinalized;\nfunction throwForUpdateMaker(typeName, name, expected, data) {\n  throw new Error(\n    `Data for ${typeName} key ${name} is incorrect: Expected ` +\n      `${expected} and got ${JSON.stringify(data)}`,\n  );\n}\nfunction updateMaker(typeName) {\n  return (updateData, mainData) => {\n    for (const name of Object.keys(updateData)) {\n      // @ts-ignore\n      const data = updateData[name];\n      // @ts-ignore\n      const { canAdd, canAddToArray, check, expected } =\n        // @ts-ignore\n        converter[typeName + 's'][name] || {};\n      const isArray = !!canAddToArray;\n      // If unknown data. ignore and do not add\n      if (check) {\n        if (isArray) {\n          if (\n            !Array.isArray(data) ||\n            // @ts-ignore\n            (mainData[name] && !Array.isArray(mainData[name]))\n          ) {\n            throw new Error(`Key type ${name} must be an array`);\n          }\n          if (!data.every(check)) {\n            throwForUpdateMaker(typeName, name, expected, data);\n          }\n          // @ts-ignore\n          const arr = mainData[name] || [];\n          const dupeCheckSet = new Set();\n          if (!data.every(v => canAddToArray(arr, v, dupeCheckSet))) {\n            throw new Error('Can not add duplicate data to array');\n          }\n          // @ts-ignore\n          mainData[name] = arr.concat(data);\n        } else {\n          if (!check(data)) {\n            throwForUpdateMaker(typeName, name, expected, data);\n          }\n          if (!canAdd(mainData, data)) {\n            throw new Error(`Can not add duplicate data to ${typeName}`);\n          }\n          // @ts-ignore\n          mainData[name] = data;\n        }\n      }\n    }\n  };\n}\nexports.updateGlobal = updateMaker('global');\nexports.updateInput = updateMaker('input');\nexports.updateOutput = updateMaker('output');\nfunction addInputAttributes(inputs, data) {\n  const index = inputs.length - 1;\n  const input = checkForInput(inputs, index);\n  exports.updateInput(data, input);\n}\nexports.addInputAttributes = addInputAttributes;\nfunction addOutputAttributes(outputs, data) {\n  const index = outputs.length - 1;\n  const output = checkForOutput(outputs, index);\n  exports.updateOutput(data, output);\n}\nexports.addOutputAttributes = addOutputAttributes;\nfunction defaultVersionSetter(version, txBuf) {\n  if (!Buffer.isBuffer(txBuf) || txBuf.length < 4) {\n    throw new Error('Set Version: Invalid Transaction');\n  }\n  txBuf.writeUInt32LE(version, 0);\n  return txBuf;\n}\nexports.defaultVersionSetter = defaultVersionSetter;\nfunction defaultLocktimeSetter(locktime, txBuf) {\n  if (!Buffer.isBuffer(txBuf) || txBuf.length < 4) {\n    throw new Error('Set Locktime: Invalid Transaction');\n  }\n  txBuf.writeUInt32LE(locktime, txBuf.length - 4);\n  return txBuf;\n}\nexports.defaultLocktimeSetter = defaultLocktimeSetter;\n","// Reference https://github.com/bitcoin/bips/blob/master/bip-0066.mediawiki\n// Format: 0x30 [total-length] 0x02 [R-length] [R] 0x02 [S-length] [S]\n// NOTE: SIGHASH byte ignored AND restricted, truncate before use\n\nvar Buffer = require('safe-buffer').Buffer\n\nfunction check (buffer) {\n  if (buffer.length < 8) return false\n  if (buffer.length > 72) return false\n  if (buffer[0] !== 0x30) return false\n  if (buffer[1] !== buffer.length - 2) return false\n  if (buffer[2] !== 0x02) return false\n\n  var lenR = buffer[3]\n  if (lenR === 0) return false\n  if (5 + lenR >= buffer.length) return false\n  if (buffer[4 + lenR] !== 0x02) return false\n\n  var lenS = buffer[5 + lenR]\n  if (lenS === 0) return false\n  if ((6 + lenR + lenS) !== buffer.length) return false\n\n  if (buffer[4] & 0x80) return false\n  if (lenR > 1 && (buffer[4] === 0x00) && !(buffer[5] & 0x80)) return false\n\n  if (buffer[lenR + 6] & 0x80) return false\n  if (lenS > 1 && (buffer[lenR + 6] === 0x00) && !(buffer[lenR + 7] & 0x80)) return false\n  return true\n}\n\nfunction decode (buffer) {\n  if (buffer.length < 8) throw new Error('DER sequence length is too short')\n  if (buffer.length > 72) throw new Error('DER sequence length is too long')\n  if (buffer[0] !== 0x30) throw new Error('Expected DER sequence')\n  if (buffer[1] !== buffer.length - 2) throw new Error('DER sequence length is invalid')\n  if (buffer[2] !== 0x02) throw new Error('Expected DER integer')\n\n  var lenR = buffer[3]\n  if (lenR === 0) throw new Error('R length is zero')\n  if (5 + lenR >= buffer.length) throw new Error('R length is too long')\n  if (buffer[4 + lenR] !== 0x02) throw new Error('Expected DER integer (2)')\n\n  var lenS = buffer[5 + lenR]\n  if (lenS === 0) throw new Error('S length is zero')\n  if ((6 + lenR + lenS) !== buffer.length) throw new Error('S length is invalid')\n\n  if (buffer[4] & 0x80) throw new Error('R value is negative')\n  if (lenR > 1 && (buffer[4] === 0x00) && !(buffer[5] & 0x80)) throw new Error('R value excessively padded')\n\n  if (buffer[lenR + 6] & 0x80) throw new Error('S value is negative')\n  if (lenS > 1 && (buffer[lenR + 6] === 0x00) && !(buffer[lenR + 7] & 0x80)) throw new Error('S value excessively padded')\n\n  // non-BIP66 - extract R, S values\n  return {\n    r: buffer.slice(4, 4 + lenR),\n    s: buffer.slice(6 + lenR)\n  }\n}\n\n/*\n * Expects r and s to be positive DER integers.\n *\n * The DER format uses the most significant bit as a sign bit (& 0x80).\n * If the significant bit is set AND the integer is positive, a 0x00 is prepended.\n *\n * Examples:\n *\n *      0 =>     0x00\n *      1 =>     0x01\n *     -1 =>     0xff\n *    127 =>     0x7f\n *   -127 =>     0x81\n *    128 =>   0x0080\n *   -128 =>     0x80\n *    255 =>   0x00ff\n *   -255 =>   0xff01\n *  16300 =>   0x3fac\n * -16300 =>   0xc054\n *  62300 => 0x00f35c\n * -62300 => 0xff0ca4\n*/\nfunction encode (r, s) {\n  var lenR = r.length\n  var lenS = s.length\n  if (lenR === 0) throw new Error('R length is zero')\n  if (lenS === 0) throw new Error('S length is zero')\n  if (lenR > 33) throw new Error('R length is too long')\n  if (lenS > 33) throw new Error('S length is too long')\n  if (r[0] & 0x80) throw new Error('R value is negative')\n  if (s[0] & 0x80) throw new Error('S value is negative')\n  if (lenR > 1 && (r[0] === 0x00) && !(r[1] & 0x80)) throw new Error('R value excessively padded')\n  if (lenS > 1 && (s[0] === 0x00) && !(s[1] & 0x80)) throw new Error('S value excessively padded')\n\n  var signature = Buffer.allocUnsafe(6 + lenR + lenS)\n\n  // 0x30 [total-length] 0x02 [R-length] [R] 0x02 [S-length] [S]\n  signature[0] = 0x30\n  signature[1] = signature.length - 2\n  signature[2] = 0x02\n  signature[3] = r.length\n  r.copy(signature, 4)\n  signature[4 + lenR] = 0x02\n  signature[5 + lenR] = s.length\n  s.copy(signature, 6 + lenR)\n\n  return signature\n}\n\nmodule.exports = {\n  check: check,\n  decode: decode,\n  encode: encode\n}\n","var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","'use strict'\n\nvar base58 = require('bs58')\n\nmodule.exports = function (checksumFn) {\n  // Encode a buffer as a base58-check encoded string\n  function encode (payload) {\n    var payloadU8 = Uint8Array.from(payload)\n    var checksum = checksumFn(payloadU8)\n    var length = payloadU8.length + 4\n    var both = new Uint8Array(length)\n    both.set(payloadU8, 0)\n    both.set(checksum.subarray(0, 4), payloadU8.length)\n    return base58.encode(both, length)\n  }\n\n  function decodeRaw (buffer) {\n    var payload = buffer.slice(0, -4)\n    var checksum = buffer.slice(-4)\n    var newChecksum = checksumFn(payload)\n\n    if (checksum[0] ^ newChecksum[0] |\n        checksum[1] ^ newChecksum[1] |\n        checksum[2] ^ newChecksum[2] |\n        checksum[3] ^ newChecksum[3]) return\n\n    return payload\n  }\n\n  // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\n  function decodeUnsafe (string) {\n    var buffer = base58.decodeUnsafe(string)\n    if (!buffer) return\n\n    return decodeRaw(buffer)\n  }\n\n  function decode (string) {\n    var buffer = base58.decode(string)\n    var payload = decodeRaw(buffer, checksumFn)\n    if (!payload) throw new Error('Invalid checksum')\n    return payload\n  }\n\n  return {\n    encode: encode,\n    decode: decode,\n    decodeUnsafe: decodeUnsafe\n  }\n}\n","'use strict'\n\nvar { sha256 } = require('@noble/hashes/sha256')\nvar bs58checkBase = require('./base')\n\n// SHA256(SHA256(buffer))\nfunction sha256x2 (buffer) {\n  return sha256(sha256(buffer))\n}\n\nmodule.exports = bs58checkBase(sha256x2)\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) {\n    } else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength)\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source)\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = new Uint8Array(zeroes + (size - it4))\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","const basex = require('base-x')\nconst ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","var bigInt = (function (undefined) {\r\n    \"use strict\";\r\n\r\n    var BASE = 1e7,\r\n        LOG_BASE = 7,\r\n        MAX_INT = 9007199254740992,\r\n        MAX_INT_ARR = smallToArray(MAX_INT),\r\n        LOG_MAX_INT = Math.log(MAX_INT);\r\n\r\n    function Integer(v, radix) {\r\n        if (typeof v === \"undefined\") return Integer[0];\r\n        if (typeof radix !== \"undefined\") return +radix === 10 ? parseValue(v) : parseBase(v, radix);\r\n        return parseValue(v);\r\n    }\r\n\r\n    function BigInteger(value, sign) {\r\n        this.value = value;\r\n        this.sign = sign;\r\n        this.isSmall = false;\r\n    }\r\n    BigInteger.prototype = Object.create(Integer.prototype);\r\n\r\n    function SmallInteger(value) {\r\n        this.value = value;\r\n        this.sign = value < 0;\r\n        this.isSmall = true;\r\n    }\r\n    SmallInteger.prototype = Object.create(Integer.prototype);\r\n\r\n    function isPrecise(n) {\r\n        return -MAX_INT < n && n < MAX_INT;\r\n    }\r\n\r\n    function smallToArray(n) { // For performance reasons doesn't reference BASE, need to change this function if BASE changes\r\n        if (n < 1e7)\r\n            return [n];\r\n        if (n < 1e14)\r\n            return [n % 1e7, Math.floor(n / 1e7)];\r\n        return [n % 1e7, Math.floor(n / 1e7) % 1e7, Math.floor(n / 1e14)];\r\n    }\r\n\r\n    function arrayToSmall(arr) { // If BASE changes this function may need to change\r\n        trim(arr);\r\n        var length = arr.length;\r\n        if (length < 4 && compareAbs(arr, MAX_INT_ARR) < 0) {\r\n            switch (length) {\r\n                case 0: return 0;\r\n                case 1: return arr[0];\r\n                case 2: return arr[0] + arr[1] * BASE;\r\n                default: return arr[0] + (arr[1] + arr[2] * BASE) * BASE;\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function trim(v) {\r\n        var i = v.length;\r\n        while (v[--i] === 0);\r\n        v.length = i + 1;\r\n    }\r\n\r\n    function createArray(length) { // function shamelessly stolen from Yaffle's library https://github.com/Yaffle/BigInteger\r\n        var x = new Array(length);\r\n        var i = -1;\r\n        while (++i < length) {\r\n            x[i] = 0;\r\n        }\r\n        return x;\r\n    }\r\n\r\n    function truncate(n) {\r\n        if (n > 0) return Math.floor(n);\r\n        return Math.ceil(n);\r\n    }\r\n\r\n    function add(a, b) { // assumes a and b are arrays with a.length >= b.length\r\n        var l_a = a.length,\r\n            l_b = b.length,\r\n            r = new Array(l_a),\r\n            carry = 0,\r\n            base = BASE,\r\n            sum, i;\r\n        for (i = 0; i < l_b; i++) {\r\n            sum = a[i] + b[i] + carry;\r\n            carry = sum >= base ? 1 : 0;\r\n            r[i] = sum - carry * base;\r\n        }\r\n        while (i < l_a) {\r\n            sum = a[i] + carry;\r\n            carry = sum === base ? 1 : 0;\r\n            r[i++] = sum - carry * base;\r\n        }\r\n        if (carry > 0) r.push(carry);\r\n        return r;\r\n    }\r\n\r\n    function addAny(a, b) {\r\n        if (a.length >= b.length) return add(a, b);\r\n        return add(b, a);\r\n    }\r\n\r\n    function addSmall(a, carry) { // assumes a is array, carry is number with 0 <= carry < MAX_INT\r\n        var l = a.length,\r\n            r = new Array(l),\r\n            base = BASE,\r\n            sum, i;\r\n        for (i = 0; i < l; i++) {\r\n            sum = a[i] - base + carry;\r\n            carry = Math.floor(sum / base);\r\n            r[i] = sum - carry * base;\r\n            carry += 1;\r\n        }\r\n        while (carry > 0) {\r\n            r[i++] = carry % base;\r\n            carry = Math.floor(carry / base);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    BigInteger.prototype.add = function (v) {\r\n        var n = parseValue(v);\r\n        if (this.sign !== n.sign) {\r\n            return this.subtract(n.negate());\r\n        }\r\n        var a = this.value, b = n.value;\r\n        if (n.isSmall) {\r\n            return new BigInteger(addSmall(a, Math.abs(b)), this.sign);\r\n        }\r\n        return new BigInteger(addAny(a, b), this.sign);\r\n    };\r\n    BigInteger.prototype.plus = BigInteger.prototype.add;\r\n\r\n    SmallInteger.prototype.add = function (v) {\r\n        var n = parseValue(v);\r\n        var a = this.value;\r\n        if (a < 0 !== n.sign) {\r\n            return this.subtract(n.negate());\r\n        }\r\n        var b = n.value;\r\n        if (n.isSmall) {\r\n            if (isPrecise(a + b)) return new SmallInteger(a + b);\r\n            b = smallToArray(Math.abs(b));\r\n        }\r\n        return new BigInteger(addSmall(b, Math.abs(a)), a < 0);\r\n    };\r\n    SmallInteger.prototype.plus = SmallInteger.prototype.add;\r\n\r\n    function subtract(a, b) { // assumes a and b are arrays with a >= b\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            r = new Array(a_l),\r\n            borrow = 0,\r\n            base = BASE,\r\n            i, difference;\r\n        for (i = 0; i < b_l; i++) {\r\n            difference = a[i] - borrow - b[i];\r\n            if (difference < 0) {\r\n                difference += base;\r\n                borrow = 1;\r\n            } else borrow = 0;\r\n            r[i] = difference;\r\n        }\r\n        for (i = b_l; i < a_l; i++) {\r\n            difference = a[i] - borrow;\r\n            if (difference < 0) difference += base;\r\n            else {\r\n                r[i++] = difference;\r\n                break;\r\n            }\r\n            r[i] = difference;\r\n        }\r\n        for (; i < a_l; i++) {\r\n            r[i] = a[i];\r\n        }\r\n        trim(r);\r\n        return r;\r\n    }\r\n\r\n    function subtractAny(a, b, sign) {\r\n        var value;\r\n        if (compareAbs(a, b) >= 0) {\r\n            value = subtract(a, b);\r\n        } else {\r\n            value = subtract(b, a);\r\n            sign = !sign;\r\n        }\r\n        value = arrayToSmall(value);\r\n        if (typeof value === \"number\") {\r\n            if (sign) value = -value;\r\n            return new SmallInteger(value);\r\n        }\r\n        return new BigInteger(value, sign);\r\n    }\r\n\r\n    function subtractSmall(a, b, sign) { // assumes a is array, b is number with 0 <= b < MAX_INT\r\n        var l = a.length,\r\n            r = new Array(l),\r\n            carry = -b,\r\n            base = BASE,\r\n            i, difference;\r\n        for (i = 0; i < l; i++) {\r\n            difference = a[i] + carry;\r\n            carry = Math.floor(difference / base);\r\n            difference %= base;\r\n            r[i] = difference < 0 ? difference + base : difference;\r\n        }\r\n        r = arrayToSmall(r);\r\n        if (typeof r === \"number\") {\r\n            if (sign) r = -r;\r\n            return new SmallInteger(r);\r\n        } return new BigInteger(r, sign);\r\n    }\r\n\r\n    BigInteger.prototype.subtract = function (v) {\r\n        var n = parseValue(v);\r\n        if (this.sign !== n.sign) {\r\n            return this.add(n.negate());\r\n        }\r\n        var a = this.value, b = n.value;\r\n        if (n.isSmall)\r\n            return subtractSmall(a, Math.abs(b), this.sign);\r\n        return subtractAny(a, b, this.sign);\r\n    };\r\n    BigInteger.prototype.minus = BigInteger.prototype.subtract;\r\n\r\n    SmallInteger.prototype.subtract = function (v) {\r\n        var n = parseValue(v);\r\n        var a = this.value;\r\n        if (a < 0 !== n.sign) {\r\n            return this.add(n.negate());\r\n        }\r\n        var b = n.value;\r\n        if (n.isSmall) {\r\n            return new SmallInteger(a - b);\r\n        }\r\n        return subtractSmall(b, Math.abs(a), a >= 0);\r\n    };\r\n    SmallInteger.prototype.minus = SmallInteger.prototype.subtract;\r\n\r\n    BigInteger.prototype.negate = function () {\r\n        return new BigInteger(this.value, !this.sign);\r\n    };\r\n    SmallInteger.prototype.negate = function () {\r\n        var sign = this.sign;\r\n        var small = new SmallInteger(-this.value);\r\n        small.sign = !sign;\r\n        return small;\r\n    };\r\n\r\n    BigInteger.prototype.abs = function () {\r\n        return new BigInteger(this.value, false);\r\n    };\r\n    SmallInteger.prototype.abs = function () {\r\n        return new SmallInteger(Math.abs(this.value));\r\n    };\r\n\r\n    function multiplyLong(a, b) {\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            l = a_l + b_l,\r\n            r = createArray(l),\r\n            base = BASE,\r\n            product, carry, i, a_i, b_j;\r\n        for (i = 0; i < a_l; ++i) {\r\n            a_i = a[i];\r\n            for (var j = 0; j < b_l; ++j) {\r\n                b_j = b[j];\r\n                product = a_i * b_j + r[i + j];\r\n                carry = Math.floor(product / base);\r\n                r[i + j] = product - carry * base;\r\n                r[i + j + 1] += carry;\r\n            }\r\n        }\r\n        trim(r);\r\n        return r;\r\n    }\r\n\r\n    function multiplySmall(a, b) { // assumes a is array, b is number with |b| < BASE\r\n        var l = a.length,\r\n            r = new Array(l),\r\n            base = BASE,\r\n            carry = 0,\r\n            product, i;\r\n        for (i = 0; i < l; i++) {\r\n            product = a[i] * b + carry;\r\n            carry = Math.floor(product / base);\r\n            r[i] = product - carry * base;\r\n        }\r\n        while (carry > 0) {\r\n            r[i++] = carry % base;\r\n            carry = Math.floor(carry / base);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    function shiftLeft(x, n) {\r\n        var r = [];\r\n        while (n-- > 0) r.push(0);\r\n        return r.concat(x);\r\n    }\r\n\r\n    function multiplyKaratsuba(x, y) {\r\n        var n = Math.max(x.length, y.length);\r\n\r\n        if (n <= 30) return multiplyLong(x, y);\r\n        n = Math.ceil(n / 2);\r\n\r\n        var b = x.slice(n),\r\n            a = x.slice(0, n),\r\n            d = y.slice(n),\r\n            c = y.slice(0, n);\r\n\r\n        var ac = multiplyKaratsuba(a, c),\r\n            bd = multiplyKaratsuba(b, d),\r\n            abcd = multiplyKaratsuba(addAny(a, b), addAny(c, d));\r\n\r\n        var product = addAny(addAny(ac, shiftLeft(subtract(subtract(abcd, ac), bd), n)), shiftLeft(bd, 2 * n));\r\n        trim(product);\r\n        return product;\r\n    }\r\n\r\n    // The following function is derived from a surface fit of a graph plotting the performance difference\r\n    // between long multiplication and karatsuba multiplication versus the lengths of the two arrays.\r\n    function useKaratsuba(l1, l2) {\r\n        return -0.012 * l1 - 0.012 * l2 + 0.000015 * l1 * l2 > 0;\r\n    }\r\n\r\n    BigInteger.prototype.multiply = function (v) {\r\n        var n = parseValue(v),\r\n            a = this.value, b = n.value,\r\n            sign = this.sign !== n.sign,\r\n            abs;\r\n        if (n.isSmall) {\r\n            if (b === 0) return Integer[0];\r\n            if (b === 1) return this;\r\n            if (b === -1) return this.negate();\r\n            abs = Math.abs(b);\r\n            if (abs < BASE) {\r\n                return new BigInteger(multiplySmall(a, abs), sign);\r\n            }\r\n            b = smallToArray(abs);\r\n        }\r\n        if (useKaratsuba(a.length, b.length)) // Karatsuba is only faster for certain array sizes\r\n            return new BigInteger(multiplyKaratsuba(a, b), sign);\r\n        return new BigInteger(multiplyLong(a, b), sign);\r\n    };\r\n\r\n    BigInteger.prototype.times = BigInteger.prototype.multiply;\r\n\r\n    function multiplySmallAndArray(a, b, sign) { // a >= 0\r\n        if (a < BASE) {\r\n            return new BigInteger(multiplySmall(b, a), sign);\r\n        }\r\n        return new BigInteger(multiplyLong(b, smallToArray(a)), sign);\r\n    }\r\n    SmallInteger.prototype._multiplyBySmall = function (a) {\r\n        if (isPrecise(a.value * this.value)) {\r\n            return new SmallInteger(a.value * this.value);\r\n        }\r\n        return multiplySmallAndArray(Math.abs(a.value), smallToArray(Math.abs(this.value)), this.sign !== a.sign);\r\n    };\r\n    BigInteger.prototype._multiplyBySmall = function (a) {\r\n        if (a.value === 0) return Integer[0];\r\n        if (a.value === 1) return this;\r\n        if (a.value === -1) return this.negate();\r\n        return multiplySmallAndArray(Math.abs(a.value), this.value, this.sign !== a.sign);\r\n    };\r\n    SmallInteger.prototype.multiply = function (v) {\r\n        return parseValue(v)._multiplyBySmall(this);\r\n    };\r\n    SmallInteger.prototype.times = SmallInteger.prototype.multiply;\r\n\r\n    function square(a) {\r\n        //console.assert(2 * BASE * BASE < MAX_INT);\r\n        var l = a.length,\r\n            r = createArray(l + l),\r\n            base = BASE,\r\n            product, carry, i, a_i, a_j;\r\n        for (i = 0; i < l; i++) {\r\n            a_i = a[i];\r\n            carry = 0 - a_i * a_i;\r\n            for (var j = i; j < l; j++) {\r\n                a_j = a[j];\r\n                product = 2 * (a_i * a_j) + r[i + j] + carry;\r\n                carry = Math.floor(product / base);\r\n                r[i + j] = product - carry * base;\r\n            }\r\n            r[i + l] = carry;\r\n        }\r\n        trim(r);\r\n        return r;\r\n    }\r\n\r\n    BigInteger.prototype.square = function () {\r\n        return new BigInteger(square(this.value), false);\r\n    };\r\n\r\n    SmallInteger.prototype.square = function () {\r\n        var value = this.value * this.value;\r\n        if (isPrecise(value)) return new SmallInteger(value);\r\n        return new BigInteger(square(smallToArray(Math.abs(this.value))), false);\r\n    };\r\n\r\n    function divMod1(a, b) { // Left over from previous version. Performs faster than divMod2 on smaller input sizes.\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            base = BASE,\r\n            result = createArray(b.length),\r\n            divisorMostSignificantDigit = b[b_l - 1],\r\n            // normalization\r\n            lambda = Math.ceil(base / (2 * divisorMostSignificantDigit)),\r\n            remainder = multiplySmall(a, lambda),\r\n            divisor = multiplySmall(b, lambda),\r\n            quotientDigit, shift, carry, borrow, i, l, q;\r\n        if (remainder.length <= a_l) remainder.push(0);\r\n        divisor.push(0);\r\n        divisorMostSignificantDigit = divisor[b_l - 1];\r\n        for (shift = a_l - b_l; shift >= 0; shift--) {\r\n            quotientDigit = base - 1;\r\n            if (remainder[shift + b_l] !== divisorMostSignificantDigit) {\r\n                quotientDigit = Math.floor((remainder[shift + b_l] * base + remainder[shift + b_l - 1]) / divisorMostSignificantDigit);\r\n            }\r\n            // quotientDigit <= base - 1\r\n            carry = 0;\r\n            borrow = 0;\r\n            l = divisor.length;\r\n            for (i = 0; i < l; i++) {\r\n                carry += quotientDigit * divisor[i];\r\n                q = Math.floor(carry / base);\r\n                borrow += remainder[shift + i] - (carry - q * base);\r\n                carry = q;\r\n                if (borrow < 0) {\r\n                    remainder[shift + i] = borrow + base;\r\n                    borrow = -1;\r\n                } else {\r\n                    remainder[shift + i] = borrow;\r\n                    borrow = 0;\r\n                }\r\n            }\r\n            while (borrow !== 0) {\r\n                quotientDigit -= 1;\r\n                carry = 0;\r\n                for (i = 0; i < l; i++) {\r\n                    carry += remainder[shift + i] - base + divisor[i];\r\n                    if (carry < 0) {\r\n                        remainder[shift + i] = carry + base;\r\n                        carry = 0;\r\n                    } else {\r\n                        remainder[shift + i] = carry;\r\n                        carry = 1;\r\n                    }\r\n                }\r\n                borrow += carry;\r\n            }\r\n            result[shift] = quotientDigit;\r\n        }\r\n        // denormalization\r\n        remainder = divModSmall(remainder, lambda)[0];\r\n        return [arrayToSmall(result), arrayToSmall(remainder)];\r\n    }\r\n\r\n    function divMod2(a, b) { // Implementation idea shamelessly stolen from Silent Matt's library http://silentmatt.com/biginteger/\r\n        // Performs faster than divMod1 on larger input sizes.\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            result = [],\r\n            part = [],\r\n            base = BASE,\r\n            guess, xlen, highx, highy, check;\r\n        while (a_l) {\r\n            part.unshift(a[--a_l]);\r\n            trim(part);\r\n            if (compareAbs(part, b) < 0) {\r\n                result.push(0);\r\n                continue;\r\n            }\r\n            xlen = part.length;\r\n            highx = part[xlen - 1] * base + part[xlen - 2];\r\n            highy = b[b_l - 1] * base + b[b_l - 2];\r\n            if (xlen > b_l) {\r\n                highx = (highx + 1) * base;\r\n            }\r\n            guess = Math.ceil(highx / highy);\r\n            do {\r\n                check = multiplySmall(b, guess);\r\n                if (compareAbs(check, part) <= 0) break;\r\n                guess--;\r\n            } while (guess);\r\n            result.push(guess);\r\n            part = subtract(part, check);\r\n        }\r\n        result.reverse();\r\n        return [arrayToSmall(result), arrayToSmall(part)];\r\n    }\r\n\r\n    function divModSmall(value, lambda) {\r\n        var length = value.length,\r\n            quotient = createArray(length),\r\n            base = BASE,\r\n            i, q, remainder, divisor;\r\n        remainder = 0;\r\n        for (i = length - 1; i >= 0; --i) {\r\n            divisor = remainder * base + value[i];\r\n            q = truncate(divisor / lambda);\r\n            remainder = divisor - q * lambda;\r\n            quotient[i] = q | 0;\r\n        }\r\n        return [quotient, remainder | 0];\r\n    }\r\n\r\n    function divModAny(self, v) {\r\n        var value, n = parseValue(v);\r\n        var a = self.value, b = n.value;\r\n        var quotient;\r\n        if (b === 0) throw new Error(\"Cannot divide by zero\");\r\n        if (self.isSmall) {\r\n            if (n.isSmall) {\r\n                return [new SmallInteger(truncate(a / b)), new SmallInteger(a % b)];\r\n            }\r\n            return [Integer[0], self];\r\n        }\r\n        if (n.isSmall) {\r\n            if (b === 1) return [self, Integer[0]];\r\n            if (b == -1) return [self.negate(), Integer[0]];\r\n            var abs = Math.abs(b);\r\n            if (abs < BASE) {\r\n                value = divModSmall(a, abs);\r\n                quotient = arrayToSmall(value[0]);\r\n                var remainder = value[1];\r\n                if (self.sign) remainder = -remainder;\r\n                if (typeof quotient === \"number\") {\r\n                    if (self.sign !== n.sign) quotient = -quotient;\r\n                    return [new SmallInteger(quotient), new SmallInteger(remainder)];\r\n                }\r\n                return [new BigInteger(quotient, self.sign !== n.sign), new SmallInteger(remainder)];\r\n            }\r\n            b = smallToArray(abs);\r\n        }\r\n        var comparison = compareAbs(a, b);\r\n        if (comparison === -1) return [Integer[0], self];\r\n        if (comparison === 0) return [Integer[self.sign === n.sign ? 1 : -1], Integer[0]];\r\n\r\n        // divMod1 is faster on smaller input sizes\r\n        if (a.length + b.length <= 200)\r\n            value = divMod1(a, b);\r\n        else value = divMod2(a, b);\r\n\r\n        quotient = value[0];\r\n        var qSign = self.sign !== n.sign,\r\n            mod = value[1],\r\n            mSign = self.sign;\r\n        if (typeof quotient === \"number\") {\r\n            if (qSign) quotient = -quotient;\r\n            quotient = new SmallInteger(quotient);\r\n        } else quotient = new BigInteger(quotient, qSign);\r\n        if (typeof mod === \"number\") {\r\n            if (mSign) mod = -mod;\r\n            mod = new SmallInteger(mod);\r\n        } else mod = new BigInteger(mod, mSign);\r\n        return [quotient, mod];\r\n    }\r\n\r\n    BigInteger.prototype.divmod = function (v) {\r\n        var result = divModAny(this, v);\r\n        return {\r\n            quotient: result[0],\r\n            remainder: result[1]\r\n        };\r\n    };\r\n    SmallInteger.prototype.divmod = BigInteger.prototype.divmod;\r\n\r\n    BigInteger.prototype.divide = function (v) {\r\n        return divModAny(this, v)[0];\r\n    };\r\n    SmallInteger.prototype.over = SmallInteger.prototype.divide = BigInteger.prototype.over = BigInteger.prototype.divide;\r\n\r\n    BigInteger.prototype.mod = function (v) {\r\n        return divModAny(this, v)[1];\r\n    };\r\n    SmallInteger.prototype.remainder = SmallInteger.prototype.mod = BigInteger.prototype.remainder = BigInteger.prototype.mod;\r\n\r\n    BigInteger.prototype.pow = function (v) {\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value,\r\n            value, x, y;\r\n        if (b === 0) return Integer[1];\r\n        if (a === 0) return Integer[0];\r\n        if (a === 1) return Integer[1];\r\n        if (a === -1) return n.isEven() ? Integer[1] : Integer[-1];\r\n        if (n.sign) {\r\n            return Integer[0];\r\n        }\r\n        if (!n.isSmall) throw new Error(\"The exponent \" + n.toString() + \" is too large.\");\r\n        if (this.isSmall) {\r\n            if (isPrecise(value = Math.pow(a, b)))\r\n                return new SmallInteger(truncate(value));\r\n        }\r\n        x = this;\r\n        y = Integer[1];\r\n        while (true) {\r\n            if (b & 1 === 1) {\r\n                y = y.times(x);\r\n                --b;\r\n            }\r\n            if (b === 0) break;\r\n            b /= 2;\r\n            x = x.square();\r\n        }\r\n        return y;\r\n    };\r\n    SmallInteger.prototype.pow = BigInteger.prototype.pow;\r\n\r\n    BigInteger.prototype.modPow = function (exp, mod) {\r\n        exp = parseValue(exp);\r\n        mod = parseValue(mod);\r\n        if (mod.isZero()) throw new Error(\"Cannot take modPow with modulus 0\");\r\n        var r = Integer[1],\r\n            base = this.mod(mod);\r\n        while (exp.isPositive()) {\r\n            if (base.isZero()) return Integer[0];\r\n            if (exp.isOdd()) r = r.multiply(base).mod(mod);\r\n            exp = exp.divide(2);\r\n            base = base.square().mod(mod);\r\n        }\r\n        return r;\r\n    };\r\n    SmallInteger.prototype.modPow = BigInteger.prototype.modPow;\r\n\r\n    function compareAbs(a, b) {\r\n        if (a.length !== b.length) {\r\n            return a.length > b.length ? 1 : -1;\r\n        }\r\n        for (var i = a.length - 1; i >= 0; i--) {\r\n            if (a[i] !== b[i]) return a[i] > b[i] ? 1 : -1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    BigInteger.prototype.compareAbs = function (v) {\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value;\r\n        if (n.isSmall) return 1;\r\n        return compareAbs(a, b);\r\n    };\r\n    SmallInteger.prototype.compareAbs = function (v) {\r\n        var n = parseValue(v),\r\n            a = Math.abs(this.value),\r\n            b = n.value;\r\n        if (n.isSmall) {\r\n            b = Math.abs(b);\r\n            return a === b ? 0 : a > b ? 1 : -1;\r\n        }\r\n        return -1;\r\n    };\r\n\r\n    BigInteger.prototype.compare = function (v) {\r\n        // See discussion about comparison with Infinity:\r\n        // https://github.com/peterolson/BigInteger.js/issues/61\r\n        if (v === Infinity) {\r\n            return -1;\r\n        }\r\n        if (v === -Infinity) {\r\n            return 1;\r\n        }\r\n\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value;\r\n        if (this.sign !== n.sign) {\r\n            return n.sign ? 1 : -1;\r\n        }\r\n        if (n.isSmall) {\r\n            return this.sign ? -1 : 1;\r\n        }\r\n        return compareAbs(a, b) * (this.sign ? -1 : 1);\r\n    };\r\n    BigInteger.prototype.compareTo = BigInteger.prototype.compare;\r\n\r\n    SmallInteger.prototype.compare = function (v) {\r\n        if (v === Infinity) {\r\n            return -1;\r\n        }\r\n        if (v === -Infinity) {\r\n            return 1;\r\n        }\r\n\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value;\r\n        if (n.isSmall) {\r\n            return a == b ? 0 : a > b ? 1 : -1;\r\n        }\r\n        if (a < 0 !== n.sign) {\r\n            return a < 0 ? -1 : 1;\r\n        }\r\n        return a < 0 ? 1 : -1;\r\n    };\r\n    SmallInteger.prototype.compareTo = SmallInteger.prototype.compare;\r\n\r\n    BigInteger.prototype.equals = function (v) {\r\n        return this.compare(v) === 0;\r\n    };\r\n    SmallInteger.prototype.eq = SmallInteger.prototype.equals = BigInteger.prototype.eq = BigInteger.prototype.equals;\r\n\r\n    BigInteger.prototype.notEquals = function (v) {\r\n        return this.compare(v) !== 0;\r\n    };\r\n    SmallInteger.prototype.neq = SmallInteger.prototype.notEquals = BigInteger.prototype.neq = BigInteger.prototype.notEquals;\r\n\r\n    BigInteger.prototype.greater = function (v) {\r\n        return this.compare(v) > 0;\r\n    };\r\n    SmallInteger.prototype.gt = SmallInteger.prototype.greater = BigInteger.prototype.gt = BigInteger.prototype.greater;\r\n\r\n    BigInteger.prototype.lesser = function (v) {\r\n        return this.compare(v) < 0;\r\n    };\r\n    SmallInteger.prototype.lt = SmallInteger.prototype.lesser = BigInteger.prototype.lt = BigInteger.prototype.lesser;\r\n\r\n    BigInteger.prototype.greaterOrEquals = function (v) {\r\n        return this.compare(v) >= 0;\r\n    };\r\n    SmallInteger.prototype.geq = SmallInteger.prototype.greaterOrEquals = BigInteger.prototype.geq = BigInteger.prototype.greaterOrEquals;\r\n\r\n    BigInteger.prototype.lesserOrEquals = function (v) {\r\n        return this.compare(v) <= 0;\r\n    };\r\n    SmallInteger.prototype.leq = SmallInteger.prototype.lesserOrEquals = BigInteger.prototype.leq = BigInteger.prototype.lesserOrEquals;\r\n\r\n    BigInteger.prototype.isEven = function () {\r\n        return (this.value[0] & 1) === 0;\r\n    };\r\n    SmallInteger.prototype.isEven = function () {\r\n        return (this.value & 1) === 0;\r\n    };\r\n\r\n    BigInteger.prototype.isOdd = function () {\r\n        return (this.value[0] & 1) === 1;\r\n    };\r\n    SmallInteger.prototype.isOdd = function () {\r\n        return (this.value & 1) === 1;\r\n    };\r\n\r\n    BigInteger.prototype.isPositive = function () {\r\n        return !this.sign;\r\n    };\r\n    SmallInteger.prototype.isPositive = function () {\r\n        return this.value > 0;\r\n    };\r\n\r\n    BigInteger.prototype.isNegative = function () {\r\n        return this.sign;\r\n    };\r\n    SmallInteger.prototype.isNegative = function () {\r\n        return this.value < 0;\r\n    };\r\n\r\n    BigInteger.prototype.isUnit = function () {\r\n        return false;\r\n    };\r\n    SmallInteger.prototype.isUnit = function () {\r\n        return Math.abs(this.value) === 1;\r\n    };\r\n\r\n    BigInteger.prototype.isZero = function () {\r\n        return false;\r\n    };\r\n    SmallInteger.prototype.isZero = function () {\r\n        return this.value === 0;\r\n    };\r\n    BigInteger.prototype.isDivisibleBy = function (v) {\r\n        var n = parseValue(v);\r\n        var value = n.value;\r\n        if (value === 0) return false;\r\n        if (value === 1) return true;\r\n        if (value === 2) return this.isEven();\r\n        return this.mod(n).equals(Integer[0]);\r\n    };\r\n    SmallInteger.prototype.isDivisibleBy = BigInteger.prototype.isDivisibleBy;\r\n\r\n    function isBasicPrime(v) {\r\n        var n = v.abs();\r\n        if (n.isUnit()) return false;\r\n        if (n.equals(2) || n.equals(3) || n.equals(5)) return true;\r\n        if (n.isEven() || n.isDivisibleBy(3) || n.isDivisibleBy(5)) return false;\r\n        if (n.lesser(49)) return true;\r\n        // we don't know if it's prime: let the other functions figure it out\r\n    }\r\n    \r\n    function millerRabinTest(n, a) {\r\n        var nPrev = n.prev(),\r\n            b = nPrev,\r\n            r = 0,\r\n            d, t, i, x;\r\n        while (b.isEven()) b = b.divide(2), r++;\r\n        next : for (i = 0; i < a.length; i++) {\r\n            if (n.lesser(a[i])) continue;\r\n            x = bigInt(a[i]).modPow(b, n);\r\n            if (x.equals(Integer[1]) || x.equals(nPrev)) continue;\r\n            for (d = r - 1; d != 0; d--) {\r\n                x = x.square().mod(n);\r\n                if (x.isUnit()) return false;    \r\n                if (x.equals(nPrev)) continue next;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    \r\n// Set \"strict\" to true to force GRH-supported lower bound of 2*log(N)^2\r\n    BigInteger.prototype.isPrime = function (strict) {\r\n        var isPrime = isBasicPrime(this);\r\n        if (isPrime !== undefined) return isPrime;\r\n        var n = this.abs();\r\n        var bits = n.bitLength();\r\n        if(bits <= 64)\r\n            return millerRabinTest(n, [2, 325, 9375, 28178, 450775, 9780504, 1795265022]);\r\n        var logN = Math.log(2) * bits;\r\n        var t = Math.ceil((strict === true) ? (2 * Math.pow(logN, 2)) : logN);\r\n        for (var a = [], i = 0; i < t; i++) {\r\n            a.push(bigInt(i + 2));\r\n        }\r\n        return millerRabinTest(n, a);\r\n    };\r\n    SmallInteger.prototype.isPrime = BigInteger.prototype.isPrime;\r\n\r\n    BigInteger.prototype.isProbablePrime = function (iterations) {\r\n        var isPrime = isBasicPrime(this);\r\n        if (isPrime !== undefined) return isPrime;\r\n        var n = this.abs();\r\n        var t = iterations === undefined ? 5 : iterations;\r\n        for (var a = [], i = 0; i < t; i++) {\r\n            a.push(bigInt.randBetween(2, n.minus(2)));\r\n        }\r\n        return millerRabinTest(n, a);\r\n    };\r\n    SmallInteger.prototype.isProbablePrime = BigInteger.prototype.isProbablePrime;\r\n\r\n    BigInteger.prototype.modInv = function (n) {\r\n        var t = bigInt.zero, newT = bigInt.one, r = parseValue(n), newR = this.abs(), q, lastT, lastR;\r\n        while (!newR.equals(bigInt.zero)) {\r\n            q = r.divide(newR);\r\n            lastT = t;\r\n            lastR = r;\r\n            t = newT;\r\n            r = newR;\r\n            newT = lastT.subtract(q.multiply(newT));\r\n            newR = lastR.subtract(q.multiply(newR));\r\n        }\r\n        if (!r.equals(1)) throw new Error(this.toString() + \" and \" + n.toString() + \" are not co-prime\");\r\n        if (t.compare(0) === -1) {\r\n            t = t.add(n);\r\n        }\r\n        if (this.isNegative()) {\r\n            return t.negate();\r\n        }\r\n        return t;\r\n    };\r\n\r\n    SmallInteger.prototype.modInv = BigInteger.prototype.modInv;\r\n\r\n    BigInteger.prototype.next = function () {\r\n        var value = this.value;\r\n        if (this.sign) {\r\n            return subtractSmall(value, 1, this.sign);\r\n        }\r\n        return new BigInteger(addSmall(value, 1), this.sign);\r\n    };\r\n    SmallInteger.prototype.next = function () {\r\n        var value = this.value;\r\n        if (value + 1 < MAX_INT) return new SmallInteger(value + 1);\r\n        return new BigInteger(MAX_INT_ARR, false);\r\n    };\r\n\r\n    BigInteger.prototype.prev = function () {\r\n        var value = this.value;\r\n        if (this.sign) {\r\n            return new BigInteger(addSmall(value, 1), true);\r\n        }\r\n        return subtractSmall(value, 1, this.sign);\r\n    };\r\n    SmallInteger.prototype.prev = function () {\r\n        var value = this.value;\r\n        if (value - 1 > -MAX_INT) return new SmallInteger(value - 1);\r\n        return new BigInteger(MAX_INT_ARR, true);\r\n    };\r\n\r\n    var powersOfTwo = [1];\r\n    while (2 * powersOfTwo[powersOfTwo.length - 1] <= BASE) powersOfTwo.push(2 * powersOfTwo[powersOfTwo.length - 1]);\r\n    var powers2Length = powersOfTwo.length, highestPower2 = powersOfTwo[powers2Length - 1];\r\n\r\n    function shift_isSmall(n) {\r\n        return ((typeof n === \"number\" || typeof n === \"string\") && +Math.abs(n) <= BASE) ||\r\n            (n instanceof BigInteger && n.value.length <= 1);\r\n    }\r\n\r\n    BigInteger.prototype.shiftLeft = function (n) {\r\n        if (!shift_isSmall(n)) {\r\n            throw new Error(String(n) + \" is too large for shifting.\");\r\n        }\r\n        n = +n;\r\n        if (n < 0) return this.shiftRight(-n);\r\n        var result = this;\r\n        if (result.isZero()) return result;\r\n        while (n >= powers2Length) {\r\n            result = result.multiply(highestPower2);\r\n            n -= powers2Length - 1;\r\n        }\r\n        return result.multiply(powersOfTwo[n]);\r\n    };\r\n    SmallInteger.prototype.shiftLeft = BigInteger.prototype.shiftLeft;\r\n\r\n    BigInteger.prototype.shiftRight = function (n) {\r\n        var remQuo;\r\n        if (!shift_isSmall(n)) {\r\n            throw new Error(String(n) + \" is too large for shifting.\");\r\n        }\r\n        n = +n;\r\n        if (n < 0) return this.shiftLeft(-n);\r\n        var result = this;\r\n        while (n >= powers2Length) {\r\n            if (result.isZero() || (result.isNegative() && result.isUnit())) return result;\r\n            remQuo = divModAny(result, highestPower2);\r\n            result = remQuo[1].isNegative() ? remQuo[0].prev() : remQuo[0];\r\n            n -= powers2Length - 1;\r\n        }\r\n        remQuo = divModAny(result, powersOfTwo[n]);\r\n        return remQuo[1].isNegative() ? remQuo[0].prev() : remQuo[0];\r\n    };\r\n    SmallInteger.prototype.shiftRight = BigInteger.prototype.shiftRight;\r\n\r\n    function bitwise(x, y, fn) {\r\n        y = parseValue(y);\r\n        var xSign = x.isNegative(), ySign = y.isNegative();\r\n        var xRem = xSign ? x.not() : x,\r\n            yRem = ySign ? y.not() : y;\r\n        var xDigit = 0, yDigit = 0;\r\n        var xDivMod = null, yDivMod = null;\r\n        var result = [];\r\n        while (!xRem.isZero() || !yRem.isZero()) {\r\n            xDivMod = divModAny(xRem, highestPower2);\r\n            xDigit = xDivMod[1].toJSNumber();\r\n            if (xSign) {\r\n                xDigit = highestPower2 - 1 - xDigit; // two's complement for negative numbers\r\n            }\r\n\r\n            yDivMod = divModAny(yRem, highestPower2);\r\n            yDigit = yDivMod[1].toJSNumber();\r\n            if (ySign) {\r\n                yDigit = highestPower2 - 1 - yDigit; // two's complement for negative numbers\r\n            }\r\n\r\n            xRem = xDivMod[0];\r\n            yRem = yDivMod[0];\r\n            result.push(fn(xDigit, yDigit));\r\n        }\r\n        var sum = fn(xSign ? 1 : 0, ySign ? 1 : 0) !== 0 ? bigInt(-1) : bigInt(0);\r\n        for (var i = result.length - 1; i >= 0; i -= 1) {\r\n            sum = sum.multiply(highestPower2).add(bigInt(result[i]));\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    BigInteger.prototype.not = function () {\r\n        return this.negate().prev();\r\n    };\r\n    SmallInteger.prototype.not = BigInteger.prototype.not;\r\n\r\n    BigInteger.prototype.and = function (n) {\r\n        return bitwise(this, n, function (a, b) { return a & b; });\r\n    };\r\n    SmallInteger.prototype.and = BigInteger.prototype.and;\r\n\r\n    BigInteger.prototype.or = function (n) {\r\n        return bitwise(this, n, function (a, b) { return a | b; });\r\n    };\r\n    SmallInteger.prototype.or = BigInteger.prototype.or;\r\n\r\n    BigInteger.prototype.xor = function (n) {\r\n        return bitwise(this, n, function (a, b) { return a ^ b; });\r\n    };\r\n    SmallInteger.prototype.xor = BigInteger.prototype.xor;\r\n\r\n    var LOBMASK_I = 1 << 30, LOBMASK_BI = (BASE & -BASE) * (BASE & -BASE) | LOBMASK_I;\r\n    function roughLOB(n) { // get lowestOneBit (rough)\r\n        // SmallInteger: return Min(lowestOneBit(n), 1 << 30)\r\n        // BigInteger: return Min(lowestOneBit(n), 1 << 14) [BASE=1e7]\r\n        var v = n.value, x = typeof v === \"number\" ? v | LOBMASK_I : v[0] + v[1] * BASE | LOBMASK_BI;\r\n        return x & -x;\r\n    }\r\n\r\n    function integerLogarithm(value, base) {\r\n        if (base.compareTo(value) <= 0) {\r\n            var tmp = integerLogarithm(value, base.square(base));\r\n            var p = tmp.p;\r\n            var e = tmp.e;\r\n            var t = p.multiply(base);\r\n            return t.compareTo(value) <= 0 ? { p: t, e: e * 2 + 1 } : { p: p, e: e * 2 };\r\n        }\r\n        return { p: bigInt(1), e: 0 };\r\n    }\r\n\r\n    BigInteger.prototype.bitLength = function () {\r\n        var n = this;\r\n        if (n.compareTo(bigInt(0)) < 0) {\r\n            n = n.negate().subtract(bigInt(1));\r\n        }\r\n        if (n.compareTo(bigInt(0)) === 0) {\r\n            return bigInt(0);\r\n        }\r\n        return bigInt(integerLogarithm(n, bigInt(2)).e).add(bigInt(1));\r\n    }\r\n    SmallInteger.prototype.bitLength = BigInteger.prototype.bitLength;\r\n\r\n    function max(a, b) {\r\n        a = parseValue(a);\r\n        b = parseValue(b);\r\n        return a.greater(b) ? a : b;\r\n    }\r\n    function min(a, b) {\r\n        a = parseValue(a);\r\n        b = parseValue(b);\r\n        return a.lesser(b) ? a : b;\r\n    }\r\n    function gcd(a, b) {\r\n        a = parseValue(a).abs();\r\n        b = parseValue(b).abs();\r\n        if (a.equals(b)) return a;\r\n        if (a.isZero()) return b;\r\n        if (b.isZero()) return a;\r\n        var c = Integer[1], d, t;\r\n        while (a.isEven() && b.isEven()) {\r\n            d = Math.min(roughLOB(a), roughLOB(b));\r\n            a = a.divide(d);\r\n            b = b.divide(d);\r\n            c = c.multiply(d);\r\n        }\r\n        while (a.isEven()) {\r\n            a = a.divide(roughLOB(a));\r\n        }\r\n        do {\r\n            while (b.isEven()) {\r\n                b = b.divide(roughLOB(b));\r\n            }\r\n            if (a.greater(b)) {\r\n                t = b; b = a; a = t;\r\n            }\r\n            b = b.subtract(a);\r\n        } while (!b.isZero());\r\n        return c.isUnit() ? a : a.multiply(c);\r\n    }\r\n    function lcm(a, b) {\r\n        a = parseValue(a).abs();\r\n        b = parseValue(b).abs();\r\n        return a.divide(gcd(a, b)).multiply(b);\r\n    }\r\n    function randBetween(a, b) {\r\n        a = parseValue(a);\r\n        b = parseValue(b);\r\n        var low = min(a, b), high = max(a, b);\r\n        var range = high.subtract(low).add(1);\r\n        if (range.isSmall) return low.add(Math.floor(Math.random() * range));\r\n        var length = range.value.length - 1;\r\n        var result = [], restricted = true;\r\n        for (var i = length; i >= 0; i--) {\r\n            var top = restricted ? range.value[i] : BASE;\r\n            var digit = truncate(Math.random() * top);\r\n            result.unshift(digit);\r\n            if (digit < top) restricted = false;\r\n        }\r\n        result = arrayToSmall(result);\r\n        return low.add(typeof result === \"number\" ? new SmallInteger(result) : new BigInteger(result, false));\r\n    }\r\n    var parseBase = function (text, base) {\r\n        var length = text.length;\r\n        var i;\r\n        var absBase = Math.abs(base);\r\n        for (var i = 0; i < length; i++) {\r\n            var c = text[i].toLowerCase();\r\n            if (c === \"-\") continue;\r\n            if (/[a-z0-9]/.test(c)) {\r\n                if (/[0-9]/.test(c) && +c >= absBase) {\r\n                    if (c === \"1\" && absBase === 1) continue;\r\n                    throw new Error(c + \" is not a valid digit in base \" + base + \".\");\r\n                } else if (c.charCodeAt(0) - 87 >= absBase) {\r\n                    throw new Error(c + \" is not a valid digit in base \" + base + \".\");\r\n                }\r\n            }\r\n        }\r\n        if (2 <= base && base <= 36) {\r\n            if (length <= LOG_MAX_INT / Math.log(base)) {\r\n                var result = parseInt(text, base);\r\n                if (isNaN(result)) {\r\n                    throw new Error(c + \" is not a valid digit in base \" + base + \".\");\r\n                }\r\n                return new SmallInteger(parseInt(text, base));\r\n            }\r\n        }\r\n        base = parseValue(base);\r\n        var digits = [];\r\n        var isNegative = text[0] === \"-\";\r\n        for (i = isNegative ? 1 : 0; i < text.length; i++) {\r\n            var c = text[i].toLowerCase(),\r\n                charCode = c.charCodeAt(0);\r\n            if (48 <= charCode && charCode <= 57) digits.push(parseValue(c));\r\n            else if (97 <= charCode && charCode <= 122) digits.push(parseValue(c.charCodeAt(0) - 87));\r\n            else if (c === \"<\") {\r\n                var start = i;\r\n                do { i++; } while (text[i] !== \">\");\r\n                digits.push(parseValue(text.slice(start + 1, i)));\r\n            }\r\n            else throw new Error(c + \" is not a valid character\");\r\n        }\r\n        return parseBaseFromArray(digits, base, isNegative);\r\n    };\r\n\r\n    function parseBaseFromArray(digits, base, isNegative) {\r\n        var val = Integer[0], pow = Integer[1], i;\r\n        for (i = digits.length - 1; i >= 0; i--) {\r\n            val = val.add(digits[i].times(pow));\r\n            pow = pow.times(base);\r\n        }\r\n        return isNegative ? val.negate() : val;\r\n    }\r\n\r\n    function stringify(digit) {\r\n        if (digit <= 35) {\r\n            return \"0123456789abcdefghijklmnopqrstuvwxyz\".charAt(digit);\r\n        }\r\n        return \"<\" + digit + \">\";\r\n    }\r\n\r\n    function toBase(n, base) {\r\n        base = bigInt(base);\r\n        if (base.isZero()) {\r\n            if (n.isZero()) return { value: [0], isNegative: false };\r\n            throw new Error(\"Cannot convert nonzero numbers to base 0.\");\r\n        }\r\n        if (base.equals(-1)) {\r\n            if (n.isZero()) return { value: [0], isNegative: false };\r\n            if (n.isNegative())\r\n                return {\r\n                    value: [].concat.apply([], Array.apply(null, Array(-n))\r\n                        .map(Array.prototype.valueOf, [1, 0])\r\n                    ),\r\n                    isNegative: false\r\n                };\r\n\r\n            var arr = Array.apply(null, Array(+n - 1))\r\n                .map(Array.prototype.valueOf, [0, 1]);\r\n            arr.unshift([1]);\r\n            return {\r\n                value: [].concat.apply([], arr),\r\n                isNegative: false\r\n            };\r\n        }\r\n\r\n        var neg = false;\r\n        if (n.isNegative() && base.isPositive()) {\r\n            neg = true;\r\n            n = n.abs();\r\n        }\r\n        if (base.equals(1)) {\r\n            if (n.isZero()) return { value: [0], isNegative: false };\r\n\r\n            return {\r\n                value: Array.apply(null, Array(+n))\r\n                    .map(Number.prototype.valueOf, 1),\r\n                isNegative: neg\r\n            };\r\n        }\r\n        var out = [];\r\n        var left = n, divmod;\r\n        while (left.isNegative() || left.compareAbs(base) >= 0) {\r\n            divmod = left.divmod(base);\r\n            left = divmod.quotient;\r\n            var digit = divmod.remainder;\r\n            if (digit.isNegative()) {\r\n                digit = base.minus(digit).abs();\r\n                left = left.next();\r\n            }\r\n            out.push(digit.toJSNumber());\r\n        }\r\n        out.push(left.toJSNumber());\r\n        return { value: out.reverse(), isNegative: neg };\r\n    }\r\n\r\n    function toBaseString(n, base) {\r\n        var arr = toBase(n, base);\r\n        return (arr.isNegative ? \"-\" : \"\") + arr.value.map(stringify).join('');\r\n    }\r\n\r\n    BigInteger.prototype.toArray = function (radix) {\r\n        return toBase(this, radix);\r\n    };\r\n\r\n    SmallInteger.prototype.toArray = function (radix) {\r\n        return toBase(this, radix);\r\n    };\r\n\r\n    BigInteger.prototype.toString = function (radix) {\r\n        if (radix === undefined) radix = 10;\r\n        if (radix !== 10) return toBaseString(this, radix);\r\n        var v = this.value, l = v.length, str = String(v[--l]), zeros = \"0000000\", digit;\r\n        while (--l >= 0) {\r\n            digit = String(v[l]);\r\n            str += zeros.slice(digit.length) + digit;\r\n        }\r\n        var sign = this.sign ? \"-\" : \"\";\r\n        return sign + str;\r\n    };\r\n\r\n    SmallInteger.prototype.toString = function (radix) {\r\n        if (radix === undefined) radix = 10;\r\n        if (radix != 10) return toBaseString(this, radix);\r\n        return String(this.value);\r\n    };\r\n    BigInteger.prototype.toJSON = SmallInteger.prototype.toJSON = function () { return this.toString(); }\r\n\r\n    BigInteger.prototype.valueOf = function () {\r\n        return parseInt(this.toString(), 10);\r\n    };\r\n    BigInteger.prototype.toJSNumber = BigInteger.prototype.valueOf;\r\n\r\n    SmallInteger.prototype.valueOf = function () {\r\n        return this.value;\r\n    };\r\n    SmallInteger.prototype.toJSNumber = SmallInteger.prototype.valueOf;\r\n\r\n    function parseStringValue(v) {\r\n        if (isPrecise(+v)) {\r\n            var x = +v;\r\n            if (x === truncate(x))\r\n                return new SmallInteger(x);\r\n            throw new Error(\"Invalid integer: \" + v);\r\n        }\r\n        var sign = v[0] === \"-\";\r\n        if (sign) v = v.slice(1);\r\n        var split = v.split(/e/i);\r\n        if (split.length > 2) throw new Error(\"Invalid integer: \" + split.join(\"e\"));\r\n        if (split.length === 2) {\r\n            var exp = split[1];\r\n            if (exp[0] === \"+\") exp = exp.slice(1);\r\n            exp = +exp;\r\n            if (exp !== truncate(exp) || !isPrecise(exp)) throw new Error(\"Invalid integer: \" + exp + \" is not a valid exponent.\");\r\n            var text = split[0];\r\n            var decimalPlace = text.indexOf(\".\");\r\n            if (decimalPlace >= 0) {\r\n                exp -= text.length - decimalPlace - 1;\r\n                text = text.slice(0, decimalPlace) + text.slice(decimalPlace + 1);\r\n            }\r\n            if (exp < 0) throw new Error(\"Cannot include negative exponent part for integers\");\r\n            text += (new Array(exp + 1)).join(\"0\");\r\n            v = text;\r\n        }\r\n        var isValid = /^([0-9][0-9]*)$/.test(v);\r\n        if (!isValid) throw new Error(\"Invalid integer: \" + v);\r\n        var r = [], max = v.length, l = LOG_BASE, min = max - l;\r\n        while (max > 0) {\r\n            r.push(+v.slice(min, max));\r\n            min -= l;\r\n            if (min < 0) min = 0;\r\n            max -= l;\r\n        }\r\n        trim(r);\r\n        return new BigInteger(r, sign);\r\n    }\r\n\r\n    function parseNumberValue(v) {\r\n        if (isPrecise(v)) {\r\n            if (v !== truncate(v)) throw new Error(v + \" is not an integer.\");\r\n            return new SmallInteger(v);\r\n        }\r\n        return parseStringValue(v.toString());\r\n    }\r\n\r\n    function parseValue(v) {\r\n        if (typeof v === \"number\") {\r\n            return parseNumberValue(v);\r\n        }\r\n        if (typeof v === \"string\") {\r\n            return parseStringValue(v);\r\n        }\r\n        return v;\r\n    }\r\n    // Pre-define numbers in range [-999,999]\r\n    for (var i = 0; i < 1000; i++) {\r\n        Integer[i] = new SmallInteger(i);\r\n        if (i > 0) Integer[-i] = new SmallInteger(-i);\r\n    }\r\n    // Backwards compatibility\r\n    Integer.one = Integer[1];\r\n    Integer.zero = Integer[0];\r\n    Integer.minusOne = Integer[-1];\r\n    Integer.max = max;\r\n    Integer.min = min;\r\n    Integer.gcd = gcd;\r\n    Integer.lcm = lcm;\r\n    Integer.isInstance = function (x) { return x instanceof BigInteger || x instanceof SmallInteger; };\r\n    Integer.randBetween = randBetween;\r\n\r\n    Integer.fromArray = function (digits, base, isNegative) {\r\n        return parseBaseFromArray(digits.map(parseValue), parseValue(base || 10), isNegative);\r\n    };\r\n\r\n    return Integer;\r\n})();\r\n\r\n// Node.js check\r\nif (typeof module !== \"undefined\" && module.hasOwnProperty(\"exports\")) {\r\n    module.exports = bigInt;\r\n}\r\n\r\n//amd check\r\nif (typeof define === \"function\" && define.amd) {\r\n    define(\"big-integer\", [], function () {\r\n        return bigInt;\r\n    });\r\n}\r\n","/**\n * @license\n * https://github.com/ealmansi/cashaddrjs\n * Copyright (c) 2017-2020 Emilio Almansi\n * Distributed under the MIT software license, see the accompanying\n * file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n */\n\n'use strict';\n\nvar validate = require('./validation').validate;\n\n/**\n * Base32 encoding and decoding.\n *\n * @module base32\n */\n\n/**\n * Charset containing the 32 symbols used in the base32 encoding.\n * @private\n */\nvar CHARSET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\n\n/**\n * Inverted index mapping each symbol into its index within the charset.\n * @private\n */\nvar CHARSET_INVERSE_INDEX = {\n  'q': 0, 'p': 1, 'z': 2, 'r': 3, 'y': 4, '9': 5, 'x': 6, '8': 7,\n  'g': 8, 'f': 9, '2': 10, 't': 11, 'v': 12, 'd': 13, 'w': 14, '0': 15,\n  's': 16, '3': 17, 'j': 18, 'n': 19, '5': 20, '4': 21, 'k': 22, 'h': 23,\n  'c': 24, 'e': 25, '6': 26, 'm': 27, 'u': 28, 'a': 29, '7': 30, 'l': 31,\n};\n\n/**\n * Encodes the given array of 5-bit integers as a base32-encoded string.\n *\n * @static\n * @param {Uint8Array} data Array of integers between 0 and 31 inclusive.\n * @returns {string}\n * @throws {ValidationError}\n */\nfunction encode(data) {\n  validate(data instanceof Uint8Array, 'Invalid data: ' + data + '.');\n  var base32 = '';\n  for (var i = 0; i < data.length; ++i) {\n    var value = data[i];\n    validate(0 <= value && value < 32, 'Invalid value: ' + value + '.');\n    base32 += CHARSET[value];\n  }\n  return base32;\n}\n\n/**\n * Decodes the given base32-encoded string into an array of 5-bit integers.\n *\n * @static\n * @param {string} string\n * @returns {Uint8Array}\n * @throws {ValidationError}\n */\nfunction decode(string) {\n  validate(typeof string === 'string', 'Invalid base32-encoded string: ' + string + '.');\n  var data = new Uint8Array(string.length);\n  for (var i = 0; i < string.length; ++i) {\n    var value = string[i];\n    validate(value in CHARSET_INVERSE_INDEX, 'Invalid value: ' + value + '.');\n    data[i] = CHARSET_INVERSE_INDEX[value];\n  }\n  return data;\n}\n\nmodule.exports = {\n  encode: encode,\n  decode: decode,\n};\n","/**\n * @license\n * https://github.com/ealmansi/cashaddrjs\n * Copyright (c) 2017-2020 Emilio Almansi\n * Distributed under the MIT software license, see the accompanying\n * file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n */\n\n'use strict';\n\nvar base32 = require('./base32');\nvar bigInt = require('big-integer');\nvar convertBits = require('./convertBits');\nvar validation = require('./validation');\nvar validate = validation.validate;\n\n/**\n * Encoding and decoding of the new Cash Address format for Bitcoin Cash. <br />\n * Compliant with the original cashaddr specification:\n * {@link https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/cashaddr.md}\n * @module cashaddr\n */\n\n/**\n * Encodes a hash from a given type into a Bitcoin Cash address with the given prefix.\n * \n * @static\n * @param {string} prefix Network prefix. E.g.: 'bitcoincash'.\n * @param {string} type Type of address to generate. Either 'P2PKH' or 'P2SH'.\n * @param {Uint8Array} hash Hash to encode represented as an array of 8-bit integers.\n * @returns {string}\n * @throws {ValidationError}\n */\nfunction encode(prefix, type, hash) {\n  validate(typeof prefix === 'string' && isValidPrefix(prefix), 'Invalid prefix: ' + prefix + '.');\n  validate(typeof type === 'string', 'Invalid type: ' + type + '.');\n  validate(hash instanceof Uint8Array, 'Invalid hash: ' + hash + '.');\n  var prefixData = concat(prefixToUint5Array(prefix), new Uint8Array(1));\n  var versionByte = getTypeBits(type) + getHashSizeBits(hash);\n  var payloadData = toUint5Array(concat(new Uint8Array([versionByte]), hash));\n  var checksumData = concat(concat(prefixData, payloadData), new Uint8Array(8));\n  var payload = concat(payloadData, checksumToUint5Array(polymod(checksumData)));\n  return prefix + ':' + base32.encode(payload);\n}\n\n/**\n * Decodes the given address into its constituting prefix, type and hash. See [#encode()]{@link encode}.\n * \n * @static\n * @param {string} address Address to decode. E.g.: 'bitcoincash:qpm2qsznhks23z7629mms6s4cwef74vcwvy22gdx6a'.\n * @returns {object}\n * @throws {ValidationError}\n */\nfunction decode(address) {\n  validate(typeof address === 'string' && hasSingleCase(address), 'Invalid address: ' + address + '.');\n  var pieces = address.toLowerCase().split(':');\n  validate(pieces.length === 2, 'Missing prefix: ' + address + '.');\n  var prefix = pieces[0];\n  var payload = base32.decode(pieces[1]);\n  validate(validChecksum(prefix, payload), 'Invalid checksum: ' + address + '.');\n  var payloadData = fromUint5Array(payload.subarray(0, -8));\n  var versionByte = payloadData[0];\n  var hash = payloadData.subarray(1);\n  validate(getHashSize(versionByte) === hash.length * 8, 'Invalid hash size: ' + address + '.');\n  var type = getType(versionByte);\n  return {\n    prefix: prefix,\n    type: type,\n    hash: hash,\n  };\n}\n\n/**\n * Error thrown when encoding or decoding fail due to invalid input.\n *\n * @constructor ValidationError\n * @param {string} message Error description.\n */\nvar ValidationError = validation.ValidationError;\n\n/**\n * Valid address prefixes.\n *\n * @private\n */\nvar VALID_PREFIXES = ['bitcoincash', 'bchtest', 'bchreg'];\n\n/**\n * Checks whether a string is a valid prefix; ie., it has a single letter case\n * and is one of 'bitcoincash', 'bchtest', or 'bchreg'.\n *\n * @private\n * @param {string} prefix \n * @returns {boolean}\n */\nfunction isValidPrefix(prefix) {\n  return hasSingleCase(prefix) && VALID_PREFIXES.indexOf(prefix.toLowerCase()) !== -1;\n}\n\n/**\n * Derives an array from the given prefix to be used in the computation\n * of the address' checksum.\n *\n * @private\n * @param {string} prefix Network prefix. E.g.: 'bitcoincash'. \n * @returns {Uint8Array}\n */\nfunction prefixToUint5Array(prefix) {\n  var result = new Uint8Array(prefix.length);\n  for (var i = 0; i < prefix.length; ++i) {\n    result[i] = prefix[i].charCodeAt(0) & 31;\n  }\n  return result;\n}\n\n/**\n * Returns an array representation of the given checksum to be encoded\n * within the address' payload.\n *\n * @private\n * @param {BigInteger} checksum Computed checksum.\n * @returns {Uint8Array}\n */\nfunction checksumToUint5Array(checksum) {\n  var result = new Uint8Array(8);\n  for (var i = 0; i < 8; ++i) {\n    result[7 - i] = checksum.and(31).toJSNumber();\n    checksum = checksum.shiftRight(5);\n  }\n  return result;\n}\n\n/**\n * Returns the bit representation of the given type within the version\n * byte.\n *\n * @private\n * @param {string} type Address type. Either 'P2PKH' or 'P2SH'.\n * @returns {number}\n * @throws {ValidationError}\n */\nfunction getTypeBits(type) {\n  switch (type) {\n  case 'P2PKH':\n    return 0;\n  case 'P2SH':\n    return 8;\n  default:\n    throw new ValidationError('Invalid type: ' + type + '.');\n  }\n}\n\n/**\n * Retrieves the address type from its bit representation within the\n * version byte.\n *\n * @private\n * @param {number} versionByte\n * @returns {string}\n * @throws {ValidationError}\n */\nfunction getType(versionByte) {\n  switch (versionByte & 120) {\n  case 0:\n    return 'P2PKH';\n  case 8:\n    return 'P2SH';\n  default:\n    throw new ValidationError('Invalid address type in version byte: ' + versionByte + '.');\n  }\n}\n\n/**\n * Returns the bit representation of the length in bits of the given\n * hash within the version byte.\n *\n * @private\n * @param {Uint8Array} hash Hash to encode represented as an array of 8-bit integers.\n * @returns {number}\n * @throws {ValidationError}\n */\nfunction getHashSizeBits(hash) {\n  switch (hash.length * 8) {\n  case 160:\n    return 0;\n  case 192:\n    return 1;\n  case 224:\n    return 2;\n  case 256:\n    return 3;\n  case 320:\n    return 4;\n  case 384:\n    return 5;\n  case 448:\n    return 6;\n  case 512:\n    return 7;\n  default:\n    throw new ValidationError('Invalid hash size: ' + hash.length + '.');\n  }\n}\n\n/**\n * Retrieves the the length in bits of the encoded hash from its bit\n * representation within the version byte.\n *\n * @private\n * @param {number} versionByte\n * @returns {number}\n */\nfunction getHashSize(versionByte) {\n  switch (versionByte & 7) {\n  case 0:\n    return 160;\n  case 1:\n    return 192;\n  case 2:\n    return 224;\n  case 3:\n    return 256;\n  case 4:\n    return 320;\n  case 5:\n    return 384;\n  case 6:\n    return 448;\n  case 7:\n    return 512;\n  }\n}\n\n/**\n * Converts an array of 8-bit integers into an array of 5-bit integers,\n * right-padding with zeroes if necessary.\n *\n * @private\n * @param {Uint8Array} data\n * @returns {Uint8Array}\n */\nfunction toUint5Array(data) {\n  return convertBits(data, 8, 5);\n}\n\n/**\n * Converts an array of 5-bit integers back into an array of 8-bit integers,\n * removing extra zeroes left from padding if necessary.\n * Throws a {@link ValidationError} if input is not a zero-padded array of 8-bit integers.\n *\n * @private\n * @param {Uint8Array} data\n * @returns {Uint8Array}\n * @throws {ValidationError}\n */\nfunction fromUint5Array(data) {\n  return convertBits(data, 5, 8, true);\n}\n\n/**\n * Returns the concatenation a and b.\n *\n * @private\n * @param {Uint8Array} a \n * @param {Uint8Array} b \n * @returns {Uint8Array}\n * @throws {ValidationError}\n */\nfunction concat(a, b) {\n  var ab = new Uint8Array(a.length + b.length);\n  ab.set(a);\n  ab.set(b, a.length);\n  return ab;\n}\n\n/**\n * Computes a checksum from the given input data as specified for the CashAddr\n * format: https://github.com/Bitcoin-UAHF/spec/blob/master/cashaddr.md.\n *\n * @private\n * @param {Uint8Array} data Array of 5-bit integers over which the checksum is to be computed.\n * @returns {BigInteger}\n */\nfunction polymod(data) {\n  var GENERATOR = [0x98f2bc8e61, 0x79b76d99e2, 0xf33e5fb3c4, 0xae2eabe2a8, 0x1e4f43e470];\n  var checksum = bigInt(1);\n  for (var i = 0; i < data.length; ++i) {\n    var value = data[i];\n    var topBits = checksum.shiftRight(35);\n    checksum = checksum.and(0x07ffffffff).shiftLeft(5).xor(value);\n    for (var j = 0; j < GENERATOR.length; ++j) {\n      if (topBits.shiftRight(j).and(1).equals(1)) {\n        checksum = checksum.xor(GENERATOR[j]);\n      }\n    }\n  }\n  return checksum.xor(1);\n}\n\n/**\n * Verify that the payload has not been corrupted by checking that the\n * checksum is valid.\n * \n * @private\n * @param {string} prefix Network prefix. E.g.: 'bitcoincash'.\n * @param {Uint8Array} payload Array of 5-bit integers containing the address' payload.\n * @returns {boolean}\n */\nfunction validChecksum(prefix, payload) {\n  var prefixData = concat(prefixToUint5Array(prefix), new Uint8Array(1));\n  var checksumData = concat(prefixData, payload);\n  return polymod(checksumData).equals(0);\n}\n\n/**\n * Returns true if, and only if, the given string contains either uppercase\n * or lowercase letters, but not both.\n *\n * @private\n * @param {string} string Input string.\n * @returns {boolean}\n */\nfunction hasSingleCase(string) {\n  return string === string.toLowerCase() || string === string.toUpperCase();\n}\n\nmodule.exports = {\n  encode: encode,\n  decode: decode,\n  ValidationError: ValidationError,\n};\n","// Copyright (c) 2017-2018 Emilio Almansi\n// Copyright (c) 2017 Pieter Wuille\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n'use strict';\n\nvar validate = require('./validation').validate;\n\n/**\n * Converts an array of integers made up of 'from' bits into an\n * array of integers made up of 'to' bits. The output array is\n * zero-padded if necessary, unless strict mode is true.\n * Throws a {@link ValidationError} if input is invalid.\n * Original by Pieter Wuille: https://github.com/sipa/bech32.\n *\n * @param {Uint8Array} data Array of integers made up of 'from' bits.\n * @param {number} from Length in bits of elements in the input array.\n * @param {number} to Length in bits of elements in the output array.\n * @param {bool} strictMode Require the conversion to be completed without padding.\n * @returns {Uint8Array}\n */\nmodule.exports = function(data, from, to, strictMode) {\n  var length = strictMode\n    ? Math.floor(data.length * from / to)\n    : Math.ceil(data.length * from / to);\n  var mask = (1 << to) - 1;\n  var result = new Uint8Array(length);\n  var index = 0;\n  var accumulator = 0;\n  var bits = 0;\n  for (var i = 0; i < data.length; ++i) {\n    var value = data[i];\n    validate(0 <= value && (value >> from) === 0, 'Invalid value: ' + value + '.');\n    accumulator = (accumulator << from) | value;\n    bits += from;\n    while (bits >= to) {\n      bits -= to;\n      result[index] = (accumulator >> bits) & mask;\n      ++index;\n    }\n  }\n  if (!strictMode) {\n    if (bits > 0) {\n      result[index] = (accumulator << (to - bits)) & mask;\n      ++index;\n    }\n  } else {\n    validate(\n      bits < from && ((accumulator << (to - bits)) & mask) === 0,\n      'Input cannot be converted to ' + to + ' bits without padding, but strict mode was used.'\n    );\n  }\n  return result;\n};\n","/**\n * @license\n * https://github.com/ealmansi/cashaddrjs\n * Copyright (c) 2017-2020 Emilio Almansi\n * Distributed under the MIT software license, see the accompanying\n * file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n */\n\n'use strict';\n\n/**\n * Validation utility.\n *\n * @module validation\n */\n\n/**\n * Error thrown when encoding or decoding fail due to invalid input.\n *\n * @constructor ValidationError\n * @param {string} message Error description.\n */\nfunction ValidationError(message) {\n  var error = new Error();\n  this.name = error.name = 'ValidationError';\n  this.message = error.message = message;\n  this.stack = error.stack;\n}\n\nValidationError.prototype = Object.create(Error.prototype);\n\n/**\n * Validates a given condition, throwing a {@link ValidationError} if\n * the given condition does not hold.\n *\n * @static\n * @param {boolean} condition Condition to validate.\n * @param {string} message Error message in case the condition does not hold.\n */\nfunction validate(condition, message) {\n  if (!condition) {\n    throw new ValidationError(message);\n  }\n}\n\nmodule.exports = {\n  ValidationError: ValidationError,\n  validate: validate,\n};\n","var Buffer = require('safe-buffer').Buffer\n\n// annoyingly, this is for browserify\nvar coins = [\n  require('./coins/bch'),\n  require('./coins/blk'),\n  require('./coins/btc'),\n  require('./coins/btg'),\n  require('./coins/cbn'),\n  require('./coins/city'),\n  require('./coins/dash'),\n  require('./coins/dnr'),\n  require('./coins/dcr'),\n  require('./coins/dgb'),\n  require('./coins/doge'),\n  require('./coins/grs'),\n  require('./coins/ltc'),\n  require('./coins/via'),\n  require('./coins/mona'),\n  require('./coins/nbt'),\n  require('./coins/nmc'),\n  require('./coins/ppc'),\n  require('./coins/qtum'),\n  require('./coins/rvn'),\n  require('./coins/rdd'),\n  require('./coins/vtc'),\n  require('./coins/x42'),\n  require('./coins/zec')\n]\n\nvar supportedCoins = {}\n\ncoins.forEach(function (coin) {\n  var unit = coin.main.unit.toLowerCase()\n  var name = coin.main.name.toLowerCase()\n\n  coin.main.testnet = false\n  coin.main.toBitcoinJS = toBitcoinJS.bind(coin.main)\n  coin.main.toBitcore = toBitcore.bind(coin.main)\n  supportedCoins[unit] = coin.main\n  supportedCoins[name] = coin.main\n\n  if (coin.test) {\n    coin.test.testnet = true\n    coin.test.toBitcoinJS = toBitcoinJS.bind(coin.test)\n    coin.test.toBitcore = toBitcore.bind(coin.test)\n    supportedCoins[unit + '-test'] = coin.test\n    supportedCoins[name + '-test'] = coin.test\n  }\n\n  if (coin.regtest) {\n    coin.regtest.testnet = true\n    coin.regtest.toBitcoinJS = toBitcoinJS.bind(coin.regtest)\n    coin.regtest.toBitcore = toBitcore.bind(coin.regtest)\n    supportedCoins[unit + '-regtest'] = coin.regtest\n    supportedCoins[name + '-regtest'] = coin.regtest\n  }\n\n  if (coin.simnet) {\n    coin.simnet.testnet = true\n    coin.simnet.toBitcoinJS = toBitcoinJS.bind(coin.simnet)\n    coin.simnet.toBitcore = toBitcore.bind(coin.simnet)\n    supportedCoins[unit + '-simnet'] = coin.simnet\n    supportedCoins[name + '-simnet'] = coin.simnet\n  }\n})\n\nfunction coininfo (input) {\n  var coin = input.toLowerCase()\n\n  if (!(coin in supportedCoins)) {\n    return null\n  } else {\n    return supportedCoins[coin]\n  }\n}\n\ncoins.forEach(function (coin) {\n  coininfo[coin.main.name.toLowerCase()] = coin\n})\n\nfunction toBitcoinJS () {\n  return Object.assign({}, this, {\n    messagePrefix: this.messagePrefix || ('\\x19' + this.name + ' Signed Message:\\n'),\n    bech32: this.bech32,\n    bip32: {\n      public: (this.versions.bip32 || {}).public,\n      private: (this.versions.bip32 || {}).private\n    },\n    pubKeyHash: this.versions.public,\n    scriptHash: this.versions.scripthash,\n    wif: this.versions.private,\n    dustThreshold: null // TODO\n  })\n}\n\nfunction toBitcore () {\n  // reverse magic\n  var nm = Buffer.allocUnsafe(4)\n  nm.writeUInt32BE(this.protocol ? this.protocol.magic : 0, 0)\n  nm = nm.readUInt32LE(0)\n\n  return Object.assign({}, this, {\n    name: this.testnet ? 'testnet' : 'livenet',\n    alias: this.testnet ? 'testnet' : 'mainnet',\n    pubkeyhash: this.versions.public,\n    privatekey: this.versions.private,\n    scripthash: this.versions.scripthash,\n    xpubkey: (this.versions.bip32 || {}).public,\n    xprivkey: (this.versions.bip32 || {}).private,\n    networkMagic: nm,\n    port: this.port,\n    dnsSeeds: this.seedsDns || []\n  })\n}\n\nmodule.exports = coininfo\n","/*\n  info from:\n    https://github.com/Bitcoin-ABC/bitcoin-abc/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'BitcoinCash',\n  per1: 1e8,\n  unit: 'BCH'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f',\n  // nDefaultPort\n  port: 8333,\n  portRpc: 8332,\n  protocol: {\n    // pchMessageStart\n    magic: 0xe8f3e1e3 // careful, sent over wire as little endian\n  },\n  // vSeeds\n  seedsDns: [\n    'seed.bitcoinabc.org',\n    'seed-abc.bitcoinforks.org',\n    'btccash-seeder.bitcoinunlimited.info',\n    'seed.bitprim.org',\n    'seed.deadalnix.me',\n    'seeder.criptolayer.net'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 145,\n    private: 0x80,\n    public: 0x00,\n    scripthash: 0x05\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '000000000933ea01ad0ee984209779baaec3ced90fa3f408719526f8d77f4943',\n  port: 18333,\n  portRpc: 18332,\n  protocol: {\n    magic: 0xf4f3e5f4\n  },\n  seedsDns: [\n    'testnet-seed.bitcoinabc.org',\n    'testnet-seed-abc.bitcoinforks.org',\n    'testnet-seed.bitprim.org',\n    'testnet-seed.deadalnix.me',\n    'testnet-seeder.criptolayer.net'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nvar regtest = Object.assign({}, {\n  hashGenesisBlock: '0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206',\n  port: 18444,\n  portRpc: 18332,\n  protocol: {\n    magic: 0xfabfb5da\n  },\n  seedsDns: [],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test,\n  regtest\n}\n","/*\n  info from:\n    https://github.com/rat4/blackcoin/blob/master/src/chainparams.cpp\n*/\nvar common = {\n  name: 'BlackCoin',\n  per1: 1e8,\n  unit: 'BLK'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000001faef25dec4fbcf906e6242621df2c183bf232f263d0ba5b101911e4563',\n  port: 15714,\n  portRpc: 15715,\n  protocol: {\n    magic: 0x05223570 // careful, sent over wire as little endian\n  },\n  seedsDns: [\n    'rat4.blackcoin.co',\n    'seed.blackcoin.co',\n    'archon.darkfox.id.au',\n    'foxy.seeds.darkfox.id.au',\n    '6.syllabear.us.to',\n    'bcseed.syllabear.us.to'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 0xa,\n    private: 0x99,\n    public: 0x19,\n    scripthash: 0x55\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test: null\n}\n","/*\n  info from:\n    https://github.com/bitcoin/bitcoin/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'Bitcoin',\n  per1: 1e8,\n  unit: 'BTC',\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f',\n  // nDefaultPort\n  port: 8333,\n  portRpc: 8332,\n  protocol: {\n    // pchMessageStart\n    magic: 0xd9b4bef9 // careful, sent over wire as little endian\n  },\n  bech32: 'bc',\n  // vSeeds\n  seedsDns: [\n    'seed.bitcoin.sipa.be',\n    'dnsseed.bluematt.me',\n    'seed.bitcoinstats.com',\n    'seed.bitcoin.jonasschnelli.ch',\n    'seed.btc.petertodd.org',\n    'seed.bitcoin.sprovoost.nl',\n    'dnsseed.emzy.de'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 0,\n    private: 0x80,\n    public: 0x00,\n    scripthash: 0x05\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '000000000933ea01ad0ee984209779baaec3ced90fa3f408719526f8d77f4943',\n  port: 18333,\n  portRpc: 18332,\n  protocol: {\n    magic: 0x0709110b\n  },\n  bech32: 'tb',\n  seedsDns: [\n    'testnet-seed.alexykot.me',\n    'testnet-seed.bitcoin.schildbach.de',\n    'testnet-seed.bitcoin.petertodd.org',\n    'testnet-seed.bluematt.me'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nvar regtest = Object.assign({}, {\n  hashGenesisBlock: '0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206',\n  port: 18444,\n  portRpc: 18332,\n  protocol: {\n    magic: 0xdab5bffa\n  },\n  bech32: 'bcrt',\n  seedsDns: [],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\n// source: https://github.com/btcsuite/btcd/blob/6867ff32788a1beb9d148e414d7f84f50958f0d2/chaincfg/params.go#L508\nvar simnet = Object.assign({}, {\n  hashGenesisBlock: 'f67ad7695d9b662a72ff3d8edbbb2de0bfa67b13974bb9910d116d5cbd863e68',\n  port: 18555,\n  portRpc: 18556,\n  protocol: {\n    magic: 0x12141c16\n  },\n  bech32: 'sb',\n  seedsDns: [],\n  versions: {\n    bip32: {\n      private: 0x0420b900,\n      public: 0x0420bd3a\n    },\n    bip44: 115,\n    private: 0x64,\n    public: 0x3f,\n    scripthash: 0x7b\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test,\n  regtest,\n  simnet\n}\n","/*\n  info from:\n    https://github.com/BTCGPU/BTCGPU/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'Bitcoin Gold',\n  unit: 'BTG'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f',\n  // nDefaultPort\n  port: 8338,\n  protocol: {\n    // pchMessageStart\n    magic: 0x446d47e1 // careful, sent over wire as little endian\n  },\n  bech32: 'btg',\n  // vSeeds\n  seedsDns: [\n    'eu-dnsseed.bitcoingold-official.org',\n    'dnsseed.bitcoingold.org',\n    'dnsseed.btcgpu.org'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 156,\n    private: 0x80,\n    public: 0x26,\n    scripthash: 0x17\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '0x00000000e0781ebe24b91eedc293adfea2f557b53ec379e78959de3853e6f9f6',\n  port: 18338,\n  portRpc: 18332,\n  protocol: {\n    magic: 0x456e48e2\n  },\n  bech32: 'tbtg',\n  seedsDns: [\n    'test-dnsseed.bitcoingold.org',\n    'test-dnsseed.btcgpu.org',\n    'eu-test-dnsseed.bitcoingold-official.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 156,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","/*\n  info from:\n    https://github.com/c0ban/c0ban/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'c0ban',\n  unit: 'RYO'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000000005184ffce04351e687a3965b300ee011d26b2089232cd039273be4a67',\n  // nDefaultPort\n  port: 3881,\n  portRpc: 3882,\n  protocol: {\n    magic: 0x6e623063 // pchMessageStart\n  },\n  // vSeeds\n  seedsDns: [\n    'jp01.dnsseed.c0ban.com',\n    'kr01.dnsseed.c0ban.com'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4, // base58Prefixes[EXT_SECRET_KEY]\n      public: 0x0488b21e // base58Prefixes[EXT_PUBLIC_KEY]\n    },\n    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n    bip44: 88888, // TODO: decide cbn bip44\n    private: 0x88, // base58Prefixes[SECRET_KEY]\n    public: 0x12, // base58Prefixes[PUBKEY_ADDRESS]\n    scripthash: 0x1c // base58Prefixes[SCRIPT_ADDRESS]\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '000000005184ffce04351e687a3965b300ee011d26b2089232cd039273be4a67',\n  port: 13881,\n  portRpc: 13882,\n  protocol: {\n    magic: 0x8e828083 // pchMessageStart\n  },\n  seedsDns: [\n  ],\n  versions: {\n    bip32: {\n      private: 0x04388388, // base58Prefixes[EXT_SECRET_KEY]\n      public: 0x04588788 // base58Prefixes[EXT_PUBLIC_KEY]\n    },\n    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n    bip44: 1,\n    private: 0xee, // base58Prefixes[SECRET_KEY]\n    public: 0x76, // base58Prefixes[PUBKEY_ADDRESS]\n    scripthash: 0xc6 // base58Prefixes[SCRIPT_ADDRESS]\n  }\n}, common)\n\nvar regtest = Object.assign({}, {\n  hashGenesisBlock: '3249e44acac8fc67e6b94e882525cea6f5a9853e1ff7b4a1d5f470b23ff8ae11',\n  port: 23881,\n  portRpc: 23882,\n  protocol: {\n    magic: 0xdab5bffa // pchMessageStart\n  },\n  seedsDns: [\n  ],\n  versions: {\n    bip32: {\n      private: 0x043587cf, // base58Prefixes[EXT_SECRET_KEY]\n      public: 0x04358394 // base58Prefixes[EXT_PUBLIC_KEY]\n    },\n    // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n    bip44: 1,\n    private: 0xef, // base58Prefixes[SECRET_KEY]\n    public: 0x6f, // base58Prefixes[PUBKEY_ADDRESS]\n    scripthash: 0xc4 // base58Prefixes[SCRIPT_ADDRESS]\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test,\n  regtest\n}\n","var common = {\n  name: 'CityCoin',\n  isProofOfStake: true\n}\n\nvar main = Object.assign({}, {\n  unit: 'CITY',\n  hashGenesisBlock: '00000b0517068e602ed5279c20168cfa1e69884ee4e784909652da34c361bff2',\n  port: 4333,\n  portRpc: 4334,\n  protocol: {\n    magic: 0x43545901\n  },\n  seedsDns: [\n    'seed.city-chain.org',\n    'seed.city-coin.org',\n    'seed.citychain.foundation',\n    'seed.liberstad.com'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 1926,\n    private: 0xed,\n    public: 0x1c,\n    scripthash: 0x58\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  unit: 'TCITY',\n  hashGenesisBlock: '00077765f625cc2cb6266544ff7d5a462f25be14ea1116dc2bd2fec17e40a5e3',\n  port: 24333,\n  portRpc: 24334,\n  protocol: {\n    magic: 0x43545401\n  },\n  seedsDns: [\n    'testseed.city-chain.org',\n    'testseed.city-coin.org',\n    'testseed.citychain.foundation'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 1926,\n    private: 0xc2,\n    public: 0x42,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","/*\n  info from:\n    https://github.com/dashpay/dash/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'Dash',\n  unit: 'DASH'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '00000ffd590b1485b3caadc19b22e6379c733355108f107a430458cdf3407ab6',\n  // nDefaultPort\n  port: 9999,\n  portRpc: 9998,\n  protocol: {\n    magic: 0xbd6b0cbf // careful, sent over wire as little endian\n  },\n  // vSeeds\n  seedsDns: [\n    'dash.org',\n    'dnsseed.dash.org',\n    'dashdot.io',\n    'dnsseed.dashdot.io',\n    'masternode.io',\n    'dnsseed.masternode.io',\n    'dashpay.io',\n    'dnsseed.dashpay.io'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 5,\n    private: 0xcc,\n    public: 0x4c,\n    scripthash: 0x10\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '00000bafbc94add76cb75e2ec92894837288a481e5c005f6563d91623bf8bc2c',\n  port: 19999,\n  portRpc: 19998,\n  seedsDns: [\n    'dashdot.io',\n    'testnet-seed.dashdot.io',\n    'masternode.io',\n    'test.dnsseed.masternode.io'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x8c,\n    scripthash: 0x13\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","var common = {\n  name: 'Decred',\n  unit: 'DCR'\n}\n\n// https://github.com/decred/dcrd/blob/ef71103c95cbf77e5a0418e3d413b5906e710b25/chaincfg/params.go\n// https://github.com/decred/bitcore/blob/a92381b2b0023b28a1b7eb03e6cb0bfb7800200d/lib/networks.js\nvar main = Object.assign({}, {\n  hashGenesisBlock: '298e5cc3d985bfe7f81dc135f360abe089edd4396b86d2de66b0cef42b21d980',\n  port: 9108,\n  portRpc: 9109,\n  protocol: {\n    magic: 0xf900b4d9\n  },\n  seedsDns: [\n    'mainnet-seed.decred.mindcry.org',\n    'mainnet-seed.decred.netpurgatory.com',\n    'mainnet.decredseed.org',\n    'mainnet-seed.decred.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x02fda4e8,\n      public: 0x02fda926\n    },\n    bip44: 42,\n    private: 0x22de,\n    public: 0x073f,\n    scripthash: 0x071a\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '5b7466edf6739adc9b32aaedc54e24bdc59a05f0ced855088835fe3cbe58375f',\n  port: 19108,\n  portRpc: 19109,\n  protocol: {\n    magic: 0x48e7a065\n  },\n  seedsDns: [\n    'testnet-seed.decred.mindcry.org',\n    'testnet-seed.decred.netpurgatory.org',\n    'testnet.decredseed.org',\n    'testnet-seed.decred.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358397,\n      public: 0x043587d1\n    },\n    bip44: 42,\n    private: 0x230e,\n    public: 0x0f21,\n    scripthash: 0x0efc\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","/*\n  info from:\n    https://github.com/digibyte/digibyte/blob/9e4c0b3ddfd10a7ab852240ff716a7b93af89a07/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'DigiByte',\n  per1: 1e8,\n  unit: 'DGB'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f',\n  // nDefaultPort\n  port: 12024,\n  portRpc: 14022,\n  protocol: {\n    // pchMessageStart\n    magic: 0xfac3b6da // careful, sent over wire as little endian\n  },\n  bech32: 'dgb',\n  // vSeeds\n  seedsDns: [\n    'seed.digibyte.io',\n    'digiexplorer.info',\n    'digihash.co'\n  ],\n  // base58Prefixes\n  versions: {\n    bip44: 0x80000014,\n    private: 0x80,\n    public: 0x1e,\n    scripthash: 0x3f, // new 'S' prefix\n    scripthash2: 0x05 // old '3' prefix\n  }\n}, common)\n\nmodule.exports = { main }\n","// https://github.com/carsenk/denarius/blob/master/src/main.cpp\n\nvar common = {\n  name: 'Denarius',\n  unit: 'DNR'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '00000d5dbbda01621cfc16bbc1f9bf3264d641a5dbf0de89fd0182c2c4828fcd',\n  port: 33339,\n  portRpc: 32339,\n  protocol: {\n    magic: 0xb4eff2fa\n  },\n  seedsDns: [\n    'denariusexplorer.org',\n    'denarius.host',\n    'denarius.tech',\n    'denarius.network'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 116,\n    private: 0x9e,\n    public: 0x1e,\n    scripthash: 0x5a\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '000086bfe8264d241f7f8e5393f747784b8ca2aa98bdd066278d590462a4fdb4',\n  versions: {\n    bip44: 1,\n    private: 0x8c,\n    public: 0x12,\n    scripthash: 0x74\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","// https://github.com/dogecoin/dogecoin/blob/master/src/chainparams.cpp\n\nvar common = {\n  name: 'Dogecoin',\n  unit: 'DOGE'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '1a91e3dace36e2be3bf030a65679fe821aa1d6ef92e7c9902eb318182c355691',\n  port: 22556,\n  protocol: {\n    magic: 0xc0c0c0c0\n  },\n  seedsDns: [\n    'seed.multidoge.org',\n    'seed2.multidoge.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x02fac398,\n      public: 0x02facafd\n    },\n    bip44: 3,\n    private: 0x9e,\n    public: 0x1e,\n    scripthash: 0x16\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: 'bb0a78264637406b6360aad926284d544d7049f45189db5664f3c4d07350559e',\n  port: 44556,\n  protocol: {\n    magic: 0xfcc1b7dc\n  },\n  seedsDns: [\n    'testseed.jrn.me.uk'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xf1,\n    public: 0x71,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","/*\n  info from:\n    https://github.com/bitcoin/bitcoin/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'Groestlcoin',\n  per1: 1e8,\n  unit: 'GRS',\n  messagePrefix: '\\x1CGroestlCoin Signed Message:\\n'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '00000ac5927c594d49cc0bdb81759d0da8297eb614683d3acb62f0703b639023',\n  // nDefaultPort\n  port: 1331,\n  portRpc: 1441,\n  protocol: {\n    // pchMessageStart\n    magic: 0xd4b4bef9 // careful, sent over wire as little endian\n  },\n  bech32: 'grs',\n  // vSeeds\n  seedsDns: [\n    'dnsseed1.groestlcoin.org',\n    'dnsseed2.groestlcoin.org',\n    'dnsseed3.groestlcoin.org',\n    'dnsseed4.groestlcoin.org'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 17,\n    private: 0x80,\n    public: 0x24,\n    scripthash: 0x05\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '0x000000ffbb50fc9898cdd36ec163e6ba23230164c0052a28876255b7dcf2cd36',\n  port: 17777,\n  portRpc: 17766,\n  protocol: {\n    magic: 0x0709110b\n  },\n  bech32: 'tgrs',\n  seedsDns: [\n    'testnet-seed1.groestlcoin.org',\n    'testnet-seed2.groestlcoin.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nvar regtest = Object.assign({}, {\n  hashGenesisBlock: '0x000000ffbb50fc9898cdd36ec163e6ba23230164c0052a28876255b7dcf2cd36',\n  port: 18888,\n  portRpc: 18443,\n  protocol: {\n    magic: 0xdab5bffa\n  },\n  bech32: 'grsrt',\n  seedsDns: [],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test,\n  regtest\n}\n","// https://github.com/litecoin-project/litecoin/blob/master-0.10/src/chainparams.cpp\n\nvar common = {\n  name: 'Litecoin',\n  unit: 'LTC'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '12a765e31ffd4059bada1e25190f6e98c99d9714d334efa41a195a7e7e04bfe2',\n  port: 9333,\n  protocol: {\n    magic: 0xdbb6c0fb\n  },\n  bech32: 'ltc',\n  seedsDns: [\n    'dnsseed.litecointools.com',\n    'dnsseed.litecoinpool.org',\n    'dnsseed.ltc.xurious.com',\n    'dnsseed.koin-project.com',\n    'dnsseed.weminemnc.com'\n  ],\n  versions: {\n    bip32: {\n      private: 0x019d9cfe,\n      public: 0x019da462\n    },\n    bip44: 2,\n    private: 0xb0,\n    public: 0x30,\n    scripthash: 0x32,\n    scripthash2: 0x05 // old '3' prefix. available for backward compatibility.\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: 'f5ae71e26c74beacc88382716aced69cddf3dffff24f384e1808905e0188f68f',\n  bech32: 'tltc',\n  versions: {\n    bip32: {\n      private: 0x0436ef7d,\n      public: 0x0436f6e1\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0x3a,\n    scripthash2: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","// https://github.com/monacoinproject/monacoin/blob/master-0.13/src/chainparams.cpp\n\nvar common = {\n  name: 'Monacoin',\n  unit: 'MONA'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: 'ff9f1c0116d19de7c9963845e129f9ed1bfc0b376eb54fd7afa42e0d418c8bb6',\n  port: 9401,\n  portRpc: 9402,\n  protocol: {\n    magic: 0xdbb6c0fb\n  },\n  bech32: 'mona',\n  seedsDns: [\n    'dnsseed.monacoin.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 22,\n    private: 0xb0,\n    private2: 0xb2, // old wif\n    public: 0x32,\n    scripthash: 0x37,\n    scripthash2: 0x05 // old '3' prefix. available for backward compatibility.\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: 'a2b106ceba3be0c6d097b2a6a6aacf9d638ba8258ae478158f449c321061e0b2',\n  port: 19403,\n  portRpc: 19402,\n  protocol: {\n    magic: 0xf1c8d2fd\n  },\n  bech32: 'tmona',\n  seedsDns: [\n    'testnet-dnsseed.monacoin.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0x75,\n    scripthash2: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","var common = {\n  name: 'NuBits',\n  per1: 1e6,\n  unit: 'NBT'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000003cc2da5a0a289ad0a590c20a8b975219ddc1204efd169e947dd4cbad73f',\n  // nDefaultPort\n  port: 7890,\n  portRpc: 14002,\n  protocol: {\n    // pchMessageStart\n    magic: 0xd9b4bef9 // careful, sent over wire as little endian\n  },\n  // vSeeds\n  seedsDns: [\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 12,\n    private: 0x96,\n    public: 0x19,\n    scripthash: 0x1a\n  }\n}, common)\n\nmodule.exports = {\n  main\n}\n","var common = {\n  name: 'Namecoin',\n  unit: 'NMC'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000000000062b72c5e2ceb45fbc8587e807c155b0da735e6483dfba2f0a9c770',\n  versions: {\n    bip44: 7,\n    private: 0xb4,\n    public: 0x34,\n    scripthash: 0x05\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test: null\n}\n","// https://github.com/peercoin/peercoin/tree/v0.7.0ppc/src\n// https://github.com/peercoin/peercoin/blob/v0.7.0ppc/src/${filename}\n\nvar common = {\n  name: 'Peercoin',\n  per1: 1e6, // util.h:40\n  unit: 'PPC',\n  messagePrefix: '\\x18Peercoin Signed Message:\\n' // main.cpp:77\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '0000000032fe677166d54963b62a4677d8957e87c508eaa4fd7eb1c880cd27e3', // main.h:84\n  // nDefaultPort\n  port: 9901, // protocol.h:18\n  portRpc: 9902, // protocol.h:19\n  protocol: {\n    // pchMessageStart\n    magic: 0xe5e9e8e6 // careful, sent over wire as little endian protocol.cpp:31\n  },\n  // vSeeds\n  seedsDns: [\n    // net.cpp:1209\n    'seed.peercoin.net',\n    'seed2.peercoin.net',\n    'seed.peercoin-library.org',\n    'ppcseed.ns.7server.net'\n  ],\n  versions: {\n    // not implemented in Peercoin <= v0.7.x nodes, only 3rd party wallets\n    // https://github.com/jmacwhyte/recovery-phrase-recovery/blob/52073aba08e9d01032c0b5aff8c682911fe2e5fc/js/bitcoinjs-extensions.js#L58\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 6, // https://github.com/satoshilabs/slips/blob/master/slip-0044.md\n    private: 0xb7, // base58.h:402 ; 128 + PUBKEY_ADDRESS\n    public: 0x37, // base58.h:276\n    scripthash: 0x75 // base58.h:277\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '00000001f757bb737f6596503e17cd17b0658ce630cc727c0cca81aec47c9f06',\n  port: 9903,\n  portRpc: 9904,\n  protocol: {\n    magic: 0xefc0f2cb\n  },\n  seedsDns: [\n    'tseed.peercoin.net',\n    'tseed2.peercoin.net',\n    'tseed.peercoin-library.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","/*\n  info from:\n    https://github.com/qtumproject/qtum/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'Qtum',\n  unit: 'QTUM'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '000075aef83cf2853580f8ae8ce6f8c3096cfa21d98334d6e3f95e5582ed986c',\n  // nDefaultPort\n  port: 3888,\n  protocol: {\n    // pchMessageStart\n    magic: 0xd3a6cff1 // careful, sent over wire as little endian\n  },\n  bech32: 'qc',\n  // vSeeds\n  seedsDns: [\n    'qtum3.dynu.net'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 2301,\n    private: 0x80,\n    public: 0x3A,\n    scripthash: 0x32\n  }\n}, common)\n\nmodule.exports = {\n  main\n}\n","var common = {\n  name: 'ReddCoin',\n  unit: 'RDD'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: 'b868e0d95a3c3c0e0dadc67ee587aaf9dc8acbf99e3b4b3110fad4eb74c1decc',\n  versions: {\n    bip44: 4,\n    private: 0xbd,\n    public: 0x3d,\n    scripthash: 0x05\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: 'a12ac9bd4cd26262c53a6277aafc61fe9dfe1e2b05eaa1ca148a5be8b394e35a',\n  versions: {\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","// https://github.com/RavenProject/Ravencoin/blob/master/src/chainparams.cpp\n\nvar common = {\n  name: 'Ravencoin',\n  unit: 'RVN'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '0000006b444bc2f2ffe627be9d9e7e7a0730000870ef6eb6da46c8eae389df90',\n  port: 8767,\n  protocol: {\n    magic: 0x4e564152\n  },\n  bech32: 'rc',\n  seedsDns: [\n    'seed-raven.bitactivate.com',\n    'seed-raven.ravencoin.com',\n    'seed-raven.ravencoin.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 175,\n    private: 0x80,\n    public: 0x3c,\n    scripthash: 0x7a\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '000000ecfc5e6324a079542221d00e10362bdc894d56500c414060eea8a3ad5a',\n  port: 18770,\n  protocol: {\n    magic: 0x544e5652\n  },\n  bech32: 'tr',\n  seedsDns: [\n    'seed-testnet-raven.bitactivate.com',\n    'seed-testnet-raven.ravencoin.com',\n    'seed-testnet-raven.ravencoin.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","// https://github.com/viacoin/viacoin/blob/master/src/chainparams.cpp\n\nvar common = {\n  name: 'Viacoin',\n  unit: 'VIA'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '4e9b54001f9976049830128ec0331515eaabe35a70970d79971da1539a400ba1',\n  port: 5223,\n  protocol: {\n    magic: 0xcbc6680f\n  },\n  seedsDns: [\n    'seed.viacoin.net',\n    'viaseeder.barbatos.fr',\n    'mainnet.viacoin.net'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 14,\n    private: 0xc7,\n    public: 0x47,\n    scripthash: 0x21\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '770aa712aa08fdcbdecc1c8df1b3e2d4e17a7cf6e63a28b785b32e74c96cb27d',\n  port: 25223,\n  protocol: {\n    magic: 0x92efc5a9\n  },\n  seedsDns: [\n    'testnet.viacoin.net',\n    'seed-testnet.viacoin.net'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 1,\n    private: 0xff,\n    public: 0x7f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","/*\n  info from:\n    https://github.com/vertcoin/vertcoin/blob/master/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'Vertcoin',\n  unit: 'VTC'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '4d96a915f49d40b1e5c2844d1ee2dccb90013a990ccea12c492d22110489f0c4',\n  // nDefaultPort\n  port: 5889,\n  protocol: {\n    // pchMessageStart\n    magic: 0xdab5bffa // careful, sent over wire as little endian\n  },\n  bech32: 'vtc',\n  // vSeeds\n  seedsDns: [\n    'useast1.vtconline.org',\n    'vtc.gertjaap.org',\n    'seed.vtc.bryangoodson.org',\n    'dnsseed.pknight.ca',\n    'seed.orderofthetaco.org',\n    'seed.alexturek.org',\n    'vertcoin.mbl.cash'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 28,\n    private: 0x80,\n    public: 0x47,\n    scripthash: 0x05\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: 'cee8f24feb7a64c8f07916976aa4855decac79b6741a8ec2e32e2747497ad2c9',\n  port: 15889,\n  // portRpc: 18332,\n  protocol: {\n    magic: 0x74726576\n  },\n  bech32: 'tvtc',\n  seedsDns: [\n    'jlovejoy.mit.edu',\n    'gertjaap.ddns.net',\n    'fr1.vtconline.org',\n    'tvtc.vertcoin.org'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    private: 0xef,\n    public: 0x4a,\n    scripthash: 0xc4\n  }\n}, common)\n\nvar regtest = Object.assign({}, {\n  hashGenesisBlock: '0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206',\n  port: 18444,\n  // portRpc: 18332,\n  protocol: {\n    magic: 0xdab5bffa\n  },\n  seedsDns: [],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    private: 0xef,\n    public: 0x6f,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test,\n  regtest\n}\n","var common = {\n  name: 'x42',\n  isProofOfStake: true\n}\n\nvar main = Object.assign({}, {\n  unit: 'x42',\n  hashGenesisBlock: '04ffe583707a96c1c2eb54af33a4b1dc6d9d8e09fea8c9a7b097ba88f0cb64c4',\n  port: 52342,\n  portRpc: 52343,\n  protocol: {\n    magic: 0x3526642\n  },\n  seedsDns: [\n    'mainnet1.x42seed.host',\n    'mainnetnode1.x42seed.host',\n    'tech.x42.cloud',\n    'x42.seed.blockcore.net'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 424242,\n    private: 0xcb,\n    public: 0x4b,\n    scripthash: 0x7d\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  unit: 'Tx42',\n  hashGenesisBlock: 'a92bf124a1e6f237015440d5f1e1999bdef8e321f2d3fdc367eb2f7733b17854',\n  port: 62342,\n  portRpc: 62343,\n  protocol: {\n    magic: 0x4526642\n  },\n  seedsDns: [\n    'testnet1.x42seed.host'\n  ],\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 424242,\n    private: 0xc1,\n    public: 0x41,\n    scripthash: 0xc4\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","/*\n  info from:\n    https://github.com/zcash/zcash/blob/v1.0.12/src/chainparamsbase.cpp\n    https://github.com/zcash/zcash/blob/v1.0.12/src/chainparams.cpp\n*/\n\nvar common = {\n  name: 'Zcash',\n  unit: 'ZEC'\n}\n\nvar main = Object.assign({}, {\n  hashGenesisBlock: '00040fe8ec8471911baa1db1266ea15dd06b4a8a5c453883c000b031973dce08',\n  // nDefaultPort\n  port: 8233,\n  portRpc: 8232,\n  protocol: {\n    // pchMessageStart\n    magic: 0x6427e924 // careful, sent over wire as little endian\n  },\n  // vSeeds\n  seedsDns: [\n    'dnsseed.z.cash',\n    'dnsseed.str4d.xyz',\n    'dnsseed.znodes.org'\n  ],\n  // base58Prefixes\n  versions: {\n    bip32: {\n      private: 0x0488ade4,\n      public: 0x0488b21e\n    },\n    bip44: 133,\n    private: 0x80,\n    public: 0x1cb8,\n    scripthash: 0x1cbd\n  }\n}, common)\n\nvar test = Object.assign({}, {\n  hashGenesisBlock: '0x05a60a92d99d85997cce3b87616c089f6124d7342af37106edc76126334a2c38',\n  port: 18233,\n  portRpc: 18232,\n  protocol: {\n    magic: 0xbff91afa\n  },\n  seedsDns: [\n    'dnsseed.testnet.z.cash'\n  ],\n  versions: {\n    bip32: {\n      private: 0x04358394,\n      public: 0x043587cf\n    },\n    bip44: 133,\n    private: 0xef,\n    public: 0x1d25,\n    scripthash: 0x1cba\n  }\n}, common)\n\nmodule.exports = {\n  main,\n  test\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.ECPairFactory = exports.networks = void 0;\nconst networks = require('./networks');\nexports.networks = networks;\nconst types = require('./types');\nconst randomBytes = require('randombytes');\nconst wif = require('wif');\nconst testecc_1 = require('./testecc');\nconst isOptions = types.typeforce.maybe(\n  types.typeforce.compile({\n    compressed: types.maybe(types.Boolean),\n    network: types.maybe(types.Network),\n  }),\n);\nconst toXOnly = (pubKey) =>\n  pubKey.length === 32 ? pubKey : pubKey.slice(1, 33);\nfunction ECPairFactory(ecc) {\n  (0, testecc_1.testEcc)(ecc);\n  function isPoint(maybePoint) {\n    return ecc.isPoint(maybePoint);\n  }\n  function fromPrivateKey(buffer, options) {\n    types.typeforce(types.Buffer256bit, buffer);\n    if (!ecc.isPrivate(buffer))\n      throw new TypeError('Private key not in range [1, n)');\n    types.typeforce(isOptions, options);\n    return new ECPair(buffer, undefined, options);\n  }\n  function fromPublicKey(buffer, options) {\n    types.typeforce(ecc.isPoint, buffer);\n    types.typeforce(isOptions, options);\n    return new ECPair(undefined, buffer, options);\n  }\n  function fromWIF(wifString, network) {\n    const decoded = wif.decode(wifString);\n    const version = decoded.version;\n    // list of networks?\n    if (types.Array(network)) {\n      network = network\n        .filter((x) => {\n          return version === x.wif;\n        })\n        .pop();\n      if (!network) throw new Error('Unknown network version');\n      // otherwise, assume a network object (or default to bitcoin)\n    } else {\n      network = network || networks.bitcoin;\n      if (version !== network.wif) throw new Error('Invalid network version');\n    }\n    return fromPrivateKey(decoded.privateKey, {\n      compressed: decoded.compressed,\n      network: network,\n    });\n  }\n  function makeRandom(options) {\n    types.typeforce(isOptions, options);\n    if (options === undefined) options = {};\n    const rng = options.rng || randomBytes;\n    let d;\n    do {\n      d = rng(32);\n      types.typeforce(types.Buffer256bit, d);\n    } while (!ecc.isPrivate(d));\n    return fromPrivateKey(d, options);\n  }\n  class ECPair {\n    __D;\n    __Q;\n    compressed;\n    network;\n    lowR;\n    constructor(__D, __Q, options) {\n      this.__D = __D;\n      this.__Q = __Q;\n      this.lowR = false;\n      if (options === undefined) options = {};\n      this.compressed =\n        options.compressed === undefined ? true : options.compressed;\n      this.network = options.network || networks.bitcoin;\n      if (__Q !== undefined)\n        this.__Q = Buffer.from(ecc.pointCompress(__Q, this.compressed));\n    }\n    get privateKey() {\n      return this.__D;\n    }\n    get publicKey() {\n      if (!this.__Q) {\n        // It is not possible for both `__Q` and `__D` to be `undefined` at the same time.\n        // The factory methods guard for this.\n        const p = ecc.pointFromScalar(this.__D, this.compressed);\n        // It is not possible for `p` to be null.\n        // `fromPrivateKey()` checks that `__D` is a valid scalar.\n        this.__Q = Buffer.from(p);\n      }\n      return this.__Q;\n    }\n    toWIF() {\n      if (!this.__D) throw new Error('Missing private key');\n      return wif.encode(this.network.wif, this.__D, this.compressed);\n    }\n    tweak(t) {\n      if (this.privateKey) return this.tweakFromPrivateKey(t);\n      return this.tweakFromPublicKey(t);\n    }\n    sign(hash, lowR) {\n      if (!this.__D) throw new Error('Missing private key');\n      if (lowR === undefined) lowR = this.lowR;\n      if (lowR === false) {\n        return Buffer.from(ecc.sign(hash, this.__D));\n      } else {\n        let sig = ecc.sign(hash, this.__D);\n        const extraData = Buffer.alloc(32, 0);\n        let counter = 0;\n        // if first try is lowR, skip the loop\n        // for second try and on, add extra entropy counting up\n        while (sig[0] > 0x7f) {\n          counter++;\n          extraData.writeUIntLE(counter, 0, 6);\n          sig = ecc.sign(hash, this.__D, extraData);\n        }\n        return Buffer.from(sig);\n      }\n    }\n    signSchnorr(hash) {\n      if (!this.privateKey) throw new Error('Missing private key');\n      if (!ecc.signSchnorr)\n        throw new Error('signSchnorr not supported by ecc library');\n      return Buffer.from(ecc.signSchnorr(hash, this.privateKey));\n    }\n    verify(hash, signature) {\n      return ecc.verify(hash, this.publicKey, signature);\n    }\n    verifySchnorr(hash, signature) {\n      if (!ecc.verifySchnorr)\n        throw new Error('verifySchnorr not supported by ecc library');\n      return ecc.verifySchnorr(hash, this.publicKey.subarray(1, 33), signature);\n    }\n    tweakFromPublicKey(t) {\n      const xOnlyPubKey = toXOnly(this.publicKey);\n      const tweakedPublicKey = ecc.xOnlyPointAddTweak(xOnlyPubKey, t);\n      if (!tweakedPublicKey || tweakedPublicKey.xOnlyPubkey === null)\n        throw new Error('Cannot tweak public key!');\n      const parityByte = Buffer.from([\n        tweakedPublicKey.parity === 0 ? 0x02 : 0x03,\n      ]);\n      return fromPublicKey(\n        Buffer.concat([parityByte, tweakedPublicKey.xOnlyPubkey]),\n        { network: this.network, compressed: this.compressed },\n      );\n    }\n    tweakFromPrivateKey(t) {\n      const hasOddY =\n        this.publicKey[0] === 3 ||\n        (this.publicKey[0] === 4 && (this.publicKey[64] & 1) === 1);\n      const privateKey = hasOddY\n        ? ecc.privateNegate(this.privateKey)\n        : this.privateKey;\n      const tweakedPrivateKey = ecc.privateAdd(privateKey, t);\n      if (!tweakedPrivateKey) throw new Error('Invalid tweaked private key!');\n      return fromPrivateKey(Buffer.from(tweakedPrivateKey), {\n        network: this.network,\n        compressed: this.compressed,\n      });\n    }\n  }\n  return {\n    isPoint,\n    fromPrivateKey,\n    fromPublicKey,\n    fromWIF,\n    makeRandom,\n  };\n}\nexports.ECPairFactory = ECPairFactory;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.networks = exports.ECPairFactory = exports.default = void 0;\nvar ecpair_1 = require('./ecpair');\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function () {\n    return ecpair_1.ECPairFactory;\n  },\n});\nObject.defineProperty(exports, 'ECPairFactory', {\n  enumerable: true,\n  get: function () {\n    return ecpair_1.ECPairFactory;\n  },\n});\nObject.defineProperty(exports, 'networks', {\n  enumerable: true,\n  get: function () {\n    return ecpair_1.networks;\n  },\n});\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.testnet = exports.bitcoin = void 0;\nexports.bitcoin = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'bc',\n  bip32: {\n    public: 0x0488b21e,\n    private: 0x0488ade4,\n  },\n  pubKeyHash: 0x00,\n  scriptHash: 0x05,\n  wif: 0x80,\n};\nexports.testnet = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'tb',\n  bip32: {\n    public: 0x043587cf,\n    private: 0x04358394,\n  },\n  pubKeyHash: 0x6f,\n  scriptHash: 0xc4,\n  wif: 0xef,\n};\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.testEcc = void 0;\nconst h = (hex) => Buffer.from(hex, 'hex');\nfunction testEcc(ecc) {\n  assert(\n    ecc.isPoint(\n      h('0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    ),\n  );\n  assert(\n    !ecc.isPoint(\n      h('030000000000000000000000000000000000000000000000000000000000000005'),\n    ),\n  );\n  assert(\n    ecc.isPrivate(\n      h('79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    ),\n  );\n  // order - 1\n  assert(\n    ecc.isPrivate(\n      h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140'),\n    ),\n  );\n  // 0\n  assert(\n    !ecc.isPrivate(\n      h('0000000000000000000000000000000000000000000000000000000000000000'),\n    ),\n  );\n  // order\n  assert(\n    !ecc.isPrivate(\n      h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141'),\n    ),\n  );\n  // order + 1\n  assert(\n    !ecc.isPrivate(\n      h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142'),\n    ),\n  );\n  // 1 + 0 == 1\n  assert(\n    Buffer.from(\n      ecc.privateAdd(\n        h('0000000000000000000000000000000000000000000000000000000000000001'),\n        h('0000000000000000000000000000000000000000000000000000000000000000'),\n      ),\n    ).equals(\n      h('0000000000000000000000000000000000000000000000000000000000000001'),\n    ),\n  );\n  // -3 + 3 == 0\n  assert(\n    ecc.privateAdd(\n      h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e'),\n      h('0000000000000000000000000000000000000000000000000000000000000003'),\n    ) === null,\n  );\n  assert(\n    Buffer.from(\n      ecc.privateAdd(\n        h('e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500'),\n        h('b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665'),\n      ),\n    ).equals(\n      h('9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24'),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.privateNegate(\n        h('0000000000000000000000000000000000000000000000000000000000000001'),\n      ),\n    ).equals(\n      h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140'),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.privateNegate(\n        h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e'),\n      ),\n    ).equals(\n      h('0000000000000000000000000000000000000000000000000000000000000003'),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.privateNegate(\n        h('b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af'),\n      ),\n    ).equals(\n      h('4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792'),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.pointCompress(\n        h(\n          '0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n        ),\n        true,\n      ),\n    ).equals(\n      h('0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.pointCompress(\n        h(\n          '0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n        ),\n        false,\n      ),\n    ).equals(\n      h(\n        '0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n      ),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.pointCompress(\n        h('0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n        true,\n      ),\n    ).equals(\n      h('0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.pointCompress(\n        h('0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n        false,\n      ),\n    ).equals(\n      h(\n        '0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',\n      ),\n    ),\n  );\n  assert(\n    Buffer.from(\n      ecc.pointFromScalar(\n        h('b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af'),\n      ),\n    ).equals(\n      h('02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99'),\n    ),\n  );\n  assert(\n    ecc.xOnlyPointAddTweak(\n      h('79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n      h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140'),\n    ) === null,\n  );\n  let xOnlyRes = ecc.xOnlyPointAddTweak(\n    h('1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b'),\n    h('a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac'),\n  );\n  assert(\n    Buffer.from(xOnlyRes.xOnlyPubkey).equals(\n      h('e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf'),\n    ) && xOnlyRes.parity === 1,\n  );\n  xOnlyRes = ecc.xOnlyPointAddTweak(\n    h('2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991'),\n    h('823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47'),\n  );\n  assert(\n    Buffer.from(xOnlyRes.xOnlyPubkey).equals(\n      h('9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c'),\n    ) && xOnlyRes.parity === 0,\n  );\n  assert(\n    Buffer.from(\n      ecc.sign(\n        h('5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed'),\n        h('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140'),\n      ),\n    ).equals(\n      h(\n        '54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5',\n      ),\n    ),\n  );\n  assert(\n    ecc.verify(\n      h('5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed'),\n      h('0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'),\n      h(\n        '54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5',\n      ),\n    ),\n  );\n  if (ecc.signSchnorr) {\n    assert(\n      Buffer.from(\n        ecc.signSchnorr(\n          h('7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c'),\n          h('c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9'),\n          h('c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906'),\n        ),\n      ).equals(\n        h(\n          '5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7',\n        ),\n      ),\n    );\n  }\n  if (ecc.verifySchnorr) {\n    assert(\n      ecc.verifySchnorr(\n        h('7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c'),\n        h('dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8'),\n        h(\n          '5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7',\n        ),\n      ),\n    );\n  }\n}\nexports.testEcc = testEcc;\nfunction assert(bool) {\n  if (!bool) throw new Error('ecc library invalid');\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.maybe =\n  exports.Boolean =\n  exports.Array =\n  exports.Buffer256bit =\n  exports.Network =\n  exports.typeforce =\n    void 0;\nexports.typeforce = require('typeforce');\n// exposed, external API\nexports.Network = exports.typeforce.compile({\n  messagePrefix: exports.typeforce.oneOf(\n    exports.typeforce.Buffer,\n    exports.typeforce.String,\n  ),\n  bip32: {\n    public: exports.typeforce.UInt32,\n    private: exports.typeforce.UInt32,\n  },\n  pubKeyHash: exports.typeforce.UInt8,\n  scriptHash: exports.typeforce.UInt8,\n  wif: exports.typeforce.UInt8,\n});\nexports.Buffer256bit = exports.typeforce.BufferN(32);\nexports.Array = exports.typeforce.Array;\nexports.Boolean = exports.typeforce.Boolean; // tslint:disable-line variable-name\nexports.maybe = exports.typeforce.maybe;\n","var assert = require('assert')\nvar BigInteger = require('bigi')\n\nvar Point = require('./point')\n\nfunction Curve (p, a, b, Gx, Gy, n, h) {\n  this.p = p\n  this.a = a\n  this.b = b\n  this.G = Point.fromAffine(this, Gx, Gy)\n  this.n = n\n  this.h = h\n\n  this.infinity = new Point(this, null, null, BigInteger.ZERO)\n\n  // result caching\n  this.pOverFour = p.add(BigInteger.ONE).shiftRight(2)\n\n  // determine size of p in bytes\n  this.pLength = Math.floor((this.p.bitLength() + 7) / 8)\n}\n\nCurve.prototype.pointFromX = function (isOdd, x) {\n  var alpha = x.pow(3).add(this.a.multiply(x)).add(this.b).mod(this.p)\n  var beta = alpha.modPow(this.pOverFour, this.p) // XXX: not compatible with all curves\n\n  var y = beta\n  if (beta.isEven() ^ !isOdd) {\n    y = this.p.subtract(y) // -y % p\n  }\n\n  return Point.fromAffine(this, x, y)\n}\n\nCurve.prototype.isInfinity = function (Q) {\n  if (Q === this.infinity) return true\n\n  return Q.z.signum() === 0 && Q.y.signum() !== 0\n}\n\nCurve.prototype.isOnCurve = function (Q) {\n  if (this.isInfinity(Q)) return true\n\n  var x = Q.affineX\n  var y = Q.affineY\n  var a = this.a\n  var b = this.b\n  var p = this.p\n\n  // Check that xQ and yQ are integers in the interval [0, p - 1]\n  if (x.signum() < 0 || x.compareTo(p) >= 0) return false\n  if (y.signum() < 0 || y.compareTo(p) >= 0) return false\n\n  // and check that y^2 = x^3 + ax + b (mod p)\n  var lhs = y.square().mod(p)\n  var rhs = x.pow(3).add(a.multiply(x)).add(b).mod(p)\n  return lhs.equals(rhs)\n}\n\n/**\n * Validate an elliptic curve point.\n *\n * See SEC 1, section 3.2.2.1: Elliptic Curve Public Key Validation Primitive\n */\nCurve.prototype.validate = function (Q) {\n  // Check Q != O\n  assert(!this.isInfinity(Q), 'Point is at infinity')\n  assert(this.isOnCurve(Q), 'Point is not on the curve')\n\n  // Check nQ = O (where Q is a scalar multiple of G)\n  var nQ = Q.multiply(this.n)\n  assert(this.isInfinity(nQ), 'Point is not a scalar multiple of G')\n\n  return true\n}\n\nmodule.exports = Curve\n","var Point = require('./point')\nvar Curve = require('./curve')\n\nvar getCurveByName = require('./names')\n\nmodule.exports = {\n  Curve: Curve,\n  Point: Point,\n  getCurveByName: getCurveByName\n}\n","var BigInteger = require('bigi')\n\nvar curves = require('./curves.json')\nvar Curve = require('./curve')\n\nfunction getCurveByName (name) {\n  var curve = curves[name]\n  if (!curve) return null\n\n  var p = new BigInteger(curve.p, 16)\n  var a = new BigInteger(curve.a, 16)\n  var b = new BigInteger(curve.b, 16)\n  var n = new BigInteger(curve.n, 16)\n  var h = new BigInteger(curve.h, 16)\n  var Gx = new BigInteger(curve.Gx, 16)\n  var Gy = new BigInteger(curve.Gy, 16)\n\n  return new Curve(p, a, b, Gx, Gy, n, h)\n}\n\nmodule.exports = getCurveByName\n","var assert = require('assert')\nvar Buffer = require('safe-buffer').Buffer\nvar BigInteger = require('bigi')\n\nvar THREE = BigInteger.valueOf(3)\n\nfunction Point (curve, x, y, z) {\n  assert.notStrictEqual(z, undefined, 'Missing Z coordinate')\n\n  this.curve = curve\n  this.x = x\n  this.y = y\n  this.z = z\n  this._zInv = null\n\n  this.compressed = true\n}\n\nObject.defineProperty(Point.prototype, 'zInv', {\n  get: function () {\n    if (this._zInv === null) {\n      this._zInv = this.z.modInverse(this.curve.p)\n    }\n\n    return this._zInv\n  }\n})\n\nObject.defineProperty(Point.prototype, 'affineX', {\n  get: function () {\n    return this.x.multiply(this.zInv).mod(this.curve.p)\n  }\n})\n\nObject.defineProperty(Point.prototype, 'affineY', {\n  get: function () {\n    return this.y.multiply(this.zInv).mod(this.curve.p)\n  }\n})\n\nPoint.fromAffine = function (curve, x, y) {\n  return new Point(curve, x, y, BigInteger.ONE)\n}\n\nPoint.prototype.equals = function (other) {\n  if (other === this) return true\n  if (this.curve.isInfinity(this)) return this.curve.isInfinity(other)\n  if (this.curve.isInfinity(other)) return this.curve.isInfinity(this)\n\n  // u = Y2 * Z1 - Y1 * Z2\n  var u = other.y.multiply(this.z).subtract(this.y.multiply(other.z)).mod(this.curve.p)\n\n  if (u.signum() !== 0) return false\n\n  // v = X2 * Z1 - X1 * Z2\n  var v = other.x.multiply(this.z).subtract(this.x.multiply(other.z)).mod(this.curve.p)\n\n  return v.signum() === 0\n}\n\nPoint.prototype.negate = function () {\n  var y = this.curve.p.subtract(this.y)\n\n  return new Point(this.curve, this.x, y, this.z)\n}\n\nPoint.prototype.add = function (b) {\n  if (this.curve.isInfinity(this)) return b\n  if (this.curve.isInfinity(b)) return this\n\n  var x1 = this.x\n  var y1 = this.y\n  var x2 = b.x\n  var y2 = b.y\n\n  // u = Y2 * Z1 - Y1 * Z2\n  var u = y2.multiply(this.z).subtract(y1.multiply(b.z)).mod(this.curve.p)\n  // v = X2 * Z1 - X1 * Z2\n  var v = x2.multiply(this.z).subtract(x1.multiply(b.z)).mod(this.curve.p)\n\n  if (v.signum() === 0) {\n    if (u.signum() === 0) {\n      return this.twice() // this == b, so double\n    }\n\n    return this.curve.infinity // this = -b, so infinity\n  }\n\n  var v2 = v.square()\n  var v3 = v2.multiply(v)\n  var x1v2 = x1.multiply(v2)\n  var zu2 = u.square().multiply(this.z)\n\n  // x3 = v * (z2 * (z1 * u^2 - 2 * x1 * v^2) - v^3)\n  var x3 = zu2.subtract(x1v2.shiftLeft(1)).multiply(b.z).subtract(v3).multiply(v).mod(this.curve.p)\n  // y3 = z2 * (3 * x1 * u * v^2 - y1 * v^3 - z1 * u^3) + u * v^3\n  var y3 = x1v2.multiply(THREE).multiply(u).subtract(y1.multiply(v3)).subtract(zu2.multiply(u)).multiply(b.z).add(u.multiply(v3)).mod(this.curve.p)\n  // z3 = v^3 * z1 * z2\n  var z3 = v3.multiply(this.z).multiply(b.z).mod(this.curve.p)\n\n  return new Point(this.curve, x3, y3, z3)\n}\n\nPoint.prototype.twice = function () {\n  if (this.curve.isInfinity(this)) return this\n  if (this.y.signum() === 0) return this.curve.infinity\n\n  var x1 = this.x\n  var y1 = this.y\n\n  var y1z1 = y1.multiply(this.z).mod(this.curve.p)\n  var y1sqz1 = y1z1.multiply(y1).mod(this.curve.p)\n  var a = this.curve.a\n\n  // w = 3 * x1^2 + a * z1^2\n  var w = x1.square().multiply(THREE)\n\n  if (a.signum() !== 0) {\n    w = w.add(this.z.square().multiply(a))\n  }\n\n  w = w.mod(this.curve.p)\n  // x3 = 2 * y1 * z1 * (w^2 - 8 * x1 * y1^2 * z1)\n  var x3 = w.square().subtract(x1.shiftLeft(3).multiply(y1sqz1)).shiftLeft(1).multiply(y1z1).mod(this.curve.p)\n  // y3 = 4 * y1^2 * z1 * (3 * w * x1 - 2 * y1^2 * z1) - w^3\n  var y3 = w.multiply(THREE).multiply(x1).subtract(y1sqz1.shiftLeft(1)).shiftLeft(2).multiply(y1sqz1).subtract(w.pow(3)).mod(this.curve.p)\n  // z3 = 8 * (y1 * z1)^3\n  var z3 = y1z1.pow(3).shiftLeft(3).mod(this.curve.p)\n\n  return new Point(this.curve, x3, y3, z3)\n}\n\n// Simple NAF (Non-Adjacent Form) multiplication algorithm\n// TODO: modularize the multiplication algorithm\nPoint.prototype.multiply = function (k) {\n  if (this.curve.isInfinity(this)) return this\n  if (k.signum() === 0) return this.curve.infinity\n\n  var e = k\n  var h = e.multiply(THREE)\n\n  var neg = this.negate()\n  var R = this\n\n  for (var i = h.bitLength() - 2; i > 0; --i) {\n    var hBit = h.testBit(i)\n    var eBit = e.testBit(i)\n\n    R = R.twice()\n\n    if (hBit !== eBit) {\n      R = R.add(hBit ? this : neg)\n    }\n  }\n\n  return R\n}\n\n// Compute this*j + x*k (simultaneous multiplication)\nPoint.prototype.multiplyTwo = function (j, x, k) {\n  var i = Math.max(j.bitLength(), k.bitLength()) - 1\n  var R = this.curve.infinity\n  var both = this.add(x)\n\n  while (i >= 0) {\n    var jBit = j.testBit(i)\n    var kBit = k.testBit(i)\n\n    R = R.twice()\n\n    if (jBit) {\n      if (kBit) {\n        R = R.add(both)\n      } else {\n        R = R.add(this)\n      }\n    } else if (kBit) {\n      R = R.add(x)\n    }\n    --i\n  }\n\n  return R\n}\n\nPoint.prototype.getEncoded = function (compressed) {\n  if (compressed == null) compressed = this.compressed\n  if (this.curve.isInfinity(this)) return Buffer.alloc(1, 0) // Infinity point encoded is simply '00'\n\n  var x = this.affineX\n  var y = this.affineY\n  var byteLength = this.curve.pLength\n  var buffer\n\n  // 0x02/0x03 | X\n  if (compressed) {\n    buffer = Buffer.allocUnsafe(1 + byteLength)\n    buffer.writeUInt8(y.isEven() ? 0x02 : 0x03, 0)\n\n  // 0x04 | X | Y\n  } else {\n    buffer = Buffer.allocUnsafe(1 + byteLength + byteLength)\n    buffer.writeUInt8(0x04, 0)\n\n    y.toBuffer(byteLength).copy(buffer, 1 + byteLength)\n  }\n\n  x.toBuffer(byteLength).copy(buffer, 1)\n\n  return buffer\n}\n\nPoint.decodeFrom = function (curve, buffer) {\n  var type = buffer.readUInt8(0)\n  var compressed = (type !== 4)\n\n  var byteLength = Math.floor((curve.p.bitLength() + 7) / 8)\n  var x = BigInteger.fromBuffer(buffer.slice(1, 1 + byteLength))\n\n  var Q\n  if (compressed) {\n    assert.equal(buffer.length, byteLength + 1, 'Invalid sequence length')\n    assert(type === 0x02 || type === 0x03, 'Invalid sequence tag')\n\n    var isOdd = (type === 0x03)\n    Q = curve.pointFromX(isOdd, x)\n  } else {\n    assert.equal(buffer.length, 1 + byteLength + byteLength, 'Invalid sequence length')\n\n    var y = BigInteger.fromBuffer(buffer.slice(1 + byteLength))\n    Q = Point.fromAffine(curve, x, y)\n  }\n\n  Q.compressed = compressed\n  return Q\n}\n\nPoint.prototype.toString = function () {\n  if (this.curve.isInfinity(this)) return '(INFINITY)'\n\n  return '(' + this.affineX.toString() + ',' + this.affineY.toString() + ')'\n}\n\nmodule.exports = Point\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\n/** @type {import('.')} */\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;\nvar badArrayLike;\nvar isCallableMarker;\nif (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {\n\ttry {\n\t\tbadArrayLike = Object.defineProperty({}, 'length', {\n\t\t\tget: function () {\n\t\t\t\tthrow isCallableMarker;\n\t\t\t}\n\t\t});\n\t\tisCallableMarker = {};\n\t\t// eslint-disable-next-line no-throw-literal\n\t\treflectApply(function () { throw 42; }, null, badArrayLike);\n\t} catch (_) {\n\t\tif (_ !== isCallableMarker) {\n\t\t\treflectApply = null;\n\t\t}\n\t}\n} else {\n\treflectApply = null;\n}\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar objectClass = '[object Object]';\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar ddaClass = '[object HTMLAllCollection]'; // IE 11\nvar ddaClass2 = '[object HTML document.all class]';\nvar ddaClass3 = '[object HTMLCollection]'; // IE 9-10\nvar hasToStringTag = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`\n\nvar isIE68 = !(0 in [,]); // eslint-disable-line no-sparse-arrays, comma-spacing\n\nvar isDDA = function isDocumentDotAll() { return false; };\nif (typeof document === 'object') {\n\t// Firefox 3 canonicalizes DDA to undefined when it's not accessed directly\n\tvar all = document.all;\n\tif (toStr.call(all) === toStr.call(document.all)) {\n\t\tisDDA = function isDocumentDotAll(value) {\n\t\t\t/* globals document: false */\n\t\t\t// in IE 6-8, typeof document.all is \"object\" and it's truthy\n\t\t\tif ((isIE68 || !value) && (typeof value === 'undefined' || typeof value === 'object')) {\n\t\t\t\ttry {\n\t\t\t\t\tvar str = toStr.call(value);\n\t\t\t\t\treturn (\n\t\t\t\t\t\tstr === ddaClass\n\t\t\t\t\t\t|| str === ddaClass2\n\t\t\t\t\t\t|| str === ddaClass3 // opera 12.16\n\t\t\t\t\t\t|| str === objectClass // IE 6-8\n\t\t\t\t\t) && value('') == null; // eslint-disable-line eqeqeq\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n}\n\nmodule.exports = reflectApply\n\t? function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\ttry {\n\t\t\treflectApply(value, null, badArrayLike);\n\t\t} catch (e) {\n\t\t\tif (e !== isCallableMarker) { return false; }\n\t\t}\n\t\treturn !isES6ClassFn(value) && tryFunctionObject(value);\n\t}\n\t: function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (hasToStringTag) { return tryFunctionObject(value); }\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tvar strClass = toStr.call(value);\n\t\tif (strClass !== fnClass && strClass !== genClass && !(/^\\[object HTML/).test(strClass)) { return false; }\n\t\treturn tryFunctionObject(value);\n\t};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar GeneratorFunction;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","'use strict';\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function isNaN(value) {\n\treturn value !== value;\n};\n","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Number);\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {\n\t\treturn Number.isNaN;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function shimNumberIsNaN() {\n\tvar polyfill = getPolyfill();\n\tdefine(Number, { isNaN: polyfill }, {\n\t\tisNaN: function testIsNaN() {\n\t\t\treturn Number.isNaN !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar whichTypedArray = require('which-typed-array');\n\n/** @type {import('.')} */\nmodule.exports = function isTypedArray(value) {\n\treturn !!whichTypedArray(value);\n};\n","// constant-space merkle root calculation algorithm\nmodule.exports = function fastRoot (values, digestFn) {\n  if (!Array.isArray(values)) throw TypeError('Expected values Array')\n  if (typeof digestFn !== 'function') throw TypeError('Expected digest Function')\n\n  var length = values.length\n  var results = values.concat()\n\n  while (length > 1) {\n    var j = 0\n\n    for (var i = 0; i < length; i += 2, ++j) {\n      var left = results[i]\n      var right = i + 1 === length ? left : results[i + 1]\n      var data = Buffer.concat([left, right])\n\n      results[j] = digestFn(data)\n    }\n\n    length = j\n  }\n\n  return results[0]\n}\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\n// modified from https://github.com/es-shims/es6-shim\nvar objectKeys = require('object-keys');\nvar hasSymbols = require('has-symbols/shams')();\nvar callBound = require('call-bind/callBound');\nvar toObject = Object;\nvar $push = callBound('Array.prototype.push');\nvar $propIsEnumerable = callBound('Object.prototype.propertyIsEnumerable');\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function assign(target, source1) {\n\tif (target == null) { throw new TypeError('target must be an object'); }\n\tvar to = toObject(target); // step 1\n\tif (arguments.length === 1) {\n\t\treturn to; // step 2\n\t}\n\tfor (var s = 1; s < arguments.length; ++s) {\n\t\tvar from = toObject(arguments[s]); // step 3.a.i\n\n\t\t// step 3.a.ii:\n\t\tvar keys = objectKeys(from);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tvar syms = getSymbols(from);\n\t\t\tfor (var j = 0; j < syms.length; ++j) {\n\t\t\t\tvar key = syms[j];\n\t\t\t\tif ($propIsEnumerable(from, key)) {\n\t\t\t\t\t$push(keys, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// step 3.a.iii:\n\t\tfor (var i = 0; i < keys.length; ++i) {\n\t\t\tvar nextKey = keys[i];\n\t\t\tif ($propIsEnumerable(from, nextKey)) { // step 3.a.iii.2\n\t\t\t\tvar propValue = from[nextKey]; // step 3.a.iii.2.a\n\t\t\t\tto[nextKey] = propValue; // step 3.a.iii.2.b\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to; // step 4\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t/*\n\t * v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t * note: this does not detect the bug unless there's 20 characters\n\t */\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t/*\n\t * Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t * which is 72% slower than our shim, and Firefox 40's native implementation.\n\t */\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n","'use strict';\n\n/** @type {import('.')} */\nmodule.exports = [\n\t'Float32Array',\n\t'Float64Array',\n\t'Int8Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'BigInt64Array',\n\t'BigUint64Array'\n];\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n","var native = require('./native')\n\nfunction getTypeName (fn) {\n  return fn.name || fn.toString().match(/function (.*?)\\s*\\(/)[1]\n}\n\nfunction getValueTypeName (value) {\n  return native.Nil(value) ? '' : getTypeName(value.constructor)\n}\n\nfunction getValue (value) {\n  if (native.Function(value)) return ''\n  if (native.String(value)) return JSON.stringify(value)\n  if (value && native.Object(value)) return ''\n  return value\n}\n\nfunction captureStackTrace (e, t) {\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(e, t)\n  }\n}\n\nfunction tfJSON (type) {\n  if (native.Function(type)) return type.toJSON ? type.toJSON() : getTypeName(type)\n  if (native.Array(type)) return 'Array'\n  if (type && native.Object(type)) return 'Object'\n\n  return type !== undefined ? type : ''\n}\n\nfunction tfErrorString (type, value, valueTypeName) {\n  var valueJson = getValue(value)\n\n  return 'Expected ' + tfJSON(type) + ', got' +\n    (valueTypeName !== '' ? ' ' + valueTypeName : '') +\n    (valueJson !== '' ? ' ' + valueJson : '')\n}\n\nfunction TfTypeError (type, value, valueTypeName) {\n  valueTypeName = valueTypeName || getValueTypeName(value)\n  this.message = tfErrorString(type, value, valueTypeName)\n\n  captureStackTrace(this, TfTypeError)\n  this.__type = type\n  this.__value = value\n  this.__valueTypeName = valueTypeName\n}\n\nTfTypeError.prototype = Object.create(Error.prototype)\nTfTypeError.prototype.constructor = TfTypeError\n\nfunction tfPropertyErrorString (type, label, name, value, valueTypeName) {\n  var description = '\" of type '\n  if (label === 'key') description = '\" with key type '\n\n  return tfErrorString('property \"' + tfJSON(name) + description + tfJSON(type), value, valueTypeName)\n}\n\nfunction TfPropertyTypeError (type, property, label, value, valueTypeName) {\n  if (type) {\n    valueTypeName = valueTypeName || getValueTypeName(value)\n    this.message = tfPropertyErrorString(type, label, property, value, valueTypeName)\n  } else {\n    this.message = 'Unexpected property \"' + property + '\"'\n  }\n\n  captureStackTrace(this, TfTypeError)\n  this.__label = label\n  this.__property = property\n  this.__type = type\n  this.__value = value\n  this.__valueTypeName = valueTypeName\n}\n\nTfPropertyTypeError.prototype = Object.create(Error.prototype)\nTfPropertyTypeError.prototype.constructor = TfTypeError\n\nfunction tfCustomError (expected, actual) {\n  return new TfTypeError(expected, {}, actual)\n}\n\nfunction tfSubError (e, property, label) {\n  // sub child?\n  if (e instanceof TfPropertyTypeError) {\n    property = property + '.' + e.__property\n\n    e = new TfPropertyTypeError(\n      e.__type, property, e.__label, e.__value, e.__valueTypeName\n    )\n\n  // child?\n  } else if (e instanceof TfTypeError) {\n    e = new TfPropertyTypeError(\n      e.__type, property, label, e.__value, e.__valueTypeName\n    )\n  }\n\n  captureStackTrace(e)\n  return e\n}\n\nmodule.exports = {\n  TfTypeError: TfTypeError,\n  TfPropertyTypeError: TfPropertyTypeError,\n  tfCustomError: tfCustomError,\n  tfSubError: tfSubError,\n  tfJSON: tfJSON,\n  getValueTypeName: getValueTypeName\n}\n","var NATIVE = require('./native')\nvar ERRORS = require('./errors')\n\nfunction _Buffer (value) {\n  return Buffer.isBuffer(value)\n}\n\nfunction Hex (value) {\n  return typeof value === 'string' && /^([0-9a-f]{2})+$/i.test(value)\n}\n\nfunction _LengthN (type, length) {\n  var name = type.toJSON()\n\n  function Length (value) {\n    if (!type(value)) return false\n    if (value.length === length) return true\n\n    throw ERRORS.tfCustomError(name + '(Length: ' + length + ')', name + '(Length: ' + value.length + ')')\n  }\n  Length.toJSON = function () { return name }\n\n  return Length\n}\n\nvar _ArrayN = _LengthN.bind(null, NATIVE.Array)\nvar _BufferN = _LengthN.bind(null, _Buffer)\nvar _HexN = _LengthN.bind(null, Hex)\nvar _StringN = _LengthN.bind(null, NATIVE.String)\n\nfunction Range (a, b, f) {\n  f = f || NATIVE.Number\n  function _range (value, strict) {\n    return f(value, strict) && (value > a) && (value < b)\n  }\n  _range.toJSON = function () {\n    return `${f.toJSON()} between [${a}, ${b}]`\n  }\n  return _range\n}\n\nvar INT53_MAX = Math.pow(2, 53) - 1\n\nfunction Finite (value) {\n  return typeof value === 'number' && isFinite(value)\n}\nfunction Int8 (value) { return ((value << 24) >> 24) === value }\nfunction Int16 (value) { return ((value << 16) >> 16) === value }\nfunction Int32 (value) { return (value | 0) === value }\nfunction Int53 (value) {\n  return typeof value === 'number' &&\n    value >= -INT53_MAX &&\n    value <= INT53_MAX &&\n    Math.floor(value) === value\n}\nfunction UInt8 (value) { return (value & 0xff) === value }\nfunction UInt16 (value) { return (value & 0xffff) === value }\nfunction UInt32 (value) { return (value >>> 0) === value }\nfunction UInt53 (value) {\n  return typeof value === 'number' &&\n    value >= 0 &&\n    value <= INT53_MAX &&\n    Math.floor(value) === value\n}\n\nvar types = {\n  ArrayN: _ArrayN,\n  Buffer: _Buffer,\n  BufferN: _BufferN,\n  Finite: Finite,\n  Hex: Hex,\n  HexN: _HexN,\n  Int8: Int8,\n  Int16: Int16,\n  Int32: Int32,\n  Int53: Int53,\n  Range: Range,\n  StringN: _StringN,\n  UInt8: UInt8,\n  UInt16: UInt16,\n  UInt32: UInt32,\n  UInt53: UInt53\n}\n\nfor (var typeName in types) {\n  types[typeName].toJSON = function (t) {\n    return t\n  }.bind(null, typeName)\n}\n\nmodule.exports = types\n","var ERRORS = require('./errors')\nvar NATIVE = require('./native')\n\n// short-hand\nvar tfJSON = ERRORS.tfJSON\nvar TfTypeError = ERRORS.TfTypeError\nvar TfPropertyTypeError = ERRORS.TfPropertyTypeError\nvar tfSubError = ERRORS.tfSubError\nvar getValueTypeName = ERRORS.getValueTypeName\n\nvar TYPES = {\n  arrayOf: function arrayOf (type, options) {\n    type = compile(type)\n    options = options || {}\n\n    function _arrayOf (array, strict) {\n      if (!NATIVE.Array(array)) return false\n      if (NATIVE.Nil(array)) return false\n      if (options.minLength !== undefined && array.length < options.minLength) return false\n      if (options.maxLength !== undefined && array.length > options.maxLength) return false\n      if (options.length !== undefined && array.length !== options.length) return false\n\n      return array.every(function (value, i) {\n        try {\n          return typeforce(type, value, strict)\n        } catch (e) {\n          throw tfSubError(e, i)\n        }\n      })\n    }\n    _arrayOf.toJSON = function () {\n      var str = '[' + tfJSON(type) + ']'\n      if (options.length !== undefined) {\n        str += '{' + options.length + '}'\n      } else if (options.minLength !== undefined || options.maxLength !== undefined) {\n        str += '{' +\n          (options.minLength === undefined ? 0 : options.minLength) + ',' +\n          (options.maxLength === undefined ? Infinity : options.maxLength) + '}'\n      }\n      return str\n    }\n\n    return _arrayOf\n  },\n\n  maybe: function maybe (type) {\n    type = compile(type)\n\n    function _maybe (value, strict) {\n      return NATIVE.Nil(value) || type(value, strict, maybe)\n    }\n    _maybe.toJSON = function () { return '?' + tfJSON(type) }\n\n    return _maybe\n  },\n\n  map: function map (propertyType, propertyKeyType) {\n    propertyType = compile(propertyType)\n    if (propertyKeyType) propertyKeyType = compile(propertyKeyType)\n\n    function _map (value, strict) {\n      if (!NATIVE.Object(value)) return false\n      if (NATIVE.Nil(value)) return false\n\n      for (var propertyName in value) {\n        try {\n          if (propertyKeyType) {\n            typeforce(propertyKeyType, propertyName, strict)\n          }\n        } catch (e) {\n          throw tfSubError(e, propertyName, 'key')\n        }\n\n        try {\n          var propertyValue = value[propertyName]\n          typeforce(propertyType, propertyValue, strict)\n        } catch (e) {\n          throw tfSubError(e, propertyName)\n        }\n      }\n\n      return true\n    }\n\n    if (propertyKeyType) {\n      _map.toJSON = function () {\n        return '{' + tfJSON(propertyKeyType) + ': ' + tfJSON(propertyType) + '}'\n      }\n    } else {\n      _map.toJSON = function () { return '{' + tfJSON(propertyType) + '}' }\n    }\n\n    return _map\n  },\n\n  object: function object (uncompiled) {\n    var type = {}\n\n    for (var typePropertyName in uncompiled) {\n      type[typePropertyName] = compile(uncompiled[typePropertyName])\n    }\n\n    function _object (value, strict) {\n      if (!NATIVE.Object(value)) return false\n      if (NATIVE.Nil(value)) return false\n\n      var propertyName\n\n      try {\n        for (propertyName in type) {\n          var propertyType = type[propertyName]\n          var propertyValue = value[propertyName]\n\n          typeforce(propertyType, propertyValue, strict)\n        }\n      } catch (e) {\n        throw tfSubError(e, propertyName)\n      }\n\n      if (strict) {\n        for (propertyName in value) {\n          if (type[propertyName]) continue\n\n          throw new TfPropertyTypeError(undefined, propertyName)\n        }\n      }\n\n      return true\n    }\n    _object.toJSON = function () { return tfJSON(type) }\n\n    return _object\n  },\n\n  anyOf: function anyOf () {\n    var types = [].slice.call(arguments).map(compile)\n\n    function _anyOf (value, strict) {\n      return types.some(function (type) {\n        try {\n          return typeforce(type, value, strict)\n        } catch (e) {\n          return false\n        }\n      })\n    }\n    _anyOf.toJSON = function () { return types.map(tfJSON).join('|') }\n\n    return _anyOf\n  },\n\n  allOf: function allOf () {\n    var types = [].slice.call(arguments).map(compile)\n\n    function _allOf (value, strict) {\n      return types.every(function (type) {\n        try {\n          return typeforce(type, value, strict)\n        } catch (e) {\n          return false\n        }\n      })\n    }\n    _allOf.toJSON = function () { return types.map(tfJSON).join(' & ') }\n\n    return _allOf\n  },\n\n  quacksLike: function quacksLike (type) {\n    function _quacksLike (value) {\n      return type === getValueTypeName(value)\n    }\n    _quacksLike.toJSON = function () { return type }\n\n    return _quacksLike\n  },\n\n  tuple: function tuple () {\n    var types = [].slice.call(arguments).map(compile)\n\n    function _tuple (values, strict) {\n      if (NATIVE.Nil(values)) return false\n      if (NATIVE.Nil(values.length)) return false\n      if (strict && (values.length !== types.length)) return false\n\n      return types.every(function (type, i) {\n        try {\n          return typeforce(type, values[i], strict)\n        } catch (e) {\n          throw tfSubError(e, i)\n        }\n      })\n    }\n    _tuple.toJSON = function () { return '(' + types.map(tfJSON).join(', ') + ')' }\n\n    return _tuple\n  },\n\n  value: function value (expected) {\n    function _value (actual) {\n      return actual === expected\n    }\n    _value.toJSON = function () { return expected }\n\n    return _value\n  }\n}\n\n// TODO: deprecate\nTYPES.oneOf = TYPES.anyOf\n\nfunction compile (type) {\n  if (NATIVE.String(type)) {\n    if (type[0] === '?') return TYPES.maybe(type.slice(1))\n\n    return NATIVE[type] || TYPES.quacksLike(type)\n  } else if (type && NATIVE.Object(type)) {\n    if (NATIVE.Array(type)) {\n      if (type.length !== 1) throw new TypeError('Expected compile() parameter of type Array of length 1')\n      return TYPES.arrayOf(type[0])\n    }\n\n    return TYPES.object(type)\n  } else if (NATIVE.Function(type)) {\n    return type\n  }\n\n  return TYPES.value(type)\n}\n\nfunction typeforce (type, value, strict, surrogate) {\n  if (NATIVE.Function(type)) {\n    if (type(value, strict)) return true\n\n    throw new TfTypeError(surrogate || type, value)\n  }\n\n  // JIT\n  return typeforce(compile(type), value, strict)\n}\n\n// assign types to typeforce function\nfor (var typeName in NATIVE) {\n  typeforce[typeName] = NATIVE[typeName]\n}\n\nfor (typeName in TYPES) {\n  typeforce[typeName] = TYPES[typeName]\n}\n\nvar EXTRA = require('./extra')\nfor (typeName in EXTRA) {\n  typeforce[typeName] = EXTRA[typeName]\n}\n\ntypeforce.compile = compile\ntypeforce.TfTypeError = TfTypeError\ntypeforce.TfPropertyTypeError = TfPropertyTypeError\n\nmodule.exports = typeforce\n","var types = {\n  Array: function (value) { return value !== null && value !== undefined && value.constructor === Array },\n  Boolean: function (value) { return typeof value === 'boolean' },\n  Function: function (value) { return typeof value === 'function' },\n  Nil: function (value) { return value === undefined || value === null },\n  Number: function (value) { return typeof value === 'number' },\n  Object: function (value) { return typeof value === 'object' },\n  String: function (value) { return typeof value === 'string' },\n  '': function () { return true }\n}\n\n// TODO: deprecate\ntypes.Null = types.Nil\n\nfor (var typeName in types) {\n  types[typeName].toJSON = function (t) {\n    return t\n  }.bind(null, typeName)\n}\n\nmodule.exports = types\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').slice(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.slice(1, -1);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\n\n// Number.MAX_SAFE_INTEGER\nvar MAX_SAFE_INTEGER = 9007199254740991\n\nfunction checkUInt53 (n) {\n  if (n < 0 || n > MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\n}\n\nfunction encode (number, buffer, offset) {\n  checkUInt53(number)\n\n  if (!buffer) buffer = Buffer.allocUnsafe(encodingLength(number))\n  if (!Buffer.isBuffer(buffer)) throw new TypeError('buffer must be a Buffer instance')\n  if (!offset) offset = 0\n\n  // 8 bit\n  if (number < 0xfd) {\n    buffer.writeUInt8(number, offset)\n    encode.bytes = 1\n\n  // 16 bit\n  } else if (number <= 0xffff) {\n    buffer.writeUInt8(0xfd, offset)\n    buffer.writeUInt16LE(number, offset + 1)\n    encode.bytes = 3\n\n  // 32 bit\n  } else if (number <= 0xffffffff) {\n    buffer.writeUInt8(0xfe, offset)\n    buffer.writeUInt32LE(number, offset + 1)\n    encode.bytes = 5\n\n  // 64 bit\n  } else {\n    buffer.writeUInt8(0xff, offset)\n    buffer.writeUInt32LE(number >>> 0, offset + 1)\n    buffer.writeUInt32LE((number / 0x100000000) | 0, offset + 5)\n    encode.bytes = 9\n  }\n\n  return buffer\n}\n\nfunction decode (buffer, offset) {\n  if (!Buffer.isBuffer(buffer)) throw new TypeError('buffer must be a Buffer instance')\n  if (!offset) offset = 0\n\n  var first = buffer.readUInt8(offset)\n\n  // 8 bit\n  if (first < 0xfd) {\n    decode.bytes = 1\n    return first\n\n  // 16 bit\n  } else if (first === 0xfd) {\n    decode.bytes = 3\n    return buffer.readUInt16LE(offset + 1)\n\n  // 32 bit\n  } else if (first === 0xfe) {\n    decode.bytes = 5\n    return buffer.readUInt32LE(offset + 1)\n\n  // 64 bit\n  } else {\n    decode.bytes = 9\n    var lo = buffer.readUInt32LE(offset + 1)\n    var hi = buffer.readUInt32LE(offset + 5)\n    var number = hi * 0x0100000000 + lo\n    checkUInt53(number)\n\n    return number\n  }\n}\n\nfunction encodingLength (number) {\n  checkUInt53(number)\n\n  return (\n    number < 0xfd ? 1\n      : number <= 0xffff ? 3\n        : number <= 0xffffffff ? 5\n          : 9\n  )\n}\n\nmodule.exports = { encode: encode, decode: decode, encodingLength: encodingLength }\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBind = require('call-bind');\nvar callBound = require('call-bind/callBound');\nvar gOPD = require('gopd');\n\n/** @type {(O: object) => string} */\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\n\n/** @type {<T = unknown>(array: readonly T[], value: unknown) => number} */\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\n\n/** @typedef {(receiver: import('.').TypedArray) => string | typeof Uint8Array.prototype.slice.call | typeof Uint8Array.prototype.set.call} Getter */\n/** @type {{ [k in `\\$${import('.').TypedArrayName}`]?: Getter } & { __proto__: null }} */\nvar cache = { __proto__: null };\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t// @ts-expect-error TS won't narrow inside a closure\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t// @ts-expect-error TS won't narrow inside a closure\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\t// @ts-expect-error TODO: fix\n\t\t\tcache['$' + typedArray] = callBind(descriptor.get);\n\t\t}\n\t});\n} else {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tvar fn = arr.slice || arr.set;\n\t\tif (fn) {\n\t\t\t// @ts-expect-error TODO: fix\n\t\t\tcache['$' + typedArray] = callBind(fn);\n\t\t}\n\t});\n}\n\n/** @type {(value: object) => false | import('.').TypedArrayName} */\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\t/** @type {ReturnType<typeof tryAllTypedArrays>} */ var found = false;\n\tforEach(\n\t\t// eslint-disable-next-line no-extra-parens\n\t\t/** @type {Record<`\\$${TypedArrayName}`, Getter>} */ /** @type {any} */ (cache),\n\t\t/** @type {(getter: Getter, name: `\\$${import('.').TypedArrayName}`) => void} */\n\t\tfunction (getter, typedArray) {\n\t\t\tif (!found) {\n\t\t\t\ttry {\n\t\t\t\t// @ts-expect-error TODO: fix\n\t\t\t\t\tif ('$' + getter(value) === typedArray) {\n\t\t\t\t\t\tfound = $slice(typedArray, 1);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t}\n\t);\n\treturn found;\n};\n\n/** @type {(value: object) => false | import('.').TypedArrayName} */\nvar trySlices = function tryAllSlices(value) {\n\t/** @type {ReturnType<typeof tryAllSlices>} */ var found = false;\n\tforEach(\n\t\t// eslint-disable-next-line no-extra-parens\n\t\t/** @type {Record<`\\$${TypedArrayName}`, Getter>} */ /** @type {any} */ (cache),\n\t\t/** @type {(getter: typeof cache, name: `\\$${import('.').TypedArrayName}`) => void} */ function (getter, name) {\n\t\t\tif (!found) {\n\t\t\t\ttry {\n\t\t\t\t\t// @ts-expect-error TODO: fix\n\t\t\t\t\tgetter(value);\n\t\t\t\t\tfound = $slice(name, 1);\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t}\n\t);\n\treturn found;\n};\n\n/** @type {import('.')} */\nmodule.exports = function whichTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\t/** @type {string} */\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\tif ($indexOf(typedArrays, tag) > -1) {\n\t\t\treturn tag;\n\t\t}\n\t\tif (tag !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\t// node < 0.6 hits here on real Typed Arrays\n\t\treturn trySlices(value);\n\t}\n\tif (!gOPD) { return null; } // unknown engine\n\treturn tryTypedArrays(value);\n};\n","var bs58check = require('bs58check')\n\nfunction decodeRaw (buffer, version) {\n  // check version only if defined\n  if (version !== undefined && buffer[0] !== version) throw new Error('Invalid network version')\n\n  // uncompressed\n  if (buffer.length === 33) {\n    return {\n      version: buffer[0],\n      privateKey: buffer.slice(1, 33),\n      compressed: false\n    }\n  }\n\n  // invalid length\n  if (buffer.length !== 34) throw new Error('Invalid WIF length')\n\n  // invalid compression flag\n  if (buffer[33] !== 0x01) throw new Error('Invalid compression flag')\n\n  return {\n    version: buffer[0],\n    privateKey: buffer.slice(1, 33),\n    compressed: true\n  }\n}\n\nfunction encodeRaw (version, privateKey, compressed) {\n  var result = new Buffer(compressed ? 34 : 33)\n\n  result.writeUInt8(version, 0)\n  privateKey.copy(result, 1)\n\n  if (compressed) {\n    result[33] = 0x01\n  }\n\n  return result\n}\n\nfunction decode (string, version) {\n  return decodeRaw(bs58check.decode(string), version)\n}\n\nfunction encode (version, privateKey, compressed) {\n  if (typeof version === 'number') return bs58check.encode(encodeRaw(version, privateKey, compressed))\n\n  return bs58check.encode(\n    encodeRaw(\n      version.version,\n      version.privateKey,\n      version.compressed\n    )\n  )\n}\n\nmodule.exports = {\n  decode: decode,\n  decodeRaw: decodeRaw,\n  encode: encode,\n  encodeRaw: encodeRaw\n}\n","'use strict'\n\nvar base58 = require('bs58')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function (checksumFn) {\n  // Encode a buffer as a base58-check encoded string\n  function encode (payload) {\n    var checksum = checksumFn(payload)\n\n    return base58.encode(Buffer.concat([\n      payload,\n      checksum\n    ], payload.length + 4))\n  }\n\n  function decodeRaw (buffer) {\n    var payload = buffer.slice(0, -4)\n    var checksum = buffer.slice(-4)\n    var newChecksum = checksumFn(payload)\n\n    if (checksum[0] ^ newChecksum[0] |\n        checksum[1] ^ newChecksum[1] |\n        checksum[2] ^ newChecksum[2] |\n        checksum[3] ^ newChecksum[3]) return\n\n    return payload\n  }\n\n  // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\n  function decodeUnsafe (string) {\n    var buffer = base58.decodeUnsafe(string)\n    if (!buffer) return\n\n    return decodeRaw(buffer)\n  }\n\n  function decode (string) {\n    var buffer = base58.decode(string)\n    var payload = decodeRaw(buffer, checksumFn)\n    if (!payload) throw new Error('Invalid checksum')\n    return payload\n  }\n\n  return {\n    encode: encode,\n    decode: decode,\n    decodeUnsafe: decodeUnsafe\n  }\n}\n","'use strict'\n\nvar createHash = require('create-hash')\nvar bs58checkBase = require('./base')\n\n// SHA256(SHA256(buffer))\nfunction sha256x2 (buffer) {\n  var tmp = createHash('sha256').update(buffer).digest()\n  return createHash('sha256').update(tmp).digest()\n}\n\nmodule.exports = bs58checkBase(sha256x2)\n","'use strict';\n\nvar possibleNames = require('possible-typed-array-names');\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\n/** @type {import('.')} */\nmodule.exports = function availableTypedArrays() {\n\tvar /** @type {ReturnType<typeof availableTypedArrays>} */ out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\t// @ts-expect-error\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","import { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, CHash, Input, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    assertHash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    pad.fill(0);\n  }\n  update(buf: Input) {\n    assertExists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assertExists(this);\n    assertBytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest() {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  destroy() {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n","import { hash as assertHash, number as assertNumber } from './_assert.js';\nimport { hmac } from './hmac.js';\nimport { Hash, CHash, Input, createView, toBytes, checkOpts, asyncLoop } from './utils.js';\n\n// PBKDF (RFC 2898)\nexport type Pbkdf2Opt = {\n  c: number; // Iterations\n  dkLen?: number; // Desired key length in bytes (Intended output length in octets of the derived key\n  asyncTick?: number; // Maximum time in ms for which async function can block execution\n};\n// Common prologue and epilogue for sync/async functions\nfunction pbkdf2Init(hash: CHash, _password: Input, _salt: Input, _opts: Pbkdf2Opt) {\n  assertHash(hash);\n  const opts = checkOpts({ dkLen: 32, asyncTick: 10 }, _opts);\n  const { c, dkLen, asyncTick } = opts;\n  assertNumber(c);\n  assertNumber(dkLen);\n  assertNumber(asyncTick);\n  if (c < 1) throw new Error('PBKDF2: iterations (c) should be >= 1');\n  const password = toBytes(_password);\n  const salt = toBytes(_salt);\n  // DK = PBKDF2(PRF, Password, Salt, c, dkLen);\n  const DK = new Uint8Array(dkLen);\n  // U1 = PRF(Password, Salt + INT_32_BE(i))\n  const PRF = hmac.create(hash, password);\n  const PRFSalt = PRF._cloneInto().update(salt);\n  return { c, dkLen, asyncTick, DK, PRF, PRFSalt };\n}\n\nfunction pbkdf2Output<T extends Hash<T>>(\n  PRF: Hash<T>,\n  PRFSalt: Hash<T>,\n  DK: Uint8Array,\n  prfW: Hash<T>,\n  u: Uint8Array\n) {\n  PRF.destroy();\n  PRFSalt.destroy();\n  if (prfW) prfW.destroy();\n  u.fill(0);\n  return DK;\n}\n\n/**\n * PBKDF2-HMAC: RFC 2898 key derivation function\n * @param hash - hash function that would be used e.g. sha256\n * @param password - password from which a derived key is generated\n * @param salt - cryptographic salt\n * @param opts - {c, dkLen} where c is work factor and dkLen is output message size\n */\nexport function pbkdf2(hash: CHash, password: Input, salt: Input, opts: Pbkdf2Opt) {\n  const { c, dkLen, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n  let prfW: any; // Working copy\n  const arr = new Uint8Array(4);\n  const view = createView(arr);\n  const u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 + ⋯ + Tdklen/hlen\n  for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    const Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^ ⋯ ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    for (let ui = 1; ui < c; ui++) {\n      // Uc = PRF(Password, Uc−1)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (let i = 0; i < Ti.length; i++) Ti[i] ^= u[i];\n    }\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n\nexport async function pbkdf2Async(hash: CHash, password: Input, salt: Input, opts: Pbkdf2Opt) {\n  const { c, dkLen, asyncTick, DK, PRF, PRFSalt } = pbkdf2Init(hash, password, salt, opts);\n  let prfW: any; // Working copy\n  const arr = new Uint8Array(4);\n  const view = createView(arr);\n  const u = new Uint8Array(PRF.outputLen);\n  // DK = T1 + T2 + ⋯ + Tdklen/hlen\n  for (let ti = 1, pos = 0; pos < dkLen; ti++, pos += PRF.outputLen) {\n    // Ti = F(Password, Salt, c, i)\n    const Ti = DK.subarray(pos, pos + PRF.outputLen);\n    view.setInt32(0, ti, false);\n    // F(Password, Salt, c, i) = U1 ^ U2 ^ ⋯ ^ Uc\n    // U1 = PRF(Password, Salt + INT_32_BE(i))\n    (prfW = PRFSalt._cloneInto(prfW)).update(arr).digestInto(u);\n    Ti.set(u.subarray(0, Ti.length));\n    await asyncLoop(c - 1, asyncTick, () => {\n      // Uc = PRF(Password, Uc−1)\n      PRF._cloneInto(prfW).update(u).digestInto(u);\n      for (let i = 0; i < Ti.length; i++) Ti[i] ^= u[i];\n    });\n  }\n  return pbkdf2Output(PRF, PRFSalt, DK, prfW, u);\n}\n","const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n: bigint, le = false) {\n  if (le) return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n  return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\n\nfunction split(lst: bigint[], le = false) {\n  let Ah = new Uint32Array(lst.length);\n  let Al = new Uint32Array(lst.length);\n  for (let i = 0; i < lst.length; i++) {\n    const { h, l } = fromBig(lst[i], le);\n    [Ah[i], Al[i]] = [h, l];\n  }\n  return [Ah, Al];\n}\n\nconst toBig = (h: number, l: number) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h: number, _l: number, s: number) => h >>> s;\nconst shrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h: number, l: number, s: number) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h: number, l: number, s: number) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h: number, l: number, s: number) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h: number, l: number) => l;\nconst rotr32L = (h: number, _l: number) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h: number, l: number, s: number) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h: number, l: number, s: number) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h: number, l: number, s: number) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h: number, l: number, s: number) => (h << (s - 32)) | (l >>> (64 - s));\n\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah: number, Al: number, Bh: number, Bl: number) {\n  const l = (Al >>> 0) + (Bl >>> 0);\n  return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al: number, Bl: number, Cl: number) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low: number, Ah: number, Bh: number, Ch: number) =>\n  (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al: number, Bl: number, Cl: number, Dl: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number) =>\n  (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al: number, Bl: number, Cl: number, Dl: number, El: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number) =>\n  (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n\n// prettier-ignore\nexport {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\n// prettier-ignore\nconst u64 = {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n","import { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = /* @__PURE__ */ (() => u64.split([\n  '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n  '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n  '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n  '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n  '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n  '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n  '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n  '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n  '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n  '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n  '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n  '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n  '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n  '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n  '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n  '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n  '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n  '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n  '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n  '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\n\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nexport class SHA512 extends SHA2<SHA512> {\n  // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n  // Also looks cleaner and easier to verify with spec.\n  // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0x6a09e667 | 0;\n  Al = 0xf3bcc908 | 0;\n  Bh = 0xbb67ae85 | 0;\n  Bl = 0x84caa73b | 0;\n  Ch = 0x3c6ef372 | 0;\n  Cl = 0xfe94f82b | 0;\n  Dh = 0xa54ff53a | 0;\n  Dl = 0x5f1d36f1 | 0;\n  Eh = 0x510e527f | 0;\n  El = 0xade682d1 | 0;\n  Fh = 0x9b05688c | 0;\n  Fl = 0x2b3e6c1f | 0;\n  Gh = 0x1f83d9ab | 0;\n  Gl = 0xfb41bd6b | 0;\n  Hh = 0x5be0cd19 | 0;\n  Hl = 0x137e2179 | 0;\n\n  constructor() {\n    super(128, 64, 16, false);\n  }\n  // prettier-ignore\n  protected get(): [\n    number, number, number, number, number, number, number, number,\n    number, number, number, number, number, number, number, number\n  ] {\n    const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n  }\n  // prettier-ignore\n  protected set(\n    Ah: number, Al: number, Bh: number, Bl: number, Ch: number, Cl: number, Dh: number, Dl: number,\n    Eh: number, El: number, Fh: number, Fl: number, Gh: number, Gl: number, Hh: number, Hl: number\n  ) {\n    this.Ah = Ah | 0;\n    this.Al = Al | 0;\n    this.Bh = Bh | 0;\n    this.Bl = Bl | 0;\n    this.Ch = Ch | 0;\n    this.Cl = Cl | 0;\n    this.Dh = Dh | 0;\n    this.Dl = Dl | 0;\n    this.Eh = Eh | 0;\n    this.El = El | 0;\n    this.Fh = Fh | 0;\n    this.Fl = Fl | 0;\n    this.Gh = Gh | 0;\n    this.Gl = Gl | 0;\n    this.Hh = Hh | 0;\n    this.Hl = Hl | 0;\n  }\n  protected process(view: DataView, offset: number) {\n    // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) {\n      SHA512_W_H[i] = view.getUint32(offset);\n      SHA512_W_L[i] = view.getUint32((offset += 4));\n    }\n    for (let i = 16; i < 80; i++) {\n      // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n      const W15h = SHA512_W_H[i - 15] | 0;\n      const W15l = SHA512_W_L[i - 15] | 0;\n      const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n      const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n      // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n      const W2h = SHA512_W_H[i - 2] | 0;\n      const W2l = SHA512_W_L[i - 2] | 0;\n      const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n      const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n      // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n      const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n      const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n      SHA512_W_H[i] = SUMh | 0;\n      SHA512_W_L[i] = SUMl | 0;\n    }\n    let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    // Compression function main loop, 80 rounds\n    for (let i = 0; i < 80; i++) {\n      // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n      const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n      const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n      //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n      const CHIl = (El & Fl) ^ (~El & Gl);\n      // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n      // prettier-ignore\n      const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n      const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n      const T1l = T1ll | 0;\n      // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n      const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n      const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n      const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n      const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n      Hh = Gh | 0;\n      Hl = Gl | 0;\n      Gh = Fh | 0;\n      Gl = Fl | 0;\n      Fh = Eh | 0;\n      Fl = El | 0;\n      ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n      Dh = Ch | 0;\n      Dl = Cl | 0;\n      Ch = Bh | 0;\n      Cl = Bl | 0;\n      Bh = Ah | 0;\n      Bl = Al | 0;\n      const All = u64.add3L(T1l, sigma0l, MAJl);\n      Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n      Al = All | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n    ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n    ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n    ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n    ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n    ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n    ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n    ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n    this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n  }\n  protected roundClean() {\n    SHA512_W_H.fill(0);\n    SHA512_W_L.fill(0);\n  }\n  destroy() {\n    this.buffer.fill(0);\n    this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n  }\n}\n\nclass SHA512_224 extends SHA512 {\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0x8c3d37c8 | 0;\n  Al = 0x19544da2 | 0;\n  Bh = 0x73e19966 | 0;\n  Bl = 0x89dcd4d6 | 0;\n  Ch = 0x1dfab7ae | 0;\n  Cl = 0x32ff9c82 | 0;\n  Dh = 0x679dd514 | 0;\n  Dl = 0x582f9fcf | 0;\n  Eh = 0x0f6d2b69 | 0;\n  El = 0x7bd44da8 | 0;\n  Fh = 0x77e36f73 | 0;\n  Fl = 0x04c48942 | 0;\n  Gh = 0x3f9d85a8 | 0;\n  Gl = 0x6a1d36c8 | 0;\n  Hh = 0x1112e6ad | 0;\n  Hl = 0x91d692a1 | 0;\n\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\nclass SHA512_256 extends SHA512 {\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0x22312194 | 0;\n  Al = 0xfc2bf72c | 0;\n  Bh = 0x9f555fa3 | 0;\n  Bl = 0xc84c64c2 | 0;\n  Ch = 0x2393b86b | 0;\n  Cl = 0x6f53b151 | 0;\n  Dh = 0x96387719 | 0;\n  Dl = 0x5940eabd | 0;\n  Eh = 0x96283ee2 | 0;\n  El = 0xa88effe3 | 0;\n  Fh = 0xbe5e1e25 | 0;\n  Fl = 0x53863992 | 0;\n  Gh = 0x2b0199fc | 0;\n  Gl = 0x2c85b8aa | 0;\n  Hh = 0x0eb72ddc | 0;\n  Hl = 0x81c52ca2 | 0;\n\n  constructor() {\n    super();\n    this.outputLen = 32;\n  }\n}\n\nclass SHA384 extends SHA512 {\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0xcbbb9d5d | 0;\n  Al = 0xc1059ed8 | 0;\n  Bh = 0x629a292a | 0;\n  Bl = 0x367cd507 | 0;\n  Ch = 0x9159015a | 0;\n  Cl = 0x3070dd17 | 0;\n  Dh = 0x152fecd8 | 0;\n  Dl = 0xf70e5939 | 0;\n  Eh = 0x67332667 | 0;\n  El = 0xffc00b31 | 0;\n  Fh = 0x8eb44a87 | 0;\n  Fl = 0x68581511 | 0;\n  Gh = 0xdb0c2e0d | 0;\n  Gl = 0x64f98fa7 | 0;\n  Hh = 0x47b5481d | 0;\n  Hl = 0xbefa4fa4 | 0;\n\n  constructor() {\n    super();\n    this.outputLen = 48;\n  }\n}\n\nexport const sha512 = /* @__PURE__ */ wrapConstructor(() => new SHA512());\nexport const sha512_224 = /* @__PURE__ */ wrapConstructor(() => new SHA512_224());\nexport const sha512_256 = /* @__PURE__ */ wrapConstructor(() => new SHA512_256());\nexport const sha384 = /* @__PURE__ */ wrapConstructor(() => new SHA384());\n","/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */\nimport { bytes as assertBytes, number as assertNumber } from '@noble/hashes/_assert';\nimport { pbkdf2, pbkdf2Async } from '@noble/hashes/pbkdf2';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { utils as baseUtils } from '@scure/base';\n// Japanese wordlist\nconst isJapanese = (wordlist) => wordlist[0] === '\\u3042\\u3044\\u3053\\u304f\\u3057\\u3093';\n// Normalization replaces equivalent sequences of characters\n// so that any two texts that are equivalent will be reduced\n// to the same sequence of code points, called the normal form of the original text.\n// https://tonsky.me/blog/unicode/#why-is-a----\nfunction nfkd(str) {\n    if (typeof str !== 'string')\n        throw new TypeError(`Invalid mnemonic type: ${typeof str}`);\n    return str.normalize('NFKD');\n}\nfunction normalize(str) {\n    const norm = nfkd(str);\n    const words = norm.split(' ');\n    if (![12, 15, 18, 21, 24].includes(words.length))\n        throw new Error('Invalid mnemonic');\n    return { nfkd: norm, words };\n}\nfunction assertEntropy(entropy) {\n    assertBytes(entropy, 16, 20, 24, 28, 32);\n}\n/**\n * Generate x random words. Uses Cryptographically-Secure Random Number Generator.\n * @param wordlist imported wordlist for specific language\n * @param strength mnemonic strength 128-256 bits\n * @example\n * generateMnemonic(wordlist, 128)\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nexport function generateMnemonic(wordlist, strength = 128) {\n    assertNumber(strength);\n    if (strength % 32 !== 0 || strength > 256)\n        throw new TypeError('Invalid entropy');\n    return entropyToMnemonic(randomBytes(strength / 8), wordlist);\n}\nconst calcChecksum = (entropy) => {\n    // Checksum is ent.length/4 bits long\n    const bitsLeft = 8 - entropy.length / 4;\n    // Zero rightmost \"bitsLeft\" bits in byte\n    // For example: bitsLeft=4 val=10111101 -> 10110000\n    return new Uint8Array([(sha256(entropy)[0] >> bitsLeft) << bitsLeft]);\n};\nfunction getCoder(wordlist) {\n    if (!Array.isArray(wordlist) || wordlist.length !== 2048 || typeof wordlist[0] !== 'string')\n        throw new Error('Wordlist: expected array of 2048 strings');\n    wordlist.forEach((i) => {\n        if (typeof i !== 'string')\n            throw new Error(`Wordlist: non-string element: ${i}`);\n    });\n    return baseUtils.chain(baseUtils.checksum(1, calcChecksum), baseUtils.radix2(11, true), baseUtils.alphabet(wordlist));\n}\n/**\n * Reversible: Converts mnemonic string to raw entropy in form of byte array.\n * @param mnemonic 12-24 words\n * @param wordlist imported wordlist for specific language\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToEntropy(mnem, wordlist)\n * // Produces\n * new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ])\n */\nexport function mnemonicToEntropy(mnemonic, wordlist) {\n    const { words } = normalize(mnemonic);\n    const entropy = getCoder(wordlist).decode(words);\n    assertEntropy(entropy);\n    return entropy;\n}\n/**\n * Reversible: Converts raw entropy in form of byte array to mnemonic string.\n * @param entropy byte array\n * @param wordlist imported wordlist for specific language\n * @returns 12-24 words\n * @example\n * const ent = new Uint8Array([\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f,\n *   0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f, 0x7f\n * ]);\n * entropyToMnemonic(ent, wordlist);\n * // 'legal winner thank year wave sausage worth useful legal winner thank yellow'\n */\nexport function entropyToMnemonic(entropy, wordlist) {\n    assertEntropy(entropy);\n    const words = getCoder(wordlist).encode(entropy);\n    return words.join(isJapanese(wordlist) ? '\\u3000' : ' ');\n}\n/**\n * Validates mnemonic for being 12-24 words contained in `wordlist`.\n */\nexport function validateMnemonic(mnemonic, wordlist) {\n    try {\n        mnemonicToEntropy(mnemonic, wordlist);\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n}\nconst salt = (passphrase) => nfkd(`mnemonic${passphrase}`);\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * await mnemonicToSeed(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nexport function mnemonicToSeed(mnemonic, passphrase = '') {\n    return pbkdf2Async(sha512, normalize(mnemonic).nfkd, salt(passphrase), { c: 2048, dkLen: 64 });\n}\n/**\n * Irreversible: Uses KDF to derive 64 bytes of key data from mnemonic + optional password.\n * @param mnemonic 12-24 words\n * @param passphrase string that will additionally protect the key\n * @returns 64 bytes of key data\n * @example\n * const mnem = 'legal winner thank year wave sausage worth useful legal winner thank yellow';\n * mnemonicToSeedSync(mnem, 'password');\n * // new Uint8Array([...64 bytes])\n */\nexport function mnemonicToSeedSync(mnemonic, passphrase = '') {\n    return pbkdf2(sha512, normalize(mnemonic).nfkd, salt(passphrase), { c: 2048, dkLen: 64 });\n}\n","function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\n// copied from utils\nfunction isBytes(a: unknown): a is Uint8Array {\n  return (\n    a instanceof Uint8Array ||\n    (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array')\n  );\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!isBytes(b)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\n\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\nfunction isBytes(a: unknown): a is Uint8Array {\n  return (\n    a instanceof Uint8Array ||\n    (a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array')\n  );\n}\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\n// Other libraries would silently corrupt the data instead of throwing an error,\n// when they don't support it.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!isBytes(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 } as const;\nfunction asciiToBase16(char: number): number | undefined {\n  if (char >= asciis._0 && char <= asciis._9) return char - asciis._0;\n  if (char >= asciis._A && char <= asciis._F) return char - (asciis._A - 10);\n  if (char >= asciis._a && char <= asciis._f) return char - (asciis._a - 10);\n  return;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const hl = hex.length;\n  const al = hl / 2;\n  if (hl % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + hl);\n  const array = new Uint8Array(al);\n  for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n    const n1 = asciiToBase16(hex.charCodeAt(hi));\n    const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n    if (n1 === undefined || n2 === undefined) {\n      const char = hex[hi] + hex[hi + 1];\n      throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n    }\n    array[ai] = n1 * 16 + n2;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!isBytes(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  let sum = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    if (!isBytes(a)) throw new Error('Uint8Array expected');\n    sum += a.length;\n  }\n  const res = new Uint8Array(sum);\n  for (let i = 0, pad = 0; i < arrays.length; i++) {\n    const a = arrays[i];\n    res.set(a, pad);\n    pad += a.length;\n  }\n  return res;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\nconst toStr = {}.toString;\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n","import { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, CHash, Input, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC<T extends Hash<T>> extends Hash<HMAC<T>> {\n  oHash: T;\n  iHash: T;\n  blockLen: number;\n  outputLen: number;\n  private finished = false;\n  private destroyed = false;\n\n  constructor(hash: CHash, _key: Input) {\n    super();\n    assertHash(hash);\n    const key = toBytes(_key);\n    this.iHash = hash.create() as T;\n    if (typeof this.iHash.update !== 'function')\n      throw new Error('Expected instance of class which extends utils.Hash');\n    this.blockLen = this.iHash.blockLen;\n    this.outputLen = this.iHash.outputLen;\n    const blockLen = this.blockLen;\n    const pad = new Uint8Array(blockLen);\n    // blockLen can be bigger than outputLen\n    pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n    this.iHash.update(pad);\n    // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n    this.oHash = hash.create() as T;\n    // Undo internal XOR && apply outer XOR\n    for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n    this.oHash.update(pad);\n    pad.fill(0);\n  }\n  update(buf: Input) {\n    assertExists(this);\n    this.iHash.update(buf);\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    assertExists(this);\n    assertBytes(out, this.outputLen);\n    this.finished = true;\n    this.iHash.digestInto(out);\n    this.oHash.update(out);\n    this.oHash.digestInto(out);\n    this.destroy();\n  }\n  digest() {\n    const out = new Uint8Array(this.oHash.outputLen);\n    this.digestInto(out);\n    return out;\n  }\n  _cloneInto(to?: HMAC<T>): HMAC<T> {\n    // Create new instance without calling constructor since key already in state and we don't know it.\n    to ||= Object.create(Object.getPrototypeOf(this), {});\n    const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n    to = to as this;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    to.blockLen = blockLen;\n    to.outputLen = outputLen;\n    to.oHash = oHash._cloneInto(to.oHash);\n    to.iHash = iHash._cloneInto(to.iHash);\n    return to;\n  }\n  destroy() {\n    this.destroyed = true;\n    this.oHash.destroy();\n    this.iHash.destroy();\n  }\n}\n\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash: CHash, key: Input, message: Input): Uint8Array =>\n  new HMAC<any>(hash, key).update(message).digest();\nhmac.create = (hash: CHash, key: Input) => new HMAC<any>(hash, key);\n","import { exists, output } from './_assert.js';\nimport { Hash, createView, Input, toBytes } from './utils.js';\n\n// Polyfill for Safari 14\nfunction setBigUint64(view: DataView, byteOffset: number, value: bigint, isLE: boolean): void {\n  if (typeof view.setBigUint64 === 'function') return view.setBigUint64(byteOffset, value, isLE);\n  const _32n = BigInt(32);\n  const _u32_max = BigInt(0xffffffff);\n  const wh = Number((value >> _32n) & _u32_max);\n  const wl = Number(value & _u32_max);\n  const h = isLE ? 4 : 0;\n  const l = isLE ? 0 : 4;\n  view.setUint32(byteOffset + h, wh, isLE);\n  view.setUint32(byteOffset + l, wl, isLE);\n}\n\n// Base SHA2 class (RFC 6234)\nexport abstract class SHA2<T extends SHA2<T>> extends Hash<T> {\n  protected abstract process(buf: DataView, offset: number): void;\n  protected abstract get(): number[];\n  protected abstract set(...args: number[]): void;\n  abstract destroy(): void;\n  protected abstract roundClean(): void;\n  // For partial updates less than block size\n  protected buffer: Uint8Array;\n  protected view: DataView;\n  protected finished = false;\n  protected length = 0;\n  protected pos = 0;\n  protected destroyed = false;\n\n  constructor(\n    readonly blockLen: number,\n    public outputLen: number,\n    readonly padOffset: number,\n    readonly isLE: boolean\n  ) {\n    super();\n    this.buffer = new Uint8Array(blockLen);\n    this.view = createView(this.buffer);\n  }\n  update(data: Input): this {\n    exists(this);\n    const { view, buffer, blockLen } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      // Fast path: we have at least one block in input, cast it to view and process\n      if (take === blockLen) {\n        const dataView = createView(data);\n        for (; blockLen <= len - pos; pos += blockLen) this.process(dataView, pos);\n        continue;\n      }\n      buffer.set(data.subarray(pos, pos + take), this.pos);\n      this.pos += take;\n      pos += take;\n      if (this.pos === blockLen) {\n        this.process(view, 0);\n        this.pos = 0;\n      }\n    }\n    this.length += data.length;\n    this.roundClean();\n    return this;\n  }\n  digestInto(out: Uint8Array) {\n    exists(this);\n    output(out, this);\n    this.finished = true;\n    // Padding\n    // We can avoid allocation of buffer for padding completely if it\n    // was previously not allocated here. But it won't change performance.\n    const { buffer, view, blockLen, isLE } = this;\n    let { pos } = this;\n    // append the bit '1' to the message\n    buffer[pos++] = 0b10000000;\n    this.buffer.subarray(pos).fill(0);\n    // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n    if (this.padOffset > blockLen - pos) {\n      this.process(view, 0);\n      pos = 0;\n    }\n    // Pad until full block byte with zeros\n    for (let i = pos; i < blockLen; i++) buffer[i] = 0;\n    // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n    // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n    // So we just write lowest 64 bits of that value.\n    setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n    this.process(view, 0);\n    const oview = createView(out);\n    const len = this.outputLen;\n    // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n    if (len % 4) throw new Error('_sha2: outputLen should be aligned to 32bit');\n    const outLen = len / 4;\n    const state = this.get();\n    if (outLen > state.length) throw new Error('_sha2: outputLen bigger than state');\n    for (let i = 0; i < outLen; i++) oview.setUint32(4 * i, state[i], isLE);\n  }\n  digest() {\n    const { buffer, outputLen } = this;\n    this.digestInto(buffer);\n    const res = buffer.slice(0, outputLen);\n    this.destroy();\n    return res;\n  }\n  _cloneInto(to?: T): T {\n    to ||= new (this.constructor as any)() as T;\n    to.set(...this.get());\n    const { blockLen, buffer, length, finished, destroyed, pos } = this;\n    to.length = length;\n    to.pos = pos;\n    to.finished = finished;\n    to.destroyed = destroyed;\n    if (length % blockLen) to.buffer.set(buffer);\n    return to;\n  }\n}\n","import { SHA2 } from './_sha2.js';\nimport { wrapConstructor } from './utils.js';\n\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\n// https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\nconst Rho = /* @__PURE__ */ new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\nconst Id = /* @__PURE__ */ Uint8Array.from({ length: 16 }, (_, i) => i);\nconst Pi = /* @__PURE__ */ Id.map((i) => (9 * i + 5) % 16);\nlet idxL = [Id];\nlet idxR = [Pi];\nfor (let i = 0; i < 4; i++) for (let j of [idxL, idxR]) j.push(j[i].map((k) => Rho[k]));\n\nconst shifts = /* @__PURE__ */ [\n  [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],\n  [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],\n  [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],\n  [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],\n  [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],\n].map((i) => new Uint8Array(i));\nconst shiftsL = /* @__PURE__ */ idxL.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst shiftsR = /* @__PURE__ */ idxR.map((idx, i) => idx.map((j) => shifts[i][j]));\nconst Kl = /* @__PURE__ */ new Uint32Array([\n  0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e,\n]);\nconst Kr = /* @__PURE__ */ new Uint32Array([\n  0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000,\n]);\n// The rotate left (circular left shift) operation for uint32\nconst rotl = (word: number, shift: number) => (word << shift) | (word >>> (32 - shift));\n// It's called f() in spec.\nfunction f(group: number, x: number, y: number, z: number): number {\n  if (group === 0) return x ^ y ^ z;\n  else if (group === 1) return (x & y) | (~x & z);\n  else if (group === 2) return (x | ~y) ^ z;\n  else if (group === 3) return (x & z) | (y & ~z);\n  else return x ^ (y | ~z);\n}\n// Temporary buffer, not used to store anything between runs\nconst BUF = /* @__PURE__ */ new Uint32Array(16);\nexport class RIPEMD160 extends SHA2<RIPEMD160> {\n  private h0 = 0x67452301 | 0;\n  private h1 = 0xefcdab89 | 0;\n  private h2 = 0x98badcfe | 0;\n  private h3 = 0x10325476 | 0;\n  private h4 = 0xc3d2e1f0 | 0;\n\n  constructor() {\n    super(64, 20, 8, true);\n  }\n  protected get(): [number, number, number, number, number] {\n    const { h0, h1, h2, h3, h4 } = this;\n    return [h0, h1, h2, h3, h4];\n  }\n  protected set(h0: number, h1: number, h2: number, h3: number, h4: number) {\n    this.h0 = h0 | 0;\n    this.h1 = h1 | 0;\n    this.h2 = h2 | 0;\n    this.h3 = h3 | 0;\n    this.h4 = h4 | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    for (let i = 0; i < 16; i++, offset += 4) BUF[i] = view.getUint32(offset, true);\n    // prettier-ignore\n    let al = this.h0 | 0, ar = al,\n        bl = this.h1 | 0, br = bl,\n        cl = this.h2 | 0, cr = cl,\n        dl = this.h3 | 0, dr = dl,\n        el = this.h4 | 0, er = el;\n\n    // Instead of iterating 0 to 80, we split it into 5 groups\n    // And use the groups in constants, functions, etc. Much simpler\n    for (let group = 0; group < 5; group++) {\n      const rGroup = 4 - group;\n      const hbl = Kl[group], hbr = Kr[group]; // prettier-ignore\n      const rl = idxL[group], rr = idxR[group]; // prettier-ignore\n      const sl = shiftsL[group], sr = shiftsR[group]; // prettier-ignore\n      for (let i = 0; i < 16; i++) {\n        const tl = (rotl(al + f(group, bl, cl, dl) + BUF[rl[i]] + hbl, sl[i]) + el) | 0;\n        al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\n      }\n      // 2 loops are 10% faster\n      for (let i = 0; i < 16; i++) {\n        const tr = (rotl(ar + f(rGroup, br, cr, dr) + BUF[rr[i]] + hbr, sr[i]) + er) | 0;\n        ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\n      }\n    }\n    // Add the compressed chunk to the current hash value\n    this.set(\n      (this.h1 + cl + dr) | 0,\n      (this.h2 + dl + er) | 0,\n      (this.h3 + el + ar) | 0,\n      (this.h4 + al + br) | 0,\n      (this.h0 + bl + cr) | 0\n    );\n  }\n  protected roundClean() {\n    BUF.fill(0);\n  }\n  destroy() {\n    this.destroyed = true;\n    this.buffer.fill(0);\n    this.set(0, 0, 0, 0, 0);\n  }\n}\n\n/**\n * RIPEMD-160 - a hash function from 1990s.\n * @param message - msg that would be hashed\n */\nexport const ripemd160 = /* @__PURE__ */ wrapConstructor(() => new RIPEMD160());\n","import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n\n// Choice: a ? b : c\nconst Chi = (a: number, b: number, c: number) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a: number, b: number, c: number) => (a & b) ^ (a & c) ^ (b & c);\n\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */new Uint32Array([\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */new Uint32Array([\n  0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends SHA2<SHA256> {\n  // We cannot use array here since array allows indexing by variable\n  // which means optimizer/compiler cannot use registers.\n  A = IV[0] | 0;\n  B = IV[1] | 0;\n  C = IV[2] | 0;\n  D = IV[3] | 0;\n  E = IV[4] | 0;\n  F = IV[5] | 0;\n  G = IV[6] | 0;\n  H = IV[7] | 0;\n\n  constructor() {\n    super(64, 32, 8, false);\n  }\n  protected get(): [number, number, number, number, number, number, number, number] {\n    const { A, B, C, D, E, F, G, H } = this;\n    return [A, B, C, D, E, F, G, H];\n  }\n  // prettier-ignore\n  protected set(\n    A: number, B: number, C: number, D: number, E: number, F: number, G: number, H: number\n  ) {\n    this.A = A | 0;\n    this.B = B | 0;\n    this.C = C | 0;\n    this.D = D | 0;\n    this.E = E | 0;\n    this.F = F | 0;\n    this.G = G | 0;\n    this.H = H | 0;\n  }\n  protected process(view: DataView, offset: number): void {\n    // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) SHA256_W[i] = view.getUint32(offset, false);\n    for (let i = 16; i < 64; i++) {\n      const W15 = SHA256_W[i - 15];\n      const W2 = SHA256_W[i - 2];\n      const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n      const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n      SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n    }\n    // Compression function main loop, 64 rounds\n    let { A, B, C, D, E, F, G, H } = this;\n    for (let i = 0; i < 64; i++) {\n      const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n      const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n      const T2 = (sigma0 + Maj(A, B, C)) | 0;\n      H = G;\n      G = F;\n      F = E;\n      E = (D + T1) | 0;\n      D = C;\n      C = B;\n      B = A;\n      A = (T1 + T2) | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    A = (A + this.A) | 0;\n    B = (B + this.B) | 0;\n    C = (C + this.C) | 0;\n    D = (D + this.D) | 0;\n    E = (E + this.E) | 0;\n    F = (F + this.F) | 0;\n    G = (G + this.G) | 0;\n    H = (H + this.H) | 0;\n    this.set(A, B, C, D, E, F, G, H);\n  }\n  protected roundClean() {\n    SHA256_W.fill(0);\n  }\n  destroy() {\n    this.set(0, 0, 0, 0, 0, 0, 0, 0);\n    this.buffer.fill(0);\n  }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n  A = 0xc1059ed8 | 0;\n  B = 0x367cd507 | 0;\n  C = 0x3070dd17 | 0;\n  D = 0xf70e5939 | 0;\n  E = 0xffc00b31 | 0;\n  F = 0x68581511 | 0;\n  G = 0x64f98fa7 | 0;\n  H = 0xbefa4fa4 | 0;\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n","const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n: bigint, le = false) {\n  if (le) return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n  return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\n\nfunction split(lst: bigint[], le = false) {\n  let Ah = new Uint32Array(lst.length);\n  let Al = new Uint32Array(lst.length);\n  for (let i = 0; i < lst.length; i++) {\n    const { h, l } = fromBig(lst[i], le);\n    [Ah[i], Al[i]] = [h, l];\n  }\n  return [Ah, Al];\n}\n\nconst toBig = (h: number, l: number) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h: number, _l: number, s: number) => h >>> s;\nconst shrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h: number, l: number, s: number) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h: number, l: number, s: number) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h: number, l: number, s: number) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h: number, l: number) => l;\nconst rotr32L = (h: number, _l: number) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h: number, l: number, s: number) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h: number, l: number, s: number) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h: number, l: number, s: number) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h: number, l: number, s: number) => (h << (s - 32)) | (l >>> (64 - s));\n\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah: number, Al: number, Bh: number, Bl: number) {\n  const l = (Al >>> 0) + (Bl >>> 0);\n  return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al: number, Bl: number, Cl: number) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low: number, Ah: number, Bh: number, Ch: number) =>\n  (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al: number, Bl: number, Cl: number, Dl: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number) =>\n  (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al: number, Bl: number, Cl: number, Dl: number, El: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number) =>\n  (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n\n// prettier-ignore\nexport {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\n// prettier-ignore\nconst u64 = {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n","import { SHA2 } from './_sha2.js';\nimport u64 from './_u64.js';\nimport { wrapConstructor } from './utils.js';\n\n// Round contants (first 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409):\n// prettier-ignore\nconst [SHA512_Kh, SHA512_Kl] = /* @__PURE__ */ (() => u64.split([\n  '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n  '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n  '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n  '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n  '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n  '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n  '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n  '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n  '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n  '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n  '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n  '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n  '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n  '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n  '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n  '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n  '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n  '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n  '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n  '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\n\n// Temporary buffer, not used to store anything between runs\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nexport class SHA512 extends SHA2<SHA512> {\n  // We cannot use array here since array allows indexing by variable which means optimizer/compiler cannot use registers.\n  // Also looks cleaner and easier to verify with spec.\n  // Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0x6a09e667 | 0;\n  Al = 0xf3bcc908 | 0;\n  Bh = 0xbb67ae85 | 0;\n  Bl = 0x84caa73b | 0;\n  Ch = 0x3c6ef372 | 0;\n  Cl = 0xfe94f82b | 0;\n  Dh = 0xa54ff53a | 0;\n  Dl = 0x5f1d36f1 | 0;\n  Eh = 0x510e527f | 0;\n  El = 0xade682d1 | 0;\n  Fh = 0x9b05688c | 0;\n  Fl = 0x2b3e6c1f | 0;\n  Gh = 0x1f83d9ab | 0;\n  Gl = 0xfb41bd6b | 0;\n  Hh = 0x5be0cd19 | 0;\n  Hl = 0x137e2179 | 0;\n\n  constructor() {\n    super(128, 64, 16, false);\n  }\n  // prettier-ignore\n  protected get(): [\n    number, number, number, number, number, number, number, number,\n    number, number, number, number, number, number, number, number\n  ] {\n    const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n  }\n  // prettier-ignore\n  protected set(\n    Ah: number, Al: number, Bh: number, Bl: number, Ch: number, Cl: number, Dh: number, Dl: number,\n    Eh: number, El: number, Fh: number, Fl: number, Gh: number, Gl: number, Hh: number, Hl: number\n  ) {\n    this.Ah = Ah | 0;\n    this.Al = Al | 0;\n    this.Bh = Bh | 0;\n    this.Bl = Bl | 0;\n    this.Ch = Ch | 0;\n    this.Cl = Cl | 0;\n    this.Dh = Dh | 0;\n    this.Dl = Dl | 0;\n    this.Eh = Eh | 0;\n    this.El = El | 0;\n    this.Fh = Fh | 0;\n    this.Fl = Fl | 0;\n    this.Gh = Gh | 0;\n    this.Gl = Gl | 0;\n    this.Hh = Hh | 0;\n    this.Hl = Hl | 0;\n  }\n  protected process(view: DataView, offset: number) {\n    // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n    for (let i = 0; i < 16; i++, offset += 4) {\n      SHA512_W_H[i] = view.getUint32(offset);\n      SHA512_W_L[i] = view.getUint32((offset += 4));\n    }\n    for (let i = 16; i < 80; i++) {\n      // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n      const W15h = SHA512_W_H[i - 15] | 0;\n      const W15l = SHA512_W_L[i - 15] | 0;\n      const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n      const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n      // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n      const W2h = SHA512_W_H[i - 2] | 0;\n      const W2l = SHA512_W_L[i - 2] | 0;\n      const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n      const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n      // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n      const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n      const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n      SHA512_W_H[i] = SUMh | 0;\n      SHA512_W_L[i] = SUMl | 0;\n    }\n    let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n    // Compression function main loop, 80 rounds\n    for (let i = 0; i < 80; i++) {\n      // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n      const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n      const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n      //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n      const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n      const CHIl = (El & Fl) ^ (~El & Gl);\n      // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n      // prettier-ignore\n      const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n      const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n      const T1l = T1ll | 0;\n      // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n      const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n      const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n      const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n      const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n      Hh = Gh | 0;\n      Hl = Gl | 0;\n      Gh = Fh | 0;\n      Gl = Fl | 0;\n      Fh = Eh | 0;\n      Fl = El | 0;\n      ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n      Dh = Ch | 0;\n      Dl = Cl | 0;\n      Ch = Bh | 0;\n      Cl = Bl | 0;\n      Bh = Ah | 0;\n      Bl = Al | 0;\n      const All = u64.add3L(T1l, sigma0l, MAJl);\n      Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n      Al = All | 0;\n    }\n    // Add the compressed chunk to the current hash value\n    ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n    ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n    ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n    ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n    ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n    ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n    ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n    ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n    this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n  }\n  protected roundClean() {\n    SHA512_W_H.fill(0);\n    SHA512_W_L.fill(0);\n  }\n  destroy() {\n    this.buffer.fill(0);\n    this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n  }\n}\n\nclass SHA512_224 extends SHA512 {\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0x8c3d37c8 | 0;\n  Al = 0x19544da2 | 0;\n  Bh = 0x73e19966 | 0;\n  Bl = 0x89dcd4d6 | 0;\n  Ch = 0x1dfab7ae | 0;\n  Cl = 0x32ff9c82 | 0;\n  Dh = 0x679dd514 | 0;\n  Dl = 0x582f9fcf | 0;\n  Eh = 0x0f6d2b69 | 0;\n  El = 0x7bd44da8 | 0;\n  Fh = 0x77e36f73 | 0;\n  Fl = 0x04c48942 | 0;\n  Gh = 0x3f9d85a8 | 0;\n  Gl = 0x6a1d36c8 | 0;\n  Hh = 0x1112e6ad | 0;\n  Hl = 0x91d692a1 | 0;\n\n  constructor() {\n    super();\n    this.outputLen = 28;\n  }\n}\n\nclass SHA512_256 extends SHA512 {\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0x22312194 | 0;\n  Al = 0xfc2bf72c | 0;\n  Bh = 0x9f555fa3 | 0;\n  Bl = 0xc84c64c2 | 0;\n  Ch = 0x2393b86b | 0;\n  Cl = 0x6f53b151 | 0;\n  Dh = 0x96387719 | 0;\n  Dl = 0x5940eabd | 0;\n  Eh = 0x96283ee2 | 0;\n  El = 0xa88effe3 | 0;\n  Fh = 0xbe5e1e25 | 0;\n  Fl = 0x53863992 | 0;\n  Gh = 0x2b0199fc | 0;\n  Gl = 0x2c85b8aa | 0;\n  Hh = 0x0eb72ddc | 0;\n  Hl = 0x81c52ca2 | 0;\n\n  constructor() {\n    super();\n    this.outputLen = 32;\n  }\n}\n\nclass SHA384 extends SHA512 {\n  // h -- high 32 bits, l -- low 32 bits\n  Ah = 0xcbbb9d5d | 0;\n  Al = 0xc1059ed8 | 0;\n  Bh = 0x629a292a | 0;\n  Bl = 0x367cd507 | 0;\n  Ch = 0x9159015a | 0;\n  Cl = 0x3070dd17 | 0;\n  Dh = 0x152fecd8 | 0;\n  Dl = 0xf70e5939 | 0;\n  Eh = 0x67332667 | 0;\n  El = 0xffc00b31 | 0;\n  Fh = 0x8eb44a87 | 0;\n  Fl = 0x68581511 | 0;\n  Gh = 0xdb0c2e0d | 0;\n  Gl = 0x64f98fa7 | 0;\n  Hh = 0x47b5481d | 0;\n  Hl = 0xbefa4fa4 | 0;\n\n  constructor() {\n    super();\n    this.outputLen = 48;\n  }\n}\n\nexport const sha512 = /* @__PURE__ */ wrapConstructor(() => new SHA512());\nexport const sha512_224 = /* @__PURE__ */ wrapConstructor(() => new SHA512_224());\nexport const sha512_256 = /* @__PURE__ */ wrapConstructor(() => new SHA512_256());\nexport const sha384 = /* @__PURE__ */ wrapConstructor(() => new SHA384());\n","/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */\nimport { hmac } from '@noble/hashes/hmac';\nimport { ripemd160 } from '@noble/hashes/ripemd160';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { bytes as assertBytes } from '@noble/hashes/_assert';\nimport { bytesToHex, concatBytes, createView, hexToBytes, utf8ToBytes } from '@noble/hashes/utils';\nimport { secp256k1 as secp } from '@noble/curves/secp256k1';\nimport { mod } from '@noble/curves/abstract/modular';\nimport { createBase58check } from '@scure/base';\n\nconst Point = secp.ProjectivePoint;\nconst base58check = createBase58check(sha256);\n\nfunction bytesToNumber(bytes: Uint8Array): bigint {\n  return BigInt(`0x${bytesToHex(bytes)}`);\n}\n\nfunction numberToBytes(num: bigint): Uint8Array {\n  return hexToBytes(num.toString(16).padStart(64, '0'));\n}\n\nconst MASTER_SECRET = utf8ToBytes('Bitcoin seed');\n// Bitcoin hardcoded by default\nconst BITCOIN_VERSIONS: Versions = { private: 0x0488ade4, public: 0x0488b21e };\nexport const HARDENED_OFFSET: number = 0x80000000;\n\nexport interface Versions {\n  private: number;\n  public: number;\n}\n\nconst hash160 = (data: Uint8Array) => ripemd160(sha256(data));\nconst fromU32 = (data: Uint8Array) => createView(data).getUint32(0, false);\nconst toU32 = (n: number) => {\n  if (!Number.isSafeInteger(n) || n < 0 || n > 2 ** 32 - 1) {\n    throw new Error(`Invalid number=${n}. Should be from 0 to 2 ** 32 - 1`);\n  }\n  const buf = new Uint8Array(4);\n  createView(buf).setUint32(0, n, false);\n  return buf;\n};\n\ninterface HDKeyOpt {\n  versions: Versions;\n  depth?: number;\n  index?: number;\n  parentFingerprint?: number;\n  chainCode: Uint8Array;\n  publicKey?: Uint8Array;\n  privateKey?: Uint8Array | bigint;\n}\n\nexport class HDKey {\n  get fingerprint(): number {\n    if (!this.pubHash) {\n      throw new Error('No publicKey set!');\n    }\n    return fromU32(this.pubHash);\n  }\n  get identifier(): Uint8Array | undefined {\n    return this.pubHash;\n  }\n  get pubKeyHash(): Uint8Array | undefined {\n    return this.pubHash;\n  }\n  get privateKey(): Uint8Array | null {\n    return this.privKeyBytes || null;\n  }\n  get publicKey(): Uint8Array | null {\n    return this.pubKey || null;\n  }\n  get privateExtendedKey(): string {\n    const priv = this.privateKey;\n    if (!priv) {\n      throw new Error('No private key');\n    }\n    return base58check.encode(\n      this.serialize(this.versions.private, concatBytes(new Uint8Array([0]), priv))\n    );\n  }\n  get publicExtendedKey(): string {\n    if (!this.pubKey) {\n      throw new Error('No public key');\n    }\n    return base58check.encode(this.serialize(this.versions.public, this.pubKey));\n  }\n\n  public static fromMasterSeed(seed: Uint8Array, versions: Versions = BITCOIN_VERSIONS): HDKey {\n    assertBytes(seed);\n    if (8 * seed.length < 128 || 8 * seed.length > 512) {\n      throw new Error(\n        `HDKey: wrong seed length=${seed.length}. Should be between 128 and 512 bits; 256 bits is advised)`\n      );\n    }\n    const I = hmac(sha512, MASTER_SECRET, seed);\n    return new HDKey({\n      versions,\n      chainCode: I.slice(32),\n      privateKey: I.slice(0, 32),\n    });\n  }\n\n  public static fromExtendedKey(base58key: string, versions: Versions = BITCOIN_VERSIONS): HDKey {\n    // => version(4) || depth(1) || fingerprint(4) || index(4) || chain(32) || key(33)\n    const keyBuffer: Uint8Array = base58check.decode(base58key);\n    const keyView = createView(keyBuffer);\n    const version = keyView.getUint32(0, false);\n    const opt = {\n      versions,\n      depth: keyBuffer[4],\n      parentFingerprint: keyView.getUint32(5, false),\n      index: keyView.getUint32(9, false),\n      chainCode: keyBuffer.slice(13, 45),\n    };\n    const key = keyBuffer.slice(45);\n    const isPriv = key[0] === 0;\n    if (version !== versions[isPriv ? 'private' : 'public']) {\n      throw new Error('Version mismatch');\n    }\n    if (isPriv) {\n      return new HDKey({ ...opt, privateKey: key.slice(1) });\n    } else {\n      return new HDKey({ ...opt, publicKey: key });\n    }\n  }\n\n  public static fromJSON(json: { xpriv: string }): HDKey {\n    return HDKey.fromExtendedKey(json.xpriv);\n  }\n  public readonly versions: Versions;\n  public readonly depth: number = 0;\n  public readonly index: number = 0;\n  public readonly chainCode: Uint8Array | null = null;\n  public readonly parentFingerprint: number = 0;\n  private privKey?: bigint;\n  private privKeyBytes?: Uint8Array;\n  private pubKey?: Uint8Array;\n  private pubHash: Uint8Array | undefined;\n\n  constructor(opt: HDKeyOpt) {\n    if (!opt || typeof opt !== 'object') {\n      throw new Error('HDKey.constructor must not be called directly');\n    }\n    this.versions = opt.versions || BITCOIN_VERSIONS;\n    this.depth = opt.depth || 0;\n    this.chainCode = opt.chainCode;\n    this.index = opt.index || 0;\n    this.parentFingerprint = opt.parentFingerprint || 0;\n    if (!this.depth) {\n      if (this.parentFingerprint || this.index) {\n        throw new Error('HDKey: zero depth with non-zero index/parent fingerprint');\n      }\n    }\n    if (opt.publicKey && opt.privateKey) {\n      throw new Error('HDKey: publicKey and privateKey at same time.');\n    }\n    if (opt.privateKey) {\n      if (!secp.utils.isValidPrivateKey(opt.privateKey)) {\n        throw new Error('Invalid private key');\n      }\n      this.privKey =\n        typeof opt.privateKey === 'bigint' ? opt.privateKey : bytesToNumber(opt.privateKey);\n      this.privKeyBytes = numberToBytes(this.privKey);\n      this.pubKey = secp.getPublicKey(opt.privateKey, true);\n    } else if (opt.publicKey) {\n      this.pubKey = Point.fromHex(opt.publicKey).toRawBytes(true); // force compressed point\n    } else {\n      throw new Error('HDKey: no public or private key provided');\n    }\n    this.pubHash = hash160(this.pubKey);\n  }\n\n  public derive(path: string): HDKey {\n    if (!/^[mM]'?/.test(path)) {\n      throw new Error('Path must start with \"m\" or \"M\"');\n    }\n    if (/^[mM]'?$/.test(path)) {\n      return this;\n    }\n    const parts = path.replace(/^[mM]'?\\//, '').split('/');\n    // tslint:disable-next-line\n    let child: HDKey = this;\n    for (const c of parts) {\n      const m = /^(\\d+)('?)$/.exec(c);\n      const m1 = m && m[1];\n      if (!m || m.length !== 3 || typeof m1 !== 'string') {\n        throw new Error(`Invalid child index: ${c}`);\n      }\n      let idx = +m1;\n      if (!Number.isSafeInteger(idx) || idx >= HARDENED_OFFSET) {\n        throw new Error('Invalid index');\n      }\n      // hardened key\n      if (m[2] === \"'\") {\n        idx += HARDENED_OFFSET;\n      }\n      child = child.deriveChild(idx);\n    }\n    return child;\n  }\n\n  public deriveChild(index: number): HDKey {\n    if (!this.pubKey || !this.chainCode) {\n      throw new Error('No publicKey or chainCode set');\n    }\n    let data = toU32(index);\n    if (index >= HARDENED_OFFSET) {\n      // Hardened\n      const priv = this.privateKey;\n      if (!priv) {\n        throw new Error('Could not derive hardened child key');\n      }\n      // Hardened child: 0x00 || ser256(kpar) || ser32(index)\n      data = concatBytes(new Uint8Array([0]), priv, data);\n    } else {\n      // Normal child: serP(point(kpar)) || ser32(index)\n      data = concatBytes(this.pubKey, data);\n    }\n    const I = hmac(sha512, this.chainCode, data);\n    const childTweak = bytesToNumber(I.slice(0, 32));\n    const chainCode = I.slice(32);\n    if (!secp.utils.isValidPrivateKey(childTweak)) {\n      throw new Error('Tweak bigger than curve order');\n    }\n    const opt: HDKeyOpt = {\n      versions: this.versions,\n      chainCode,\n      depth: this.depth + 1,\n      parentFingerprint: this.fingerprint,\n      index,\n    };\n    try {\n      // Private parent key -> private child key\n      if (this.privateKey) {\n        const added = mod(this.privKey! + childTweak, secp.CURVE.n);\n        if (!secp.utils.isValidPrivateKey(added)) {\n          throw new Error('The tweak was out of range or the resulted private key is invalid');\n        }\n        opt.privateKey = added;\n      } else {\n        const added = Point.fromHex(this.pubKey).add(Point.fromPrivateKey(childTweak));\n        // Cryptographically impossible: hmac-sha512 preimage would need to be found\n        if (added.equals(Point.ZERO)) {\n          throw new Error('The tweak was equal to negative P, which made the result key invalid');\n        }\n        opt.publicKey = added.toRawBytes(true);\n      }\n      return new HDKey(opt);\n    } catch (err) {\n      return this.deriveChild(index + 1);\n    }\n  }\n\n  public sign(hash: Uint8Array): Uint8Array {\n    if (!this.privateKey) {\n      throw new Error('No privateKey set!');\n    }\n    assertBytes(hash, 32);\n    return secp.sign(hash, this.privKey!).toCompactRawBytes();\n  }\n\n  public verify(hash: Uint8Array, signature: Uint8Array): boolean {\n    assertBytes(hash, 32);\n    assertBytes(signature, 64);\n    if (!this.publicKey) {\n      throw new Error('No publicKey set!');\n    }\n    let sig;\n    try {\n      sig = secp.Signature.fromCompact(signature);\n    } catch (error) {\n      return false;\n    }\n    return secp.verify(sig, hash, this.publicKey);\n  }\n\n  public wipePrivateData(): this {\n    this.privKey = undefined;\n    if (this.privKeyBytes) {\n      this.privKeyBytes.fill(0);\n      this.privKeyBytes = undefined;\n    }\n    return this;\n  }\n  public toJSON(): { xpriv: string; xpub: string } {\n    return {\n      xpriv: this.privateExtendedKey,\n      xpub: this.publicExtendedKey,\n    };\n  }\n\n  private serialize(version: number, key: Uint8Array) {\n    if (!this.chainCode) {\n      throw new Error('No chainCode set');\n    }\n    assertBytes(key, 33);\n    // version(4) || depth(1) || fingerprint(4) || index(4) || chain(32) || key(33)\n    return concatBytes(\n      toU32(version),\n      new Uint8Array([this.depth]),\n      toU32(this.parentFingerprint),\n      toU32(this.index),\n      this.chainCode,\n      key\n    );\n  }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";Object.defineProperty(exports,Symbol.toStringTag,{value:\"Module\"});const t=require(\"buffer-polyfill\"),r=require(\"process\"),o=e=>e&&e.__esModule?e:{default:e},l=o(r),u=globalThis||void 0||self;Object.defineProperty(exports,\"Buffer\",{enumerable:!0,get:()=>t.Buffer});Object.defineProperty(exports,\"process\",{enumerable:!0,get:()=>l.default});exports.global=u;\n//# sourceMappingURL=index.cjs.map\n","import { RequestClient } from \"@swapkit/helpers\";\nimport { Chain, type UTXOChain } from \"@swapkit/types\";\n\nimport type {\n  BlockchairAddressResponse,\n  BlockchairMultipleBalancesResponse,\n  BlockchairOutputsResponse,\n  BlockchairRawTransactionResponse,\n  BlockchairResponse,\n  UTXOType,\n} from \"../types/index.ts\";\ntype BlockchairParams<T> = T & { chain: Chain; apiKey?: string };\n\nconst baseUrl = (chain: Chain) => `https://api.blockchair.com/${mapChainToBlockchairChain(chain)}`;\n\nconst getDefaultTxFeeByChain = (chain: Chain) => {\n  switch (chain) {\n    case Chain.Bitcoin:\n      return 5;\n    case Chain.Dogecoin:\n      return 10000;\n    case Chain.Litecoin:\n      return 1;\n    default:\n      return 2;\n  }\n};\n\nconst mapChainToBlockchairChain = (chain: Chain) => {\n  switch (chain) {\n    case Chain.BitcoinCash:\n      return \"bitcoin-cash\";\n    case Chain.Litecoin:\n      return \"litecoin\";\n    case Chain.Dash:\n      return \"dash\";\n    case Chain.Dogecoin:\n      return \"dogecoin\";\n    default:\n      return \"bitcoin\";\n  }\n};\n\nconst getSuggestedTxFee = async (chain: Chain) => {\n  // Skipped until internal API is using a more stable data provider\n  // try {\n  //   const response = await SwapKitApi.getGasRates();\n\n  //   return response.find((gas) => gas.chainId === chainId)?.gas;\n  //   throw new Error('Failed to get suggested txFee');\n  // } catch (error) {\n  try {\n    //Use Bitgo API for fee estimation\n    //Refer: https://app.bitgo.com/docs/#operation/v2.tx.getfeeestimate\n    const { feePerKb } = await RequestClient.get<{\n      feePerKb: number;\n      cpfpFeePerKb: number;\n      numBlocks: number;\n      feeByBlockTarget: { 1: number; 3: number };\n    }>(`https://app.bitgo.com/api/v2/${chain.toLowerCase()}/tx/fee`);\n    const suggestedFee = feePerKb / 1000;\n\n    return Math.max(suggestedFee, getDefaultTxFeeByChain(chain));\n  } catch (_error) {\n    return getDefaultTxFeeByChain(chain);\n  }\n};\n\nconst blockchairRequest = async <T>(url: string, apiKey?: string): Promise<T> => {\n  try {\n    const response = await RequestClient.get<BlockchairResponse<T>>(url);\n    if (!response || response.context.code !== 200) throw new Error(`failed to query ${url}`);\n\n    return response.data as T;\n  } catch (error) {\n    if (!apiKey) throw error;\n    const response = await RequestClient.get<BlockchairResponse<T>>(\n      `${url}${apiKey ? `&key=${apiKey}` : \"\"}`,\n    );\n\n    if (!response || response.context.code !== 200) throw new Error(`failed to query ${url}`);\n\n    return response.data as T;\n  }\n};\n\nconst baseAddressData = { utxo: [], address: { balance: 0, transaction_count: 0 } };\nconst getAddressData = async ({\n  address,\n  chain,\n  apiKey,\n}: BlockchairParams<{ address?: string }>) => {\n  if (!address) throw new Error(\"address is required\");\n\n  try {\n    const response = await blockchairRequest<BlockchairAddressResponse>(\n      `${baseUrl(chain)}/dashboards/address/${address}?transaction_details=true`,\n      apiKey,\n    );\n\n    return response[address];\n  } catch (_error) {\n    return baseAddressData;\n  }\n};\n\nconst getUnconfirmedBalance = async ({\n  address,\n  chain,\n  apiKey,\n}: BlockchairParams<{ address?: string }>) => {\n  return (await getAddressData({ address, chain, apiKey })).address.balance;\n};\n\nconst getConfirmedBalance = async ({\n  chain,\n  address,\n  apiKey,\n}: BlockchairParams<{ address?: string }>) => {\n  if (!address) throw new Error(\"address is required\");\n  try {\n    const response = await blockchairRequest<BlockchairMultipleBalancesResponse>(\n      `${baseUrl(chain)}/addresses/balances?addresses=${address}`,\n      apiKey,\n    );\n\n    return response[address] || 0;\n  } catch (_error) {\n    return 0;\n  }\n};\n\nconst getRawTx = async ({ chain, apiKey, txHash }: BlockchairParams<{ txHash?: string }>) => {\n  if (!txHash) throw new Error(\"txHash is required\");\n\n  try {\n    const rawTxResponse = await blockchairRequest<BlockchairRawTransactionResponse>(\n      `${baseUrl(chain)}/raw/transaction/${txHash}`,\n      apiKey,\n    );\n    return rawTxResponse[txHash].raw_transaction;\n  } catch (error) {\n    console.error(error);\n    return \"\";\n  }\n};\n\nconst getUnspentTxs = async ({\n  chain,\n  address,\n  apiKey,\n  offset = 0,\n}: BlockchairParams<{ offset?: number; address: string }>): Promise<\n  (UTXOType & { script_hex: string; is_confirmed: boolean })[]\n> => {\n  if (!address) throw new Error(\"address is required\");\n  try {\n    const response = await blockchairRequest<BlockchairOutputsResponse[]>(\n      `${baseUrl(\n        chain,\n      )}/outputs?q=is_spent(false),recipient(${address})&limit=100&offset=${offset}`,\n      apiKey,\n    );\n\n    const txs = response\n      .filter(({ is_spent }) => !is_spent)\n      .map(({ script_hex, block_id, transaction_hash, index, value, spending_signature_hex }) => ({\n        hash: transaction_hash,\n        index,\n        value,\n        txHex: spending_signature_hex,\n        script_hex,\n        is_confirmed: block_id !== -1,\n      })) as (UTXOType & { script_hex: string; is_confirmed: boolean })[];\n\n    if (response.length !== 100) return txs;\n\n    const nextBatch = await getUnspentTxs({\n      address,\n      chain,\n      apiKey,\n      offset: response[99].transaction_id,\n    });\n\n    return txs.concat(nextBatch);\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n};\n\nconst scanUTXOs = async ({\n  address,\n  chain,\n  apiKey,\n  fetchTxHex = true,\n}: BlockchairParams<{ address: string; fetchTxHex?: boolean }>) => {\n  const utxos = await getUnspentTxs({ chain, address, apiKey });\n  const results = [];\n\n  for (const { hash, index, script_hex, value } of utxos) {\n    let txHex: string | undefined;\n    if (fetchTxHex) {\n      txHex = await getRawTx({ txHash: hash, chain, apiKey });\n    }\n    results.push({\n      address,\n      hash,\n      index,\n      txHex,\n      value,\n      witnessUtxo: { value, script: Buffer.from(script_hex, \"hex\") },\n    });\n  }\n  return results;\n};\n\nexport const blockchairApi = ({ apiKey, chain }: { apiKey?: string; chain: UTXOChain }) => ({\n  getConfirmedBalance: (address: string) => getConfirmedBalance({ chain, address, apiKey }),\n  getRawTx: (txHash: string) => getRawTx({ txHash, chain, apiKey }),\n  getSuggestedTxFee: () => getSuggestedTxFee(chain),\n  getBalance: (address: string) => getUnconfirmedBalance({ address, chain, apiKey }),\n  getAddressData: (address: string) => getAddressData({ address, chain, apiKey }),\n  scanUTXOs: (params: { address: string; fetchTxHex?: boolean }) =>\n    scanUTXOs({ ...params, chain, apiKey }),\n});\n\nexport type BlockchairApiType = ReturnType<typeof blockchairApi>;\n","import { Chain, FeeOption } from \"@swapkit/types\";\nimport { networks } from \"bitcoinjs-lib\";\nimport coininfo from \"coininfo\";\n\nconst pid = typeof process !== \"undefined\" && process.pid ? process.pid.toString(36) : \"\";\n\nexport const getNetwork = (chain: Chain) => {\n  switch (chain) {\n    case Chain.Bitcoin:\n      return networks.bitcoin;\n    case Chain.BitcoinCash:\n      return coininfo.bitcoincash.main.toBitcoinJS();\n    case Chain.Dash:\n      return coininfo.dash.main.toBitcoinJS();\n    case Chain.Litecoin:\n      return coininfo.litecoin.main.toBitcoinJS();\n\n    case Chain.Dogecoin: {\n      const bip32 = { private: 0x04358394, public: 0x043587cf };\n      const test = coininfo.dogecoin.test;\n      test.versions.bip32 = bip32;\n      return coininfo.dogecoin.main.toBitcoinJS();\n    }\n    default:\n      throw new Error(\"Invalid chain\");\n  }\n};\n\nexport const standardFeeRates = (rate: number) => ({\n  [FeeOption.Average]: rate,\n  [FeeOption.Fast]: rate * 1.5,\n  [FeeOption.Fastest]: rate * 2.0,\n});\n\nlet last = 0;\nconst now = () => {\n  const time = Date.now();\n  const lastTime = last || time;\n  last = lastTime;\n\n  return time > last ? time : lastTime + 1;\n};\n\nexport const uniqid = () => pid + now().toString(36);\n","import { RequestClient } from \"@swapkit/helpers\";\n\nimport { uniqid } from \"../utils/utils.ts\";\n\nexport const broadcastUTXOTx = async ({ txHash, rpcUrl }: { txHash: string; rpcUrl: string }) => {\n  const body = JSON.stringify({\n    jsonrpc: \"2.0\",\n    method: \"sendrawtransaction\",\n    params: [txHash],\n    id: uniqid(),\n  });\n\n  const response = await RequestClient.post<{\n    id: string;\n    result: string;\n    error: { message: string; code?: number } | null;\n  }>(rpcUrl, { headers: { \"Content-Type\": \"application/json\" }, body });\n\n  if (response.error) {\n    throw new Error(`failed to broadcast a transaction: ${response.error?.message}`);\n  }\n\n  if (response.result.includes('\"code\":-26')) {\n    throw new Error(\"Invalid transaction: the transaction amount was too low\");\n  }\n\n  return response.result;\n};\n","import base58check from \"bs58check\";\n// @ts-expect-error\nimport cashaddr from \"cashaddrjs\";\n\nenum Format {\n  Legacy = \"legacy\",\n  Bitpay = \"bitpay\",\n  Cashaddr = \"cashaddr\",\n}\nenum Network {\n  Mainnet = \"mainnet\",\n  Testnet = \"testnet\",\n}\nenum Type {\n  P2PKH = \"p2pkh\",\n  P2SH = \"p2sh\",\n}\n\nconst VERSION_BYTE = {\n  [Format.Legacy]: {\n    [Network.Mainnet]: {\n      [Type.P2PKH]: 0,\n      [Type.P2SH]: 5,\n    },\n    [Network.Testnet]: {\n      [Type.P2PKH]: 111,\n      [Type.P2SH]: 196,\n    },\n  },\n  [Format.Bitpay]: {\n    [Network.Mainnet]: {\n      [Type.P2PKH]: 28,\n      [Type.P2SH]: 40,\n    },\n    [Network.Testnet]: {\n      [Type.P2PKH]: 111,\n      [Type.P2SH]: 196,\n    },\n  },\n};\n\ntype DecodedType = {\n  format: Format;\n  network: Network;\n  type: Type;\n  hash: any;\n};\n\nclass InvalidAddressError extends Error {\n  constructor() {\n    super(\"Received an invalid Bitcoin Cash address as input.\");\n    this.stack = new Error().stack;\n  }\n}\n\nfunction isValidAddress(input: any) {\n  try {\n    decodeAddress(input);\n    return true;\n  } catch (_error) {\n    return false;\n  }\n}\n\nfunction detectAddressNetwork(address: string) {\n  return decodeAddress(address)?.network;\n}\n\nfunction toLegacyAddress(address: string): string {\n  const decoded = decodeAddress(address);\n  if (decoded?.format === Format.Legacy) {\n    return address;\n  }\n  return encodeAsLegacy(decoded);\n}\n\nfunction toCashAddress(address: string): string {\n  const decoded = decodeAddress(address);\n  return encodeAsCashaddr(decoded);\n}\n\nfunction decodeAddress(address: string) {\n  try {\n    return decodeBase58Address(address);\n  } catch (_error) {\n    // Try to decode as cashaddr if base58 decoding fails.\n  }\n  try {\n    return decodeCashAddress(address);\n  } catch (_error) {\n    // Try to decode as bitpay if cashaddr decoding fails.\n  }\n  throw new InvalidAddressError();\n}\n\nfunction decodeBase58Address(address: string) {\n  try {\n    const payload = base58check.decode(address);\n\n    // BASE_58_CHECK_PAYLOAD_LENGTH\n    if (payload.length !== 21) throw new InvalidAddressError();\n    const versionByte = payload[0];\n    const hash = Array.prototype.slice.call(payload, 1);\n\n    switch (versionByte) {\n      case VERSION_BYTE[Format.Legacy][Network.Mainnet][Type.P2PKH]:\n        return { hash, format: Format.Legacy, network: Network.Mainnet, type: Type.P2PKH };\n\n      case VERSION_BYTE[Format.Legacy][Network.Mainnet][Type.P2SH]:\n        return { hash, format: Format.Legacy, network: Network.Mainnet, type: Type.P2SH };\n\n      case VERSION_BYTE[Format.Legacy][Network.Testnet][Type.P2PKH]:\n        return { hash, format: Format.Legacy, network: Network.Testnet, type: Type.P2PKH };\n\n      case VERSION_BYTE[Format.Legacy][Network.Testnet][Type.P2SH]:\n        return { hash, format: Format.Legacy, network: Network.Testnet, type: Type.P2SH };\n\n      case VERSION_BYTE[Format.Bitpay][Network.Mainnet][Type.P2PKH]:\n        return { hash, format: Format.Bitpay, network: Network.Mainnet, type: Type.P2PKH };\n\n      case VERSION_BYTE[Format.Bitpay][Network.Mainnet][Type.P2SH]:\n        return { hash, format: Format.Bitpay, network: Network.Mainnet, type: Type.P2SH };\n\n      default:\n        throw new InvalidAddressError();\n    }\n  } catch (_error) {\n    throw new InvalidAddressError();\n  }\n}\n\nfunction decodeCashAddress(address: string) {\n  if (address.indexOf(\":\") !== -1) {\n    try {\n      return decodeCashAddressWithPrefix(address);\n    } catch (_error) {\n      // Try to decode as legacy if cashaddr decoding fails.\n    }\n  } else {\n    const prefixes = [\"bitcoincash\", \"bchtest\", \"bchreg\"];\n    for (const prefix of prefixes) {\n      try {\n        return decodeCashAddressWithPrefix(`${prefix}:${address}`);\n      } catch (_error) {\n        // Try next prefix if decoding fails.\n      }\n    }\n  }\n\n  throw new InvalidAddressError();\n}\n\nfunction decodeCashAddressWithPrefix(address: string): DecodedType {\n  try {\n    const { hash, prefix, type } = cashaddr.decode(address);\n\n    return {\n      format: Format.Cashaddr,\n      hash: Array.prototype.slice.call(hash, 0),\n      network: prefix === \"bitcoincash\" ? Network.Mainnet : Network.Testnet,\n      type: type === \"P2PKH\" ? Type.P2PKH : Type.P2SH,\n    };\n  } catch (_error) {\n    throw new InvalidAddressError();\n  }\n}\n\nfunction encodeAsLegacy(decoded: DecodedType) {\n  const versionByte = VERSION_BYTE[Format.Legacy][decoded.network][decoded.type];\n  const buffer = Buffer.alloc(1 + decoded.hash.length);\n  buffer[0] = versionByte;\n  buffer.set(decoded.hash, 1);\n  return base58check.encode(buffer);\n}\n\nfunction encodeAsCashaddr(decoded: DecodedType) {\n  const prefix = decoded.network === Network.Mainnet ? \"bitcoincash\" : \"bchtest\";\n  const type = decoded.type === Type.P2PKH ? \"P2PKH\" : \"P2SH\";\n  const hash = new Uint8Array(decoded.hash);\n  return cashaddr.encode(prefix, type, hash);\n}\n\nexport { detectAddressNetwork, isValidAddress, Network, toCashAddress, toLegacyAddress };\n","import { Chain, type UTXOChain } from \"@swapkit/types\";\n\nimport type { TargetOutput, UTXOCalculateTxSizeParams } from \"../types/index.ts\";\nimport {\n  TX_OVERHEAD,\n  UTXOScriptType,\n  calculateTxSize,\n  getInputSize,\n  getOutputSize,\n  getScriptTypeForAddress,\n} from \"../utils/index.ts\";\n\nexport const getDustThreshold = (chain: UTXOChain) => {\n  switch (chain) {\n    case Chain.Bitcoin:\n    case Chain.BitcoinCash:\n      return 550;\n    case Chain.Dash:\n    case Chain.Litecoin:\n      return 5500;\n    case Chain.Dogecoin:\n      return 100000;\n    default:\n      throw new Error(\"Invalid Chain\");\n  }\n};\n\nexport const accumulative = ({\n  inputs,\n  outputs,\n  feeRate: initialFeeRate = 1,\n  chain = Chain.Bitcoin,\n}: UTXOCalculateTxSizeParams & { outputs: TargetOutput[]; chain: UTXOChain }) => {\n  const feeRate = Math.ceil(initialFeeRate);\n\n  const newTxType =\n    inputs[0] && \"address\" in inputs[0] && inputs[0].address\n      ? getScriptTypeForAddress(inputs[0].address)\n      : UTXOScriptType.P2PKH;\n  // skip input if adding it would cost more than input is worth\n  const filteredInputs = inputs.filter((input) => getInputSize(input) * feeRate <= input.value);\n\n  const txSizeWithoutInputs =\n    TX_OVERHEAD + outputs.reduce((total, output) => total + getOutputSize(output, newTxType), 0);\n\n  const amountToSend = outputs.reduce((total, output) => total + output.value, 0);\n\n  let fees = txSizeWithoutInputs * feeRate;\n  let inputsValue = 0;\n  const inputsToUse: typeof inputs = [];\n\n  for (const input of filteredInputs) {\n    const inputSize = getInputSize(input);\n    const inputFee = feeRate * inputSize;\n\n    fees += inputFee;\n    inputsValue += input.value;\n\n    inputsToUse.push(input);\n\n    const totalCost = fees + amountToSend;\n\n    // we need more inputs\n    if (inputsValue < totalCost) continue;\n\n    const remainder = inputsValue - totalCost;\n\n    const feeForExtraOutput = feeRate * getOutputSize({ address: \"\", value: 0 }, newTxType);\n\n    // potential change address\n    if (remainder > feeForExtraOutput) {\n      const feeAfterExtraOutput = feeForExtraOutput + fees;\n      const remainderAfterExtraOutput = inputsValue - (amountToSend + feeAfterExtraOutput);\n\n      // is it worth a change output aka can we send it in the future?\n      if (\n        remainderAfterExtraOutput >\n        Math.max(getInputSize({} as any) * feeRate, getDustThreshold(chain))\n      ) {\n        return {\n          inputs: inputsToUse,\n          outputs: outputs.concat({ value: remainderAfterExtraOutput, address: \"\" }),\n          fee: feeAfterExtraOutput,\n        };\n      }\n    }\n    return {\n      inputs: inputsToUse,\n      outputs,\n      fee: fees,\n    };\n  }\n\n  // We don't have enough inputs, let's calculate transaction fee accrude to the last input\n  return { fee: feeRate * calculateTxSize({ inputs, outputs, feeRate }) };\n};\n","import { opcodes, script } from \"bitcoinjs-lib\";\n\nimport type {\n  TargetOutput,\n  UTXOCalculateTxSizeParams,\n  UTXOInputWithScriptType,\n  UTXOType,\n} from \"../types/index.ts\";\n\n/**\n * Minimum transaction fee\n * 1000 satoshi/kB (similar to current `minrelaytxfee`)\n * @see https://github.com/bitcoin/bitcoin/blob/db88db47278d2e7208c50d16ab10cb355067d071/src/validation.h#L56\n */\nexport const MIN_TX_FEE = 1000;\nexport const TX_OVERHEAD = 4 + 1 + 1 + 4; //10\nexport const OP_RETURN_OVERHEAD = 1 + 8 + 1; //10\nconst TX_INPUT_BASE = 32 + 4 + 1 + 4; // 41\nconst TX_INPUT_PUBKEYHASH = 107;\n\nexport const compileMemo = (memo: string) => {\n  const data = Buffer.from(memo, \"utf8\"); // converts MEMO to buffer\n  return script.compile([opcodes.OP_RETURN, data]); // Compile OP_RETURN script\n};\n\nexport enum UTXOScriptType {\n  P2PKH = \"P2PKH\", // legacy\n  //   P2SH = 'P2SH', // multisig\n  P2WPKH = \"P2WPKH\", // bech32 - native segwit\n  //   P2TR = \"P2TR\", // taproot\n}\n\nexport const InputSizes: Record<UTXOScriptType, number> = {\n  [UTXOScriptType.P2PKH]: 148,\n  //   [UTXOScriptType.P2SH]: 91,\n  [UTXOScriptType.P2WPKH]: 68,\n};\n\nexport const OutputSizes: Record<UTXOScriptType, number> = {\n  [UTXOScriptType.P2PKH]: 34,\n  //   [UTXOScriptType.P2SH]: 91,\n  [UTXOScriptType.P2WPKH]: 31,\n};\n\nexport const getScriptTypeForAddress = (address: string) => {\n  if (address.startsWith(\"bc1\") || address.startsWith(\"ltc1\")) {\n    return UTXOScriptType.P2WPKH;\n  }\n  //   if (address.startsWith('3') || address.startsWith('M')) {\n  //     return UTXOScriptType.P2SH;\n  //   }\n  if (\n    address.startsWith(\"1\") ||\n    address.startsWith(\"3\") ||\n    address.startsWith(\"L\") ||\n    address.startsWith(\"M\") ||\n    address.startsWith(\"X\") ||\n    address.startsWith(\"D\") ||\n    address.startsWith(\"bitcoincash:q\") ||\n    address.startsWith(\"q\")\n  ) {\n    return UTXOScriptType.P2PKH;\n  }\n  throw new Error(\"Invalid address\");\n};\n\nexport const calculateTxSize = ({ inputs, outputs, feeRate }: UTXOCalculateTxSizeParams) => {\n  const newTxType =\n    inputs[0] && \"address\" in inputs[0] && inputs[0].address\n      ? getScriptTypeForAddress(inputs[0].address)\n      : UTXOScriptType.P2PKH;\n  const inputSize = inputs\n    .filter(\n      (utxo) =>\n        utxo.value >=\n        InputSizes[\"type\" in utxo ? utxo.type : UTXOScriptType.P2PKH] * Math.ceil(feeRate),\n    )\n    .reduce((total, utxo) => total + getInputSize(utxo), 0);\n\n  const outputSize =\n    outputs?.reduce((total, output) => total + getOutputSize(output), 0) || OutputSizes[newTxType];\n\n  return TX_OVERHEAD + inputSize + outputSize;\n};\n\nexport const getInputSize = (input: UTXOInputWithScriptType | UTXOType) => {\n  if (\"type\" in input) {\n    return InputSizes[input.type];\n  }\n  if (\"address\" in input && input.address) {\n    return InputSizes[getScriptTypeForAddress(input.address as string)];\n  }\n  return TX_INPUT_BASE + TX_INPUT_PUBKEYHASH;\n};\n\nexport const getOutputSize = (output: TargetOutput, scriptType?: UTXOScriptType) => {\n  if (output?.script) {\n    return OP_RETURN_OVERHEAD + output.script.length + (output.script.length >= 74 ? 2 : 1);\n  }\n  if (scriptType) {\n    return OutputSizes[scriptType];\n  }\n  return OutputSizes[UTXOScriptType.P2PKH];\n};\n","import * as ecc from \"@bitcoinerlab/secp256k1\";\nimport { HDKey } from \"@scure/bip32\";\nimport { mnemonicToSeedSync } from \"@scure/bip39\";\nimport { AssetValue, SwapKitNumber } from \"@swapkit/helpers\";\nimport type { UTXOChain } from \"@swapkit/types\";\nimport { BaseDecimal, Chain, FeeOption } from \"@swapkit/types\";\nimport { Psbt, address as btcLibAddress, initEccLib, payments } from \"bitcoinjs-lib\";\nimport type { ECPairInterface } from \"ecpair\";\nimport { ECPairFactory } from \"ecpair\";\n\nimport type { BlockchairApiType } from \"../api/blockchairApi.ts\";\nimport type {\n  TargetOutput,\n  UTXOBaseToolboxParams,\n  UTXOBuildTxParams,\n  UTXOType,\n  UTXOWalletTransferParams,\n} from \"../types/common.ts\";\nimport {\n  UTXOScriptType,\n  accumulative,\n  calculateTxSize,\n  compileMemo,\n  getDustThreshold,\n  getInputSize,\n  getNetwork,\n  standardFeeRates,\n} from \"../utils/index.ts\";\n\nconst createKeysForPath = async ({\n  phrase,\n  wif,\n  derivationPath,\n  chain,\n}: {\n  phrase?: string;\n  wif?: string;\n  derivationPath: string;\n  chain: Chain;\n}) => {\n  if (!(wif || phrase)) throw new Error(\"Either phrase or wif must be provided\");\n\n  const secp256k1 = await import(\"@bitcoinerlab/secp256k1\");\n  const factory = ECPairFactory(secp256k1);\n  const network = getNetwork(chain);\n\n  if (wif) return factory.fromWIF(wif, network);\n\n  const seed = mnemonicToSeedSync(phrase as string);\n  const master = HDKey.fromMasterSeed(seed, network).derive(derivationPath);\n  if (!master.privateKey) throw new Error(\"Could not get private key from phrase\");\n\n  return factory.fromPrivateKey(Buffer.from(master.privateKey), { network });\n};\n\nconst validateAddress = ({ address, chain }: { address: string } & UTXOBaseToolboxParams) => {\n  try {\n    initEccLib(ecc);\n    btcLibAddress.toOutputScript(address, getNetwork(chain));\n    return true;\n  } catch (_error) {\n    return false;\n  }\n};\n\nconst getAddressFromKeys = ({ keys, chain }: { keys: ECPairInterface } & UTXOBaseToolboxParams) => {\n  if (!keys) throw new Error(\"Keys must be provided\");\n\n  const method = Chain.Dogecoin === chain ? payments.p2pkh : payments.p2wpkh;\n  const { address } = method({ pubkey: keys.publicKey, network: getNetwork(chain) });\n  if (!address) throw new Error(\"Address not defined\");\n\n  return address;\n};\n\nconst transfer = async ({\n  signTransaction,\n  from,\n  memo,\n  recipient,\n  chain,\n  apiClient,\n  feeOptionKey,\n  broadcastTx,\n  feeRate,\n  assetValue,\n}: UTXOWalletTransferParams<Psbt, Psbt>) => {\n  if (!from) throw new Error(\"From address must be provided\");\n  if (!recipient) throw new Error(\"Recipient address must be provided\");\n  const txFeeRate = feeRate || (await getFeeRates(apiClient))[feeOptionKey || FeeOption.Fast];\n\n  const { psbt } = await buildTx({\n    recipient,\n    feeRate: txFeeRate,\n    sender: from,\n    fetchTxHex: chain === Chain.Dogecoin,\n    chain,\n    apiClient,\n    assetValue,\n    memo,\n  });\n  const signedPsbt = await signTransaction(psbt);\n  signedPsbt.finalizeAllInputs(); // Finalise inputs\n  // TX extracted and formatted to hex\n  return broadcastTx(signedPsbt.extractTransaction().toHex());\n};\n\nconst getBalance = async ({\n  address,\n  chain,\n  apiClient,\n}: { address: string } & UTXOBaseToolboxParams) => {\n  const balance = (await apiClient.getBalance(address)) / 10 ** BaseDecimal[chain];\n  const asset = await AssetValue.fromIdentifier(`${chain}.${chain}`, balance);\n\n  return [asset];\n};\n\nconst getFeeRates = async (apiClient: BlockchairApiType) =>\n  standardFeeRates(await apiClient.getSuggestedTxFee());\n\nconst getInputsAndTargetOutputs = async ({\n  assetValue,\n  recipient,\n  memo,\n  sender,\n  fetchTxHex = false,\n  apiClient,\n}: {\n  assetValue: AssetValue;\n  recipient: string;\n  memo?: string;\n  sender: string;\n  fetchTxHex?: boolean;\n  apiClient: BlockchairApiType;\n}) => {\n  const inputs = await apiClient.scanUTXOs({\n    address: sender,\n    fetchTxHex,\n  });\n\n  //1. add output amount and recipient to targets\n  //2. add output memo to targets (optional)\n\n  return {\n    inputs,\n    outputs: [\n      { address: recipient, value: Number(assetValue.bigIntValue) },\n      ...(memo ? [{ address: \"\", script: compileMemo(memo), value: 0 }] : []),\n    ],\n  };\n};\n\nconst buildTx = async ({\n  assetValue,\n  recipient,\n  memo,\n  feeRate,\n  sender,\n  fetchTxHex = false,\n  apiClient,\n  chain,\n}: UTXOBuildTxParams): Promise<{\n  psbt: Psbt;\n  utxos: UTXOType[];\n  inputs: UTXOType[];\n  // biome-ignore lint/complexity/noExcessiveCognitiveComplexity: TODO: refactor\n}> => {\n  const compiledMemo = memo ? compileMemo(memo) : null;\n\n  const inputsAndOutputs = await getInputsAndTargetOutputs({\n    assetValue,\n    recipient,\n    memo,\n    sender,\n    fetchTxHex,\n    apiClient,\n  });\n\n  const { inputs, outputs } = accumulative({ ...inputsAndOutputs, feeRate, chain });\n\n  // .inputs and .outputs will be undefined if no solution was found\n  if (!(inputs && outputs)) throw new Error(\"Insufficient Balance for transaction\");\n  const psbt = new Psbt({ network: getNetwork(chain) }); // Network-specific\n\n  if (chain === Chain.Dogecoin) psbt.setMaximumFeeRate(650000000);\n\n  for (const utxo of inputs) {\n    psbt.addInput({\n      // FIXME: (@Towan, @Chillios) - Check on this as types says it's not defined\n      // @ts-ignore\n      hash: utxo.hash,\n      index: utxo.index,\n      ...(!!utxo.witnessUtxo && chain !== Chain.Dogecoin && { witnessUtxo: utxo.witnessUtxo }),\n      ...(chain === Chain.Dogecoin && {\n        nonWitnessUtxo: utxo.txHex ? Buffer.from(utxo.txHex, \"hex\") : undefined,\n      }),\n    });\n  }\n\n  for (const output of outputs) {\n    const address = \"address\" in output && output.address ? output.address : sender;\n    const params = output.script\n      ? compiledMemo\n        ? { script: compiledMemo, value: 0 }\n        : undefined\n      : { address, value: output.value };\n\n    if (params) {\n      initEccLib(ecc);\n      psbt.addOutput(params);\n    }\n  }\n\n  return { psbt, utxos: inputsAndOutputs.inputs, inputs };\n};\n\nconst getInputsOutputsFee = async ({\n  assetValue,\n  apiClient,\n  chain,\n  feeOptionKey = FeeOption.Fast,\n  feeRate,\n  fetchTxHex = false,\n  memo,\n  recipient,\n  sender,\n}: {\n  assetValue: AssetValue;\n  recipient: string;\n  memo?: string;\n  feeRate: number;\n  sender: string;\n  fetchTxHex?: boolean;\n  apiClient: BlockchairApiType;\n  chain: UTXOChain;\n  feeOptionKey?: FeeOption;\n  feeeRate?: number;\n}) => {\n  const inputsAndOutputs = await getInputsAndTargetOutputs({\n    assetValue,\n    recipient,\n    memo,\n    sender,\n    fetchTxHex,\n    apiClient,\n  });\n\n  const feeRateWhole = feeRate ? Math.floor(feeRate) : (await getFeeRates(apiClient))[feeOptionKey];\n\n  return accumulative({ ...inputsAndOutputs, feeRate: feeRateWhole, chain });\n};\n\nexport const estimateMaxSendableAmount = async ({\n  from,\n  memo,\n  feeRate,\n  feeOptionKey = FeeOption.Fast,\n  recipients = 1,\n  chain,\n  apiClient,\n}: UTXOBaseToolboxParams & {\n  recipients?: number | TargetOutput[];\n  memo?: string;\n  feeRate?: number;\n  feeOptionKey?: FeeOption;\n  from: string;\n}) => {\n  const addressData = await apiClient.getAddressData(from);\n  const feeRateWhole = feeRate ? Math.ceil(feeRate) : (await getFeeRates(apiClient))[feeOptionKey];\n  const inputs = addressData.utxo\n    .map((utxo) => ({\n      ...utxo,\n      // type: utxo.witnessUtxo ? UTXOScriptType.P2WPKH : UTXOScriptType.P2PKH,\n      type: UTXOScriptType.P2PKH,\n      hash: \"\",\n    }))\n    .filter(\n      (utxo) => utxo.value > Math.max(getDustThreshold(chain), getInputSize(utxo) * feeRateWhole),\n    );\n\n  const balance = AssetValue.fromChainOrSignature(\n    chain,\n    inputs.reduce((sum, utxo) => sum + utxo.value, 0),\n  );\n\n  const outputs =\n    typeof recipients === \"number\"\n      ? (Array.from({ length: recipients }, () => ({ address: from, value: 0 })) as TargetOutput[])\n      : recipients;\n\n  if (memo) {\n    const compiledMemo = compileMemo(memo);\n    outputs.push({ address: from, script: compiledMemo, value: 0 });\n  }\n\n  const txSize = calculateTxSize({\n    inputs,\n    outputs,\n    feeRate: feeRateWhole,\n  });\n\n  const fee = txSize * feeRateWhole;\n\n  return balance.sub(fee);\n};\n\nexport const BaseUTXOToolbox = (\n  baseToolboxParams: UTXOBaseToolboxParams & { broadcastTx: (txHex: string) => Promise<string> },\n) => ({\n  accumulative,\n  apiClient: baseToolboxParams.apiClient,\n  broadcastTx: baseToolboxParams.broadcastTx,\n  calculateTxSize,\n  buildTx: (params: any) => buildTx({ ...params, ...baseToolboxParams }),\n  getAddressFromKeys: (keys: ECPairInterface) => getAddressFromKeys({ keys, ...baseToolboxParams }),\n  validateAddress: (address: string) => validateAddress({ address, ...baseToolboxParams }),\n\n  createKeysForPath: (params: any) => createKeysForPath({ ...params, ...baseToolboxParams }),\n\n  getPrivateKeyFromMnemonic: async ({\n    phrase,\n    derivationPath,\n  }: {\n    phrase: string;\n    derivationPath: string;\n  }) => (await createKeysForPath({ phrase, derivationPath, ...baseToolboxParams })).toWIF(),\n\n  getBalance: async (address: string, _potentialScamFilter?: boolean) =>\n    getBalance({ address, ...baseToolboxParams }),\n\n  getFeeRates: () => getFeeRates(baseToolboxParams.apiClient),\n\n  transfer: (params: any) => transfer({ ...params, ...baseToolboxParams }),\n\n  getInputsOutputsFee: (params: any) => getInputsOutputsFee({ ...params, ...baseToolboxParams }),\n\n  getFeeForTransaction: async (params: any) =>\n    new SwapKitNumber({\n      value: (await getInputsOutputsFee({ ...params, ...baseToolboxParams })).fee,\n      decimal: 8,\n    }),\n\n  estimateMaxSendableAmount: async (params: any) =>\n    estimateMaxSendableAmount({ ...params, ...baseToolboxParams }),\n});\n","import {\n  HDNode,\n  Transaction,\n  TransactionBuilder,\n  address as bchAddress,\n} from \"@psf/bitcoincashjs-lib\";\nimport { mnemonicToSeedSync } from \"@scure/bip39\";\nimport type { UTXOChain } from \"@swapkit/types\";\nimport { Chain, DerivationPath, FeeOption, RPCUrl } from \"@swapkit/types\";\nimport { Psbt } from \"bitcoinjs-lib\";\nimport { ECPairFactory } from \"ecpair\";\n\nimport type { BlockchairApiType } from \"../api/blockchairApi.ts\";\nimport { blockchairApi } from \"../api/blockchairApi.ts\";\nimport { broadcastUTXOTx } from \"../api/rpcApi.ts\";\nimport type {\n  TargetOutput,\n  TransactionBuilderType,\n  TransactionType,\n  UTXOBuildTxParams,\n  UTXOWalletTransferParams,\n} from \"../types/common.ts\";\nimport type { UTXOType } from \"../types/index.ts\";\nimport {\n  Network as bchNetwork,\n  detectAddressNetwork,\n  isValidAddress,\n  toCashAddress,\n  toLegacyAddress,\n} from \"../utils/bchaddrjs.ts\";\nimport { accumulative, compileMemo, getNetwork } from \"../utils/index.ts\";\n\nimport { BaseUTXOToolbox } from \"./utxo.ts\";\n\n// needed because TS can not infer types\ntype BCHMethods = {\n  stripPrefix: (address: string) => string;\n  stripToCashAddress: (address: string) => string;\n  validateAddress: (address: string, chain?: UTXOChain) => boolean;\n  createKeysForPath: (params: {\n    wif?: string;\n    phrase?: string;\n    derivationPath?: string;\n  }) => Promise<{ getAddress: (index?: number) => string }>;\n  getAddressFromKeys: (keys: { getAddress: (index?: number) => string }) => string;\n  buildBCHTx: (\n    params: UTXOBuildTxParams & { apiClient: BlockchairApiType },\n  ) => Promise<{ builder: TransactionBuilderType; utxos: UTXOType[] }>;\n  buildTx: (params: UTXOBuildTxParams) => Promise<{ psbt: Psbt }>;\n  transfer: (\n    params: UTXOWalletTransferParams<\n      { builder: TransactionBuilderType; utxos: UTXOType[] },\n      TransactionType\n    >,\n  ) => Promise<string>;\n};\n\nconst chain = Chain.BitcoinCash as UTXOChain;\n\nconst stripToCashAddress = (address: string) => stripPrefix(toCashAddress(address));\n\nconst buildBCHTx: BCHMethods[\"buildBCHTx\"] = async ({\n  assetValue,\n  recipient,\n  memo,\n  feeRate,\n  sender,\n  apiClient,\n}) => {\n  if (!validateAddress(recipient)) throw new Error(\"Invalid address\");\n  const utxos = await apiClient.scanUTXOs({\n    address: stripToCashAddress(sender),\n    fetchTxHex: true,\n  });\n\n  const compiledMemo = memo ? compileMemo(memo) : null;\n\n  const targetOutputs: TargetOutput[] = [];\n  // output to recipient\n  targetOutputs.push({ address: recipient, value: assetValue.getBaseValue(\"number\") });\n  const { inputs, outputs } = accumulative({\n    inputs: utxos,\n    outputs: targetOutputs,\n    feeRate,\n    chain,\n  });\n\n  // .inputs and .outputs will be undefined if no solution was found\n  if (!(inputs && outputs)) throw new Error(\"Balance insufficient for transaction\");\n\n  const builder = new TransactionBuilder(getNetwork(chain));\n\n  await Promise.all(\n    inputs.map(async (utxo: UTXOType) => {\n      const txHex = await apiClient.getRawTx(utxo.hash);\n      builder.addInput(Transaction.fromBuffer(Buffer.from(txHex, \"hex\")), utxo.index);\n    }),\n  );\n\n  for (const output of outputs) {\n    const address = \"address\" in output && output.address ? output.address : sender;\n    const outputScript = bchAddress.toOutputScript(toLegacyAddress(address), getNetwork(chain));\n\n    builder.addOutput(outputScript, output.value);\n  }\n\n  // add output for memo\n  if (compiledMemo) {\n    builder.addOutput(compiledMemo, 0); // Add OP_RETURN {script, value}\n  }\n\n  return { builder, utxos: inputs };\n};\n\nconst transfer = async ({\n  signTransaction,\n  from,\n  recipient,\n  assetValue,\n  apiClient,\n  broadcastTx,\n  getFeeRates,\n  ...rest\n}: UTXOWalletTransferParams<\n  { builder: TransactionBuilderType; utxos: UTXOType[] },\n  TransactionType\n> & {\n  apiClient: BlockchairApiType;\n  broadcastTx: (txHash: string) => Promise<string>;\n  getFeeRates: () => Promise<Record<FeeOption, number>>;\n}) => {\n  if (!from) throw new Error(\"From address must be provided\");\n  if (!recipient) throw new Error(\"Recipient address must be provided\");\n  if (!signTransaction) throw new Error(\"signTransaction must be provided\");\n\n  const feeRate = rest.feeRate || (await getFeeRates())[FeeOption.Fast];\n\n  // try out if psbt tx is faster/better/nicer\n  const { builder, utxos } = await buildBCHTx({\n    ...rest,\n    assetValue,\n    feeRate,\n    recipient,\n    sender: from,\n    apiClient,\n  });\n\n  const tx = await signTransaction({ builder, utxos });\n  const txHex = tx.toHex();\n\n  return broadcastTx(txHex);\n};\n\nconst buildTx = async ({\n  assetValue,\n  recipient,\n  memo,\n  feeRate,\n  sender,\n  apiClient,\n  // biome-ignore lint/complexity/noExcessiveCognitiveComplexity: TODO: refactor\n}: UTXOBuildTxParams & { apiClient: BlockchairApiType }) => {\n  const recipientCashAddress = toCashAddress(recipient);\n  if (!validateAddress(recipientCashAddress)) throw new Error(\"Invalid address\");\n\n  const utxos = await apiClient.scanUTXOs({\n    address: stripToCashAddress(sender),\n    fetchTxHex: true,\n  });\n\n  const feeRateWhole = Number(feeRate.toFixed(0));\n  const compiledMemo = memo ? compileMemo(memo) : null;\n\n  const targetOutputs = [] as TargetOutput[];\n\n  // output to recipient\n  targetOutputs.push({\n    address: toLegacyAddress(recipient),\n    value: assetValue.getBaseValue(\"number\"),\n  });\n\n  //2. add output memo to targets (optional)\n  if (compiledMemo) {\n    targetOutputs.push({ script: compiledMemo, value: 0 });\n  }\n\n  const { inputs, outputs } = accumulative({\n    inputs: utxos,\n    outputs: targetOutputs,\n    feeRate: feeRateWhole,\n    chain,\n  });\n\n  // .inputs and .outputs will be undefined if no solution was found\n  if (!(inputs && outputs)) throw new Error(\"Balance insufficient for transaction\");\n  const psbt = new Psbt({ network: getNetwork(chain) }); // Network-specific\n\n  for (const { hash, index, witnessUtxo } of inputs) {\n    // @ts-expect-error TODO: check if it's needed to pass witnessUtxo\n    psbt.addInput({ hash, index, witnessUtxo });\n  }\n\n  // Outputs\n  for (const output of outputs) {\n    const address = \"address\" in output && output.address ? output.address : sender;\n    const params = output.script\n      ? compiledMemo\n        ? { script: compiledMemo, value: 0 }\n        : undefined\n      : { address, value: output.value };\n\n    if (params) {\n      psbt.addOutput(params);\n    }\n  }\n\n  return { psbt, utxos, inputs: inputs as UTXOType[] };\n};\n\nconst stripPrefix = (address: string) => address.replace(/(bchtest:|bitcoincash:)/, \"\");\n\nconst validateAddress = (address: string, _chain?: UTXOChain) => {\n  const startsWithBCH = address.startsWith(\"bitcoincash:\");\n  if (startsWithBCH) return true;\n  return isValidAddress(address) && detectAddressNetwork(address) === bchNetwork.Mainnet;\n};\n\nconst createKeysForPath: BCHMethods[\"createKeysForPath\"] = async ({\n  phrase,\n  derivationPath = `${DerivationPath.BCH}/0`,\n  wif,\n}) => {\n  const network = getNetwork(chain);\n\n  if (wif) {\n    const secp256k1 = await import(\"@bitcoinerlab/secp256k1\");\n    return ECPairFactory(secp256k1).fromWIF(wif, network);\n  }\n  if (!phrase) throw new Error(\"No phrase provided\");\n\n  const masterHDNode = HDNode.fromSeedBuffer(Buffer.from(mnemonicToSeedSync(phrase)), network);\n  const keyPair = masterHDNode.derivePath(derivationPath).keyPair;\n  // TODO: Figure out same pattern as in BTC\n  // const testWif = keyPair.toWIF();\n  // const k = ECPairFactory(secp256k1).fromWIF(testWif, network);\n  // const a = payments.p2pkh({ pubkey: k.publicKey, network });\n\n  return keyPair;\n};\n\nconst getAddressFromKeys = (keys: { getAddress: (index?: number) => string }) => {\n  const address = keys.getAddress(0);\n  return stripToCashAddress(address);\n};\n\nexport const createBCHToolbox = ({\n  apiKey,\n  rpcUrl = RPCUrl.BitcoinCash,\n  apiClient: client,\n}: {\n  apiKey?: string;\n  rpcUrl?: string;\n  apiClient?: BlockchairApiType;\n}): Omit<\n  ReturnType<typeof BaseUTXOToolbox>,\n  \"getAddressFromKeys\" | \"transfer\" | \"createKeysForPath\"\n> &\n  BCHMethods => {\n  const apiClient = client || blockchairApi({ apiKey, chain });\n  const { getBalance, ...toolbox } = BaseUTXOToolbox({\n    chain,\n    apiClient,\n    broadcastTx: (txHash: string) => broadcastUTXOTx({ txHash, rpcUrl }),\n  });\n\n  return {\n    ...toolbox,\n    stripPrefix,\n    stripToCashAddress,\n    validateAddress,\n    createKeysForPath,\n    getAddressFromKeys,\n    buildBCHTx: (params: UTXOBuildTxParams) => buildBCHTx({ ...params, apiClient }),\n    getBalance: (address: string, _potentialScamFilter?: boolean) =>\n      getBalance(stripPrefix(toCashAddress(address))),\n    buildTx: (params: UTXOBuildTxParams) => buildTx({ ...params, apiClient }),\n    transfer: (\n      params: UTXOWalletTransferParams<\n        { builder: TransactionBuilderType; utxos: UTXOType[] },\n        TransactionType\n      >,\n    ) =>\n      transfer({\n        ...params,\n        getFeeRates: toolbox.getFeeRates,\n        broadcastTx: toolbox.broadcastTx,\n        apiClient,\n      }),\n  };\n};\n","import { Chain, ChainToRPC, type UTXOChain } from \"@swapkit/types\";\n\nimport type { BlockchairApiType } from \"../api/blockchairApi.ts\";\nimport { blockchairApi } from \"../api/blockchairApi.ts\";\nimport { broadcastUTXOTx } from \"../api/rpcApi.ts\";\n\nimport { createBCHToolbox } from \"./bitcoinCash.ts\";\nimport { BaseUTXOToolbox } from \"./utxo.ts\";\n\ntype ToolboxFactory = (params: {\n  apiKey?: string;\n  rpcUrl?: string;\n  apiClient?: BlockchairApiType;\n}) => ReturnType<typeof BaseUTXOToolbox>;\n\ntype ToolboxType = {\n  BCH: typeof BCHToolbox;\n  BTC: typeof BTCToolbox;\n  DOGE: typeof DOGEToolbox;\n  LTC: typeof LTCToolbox;\n  DASH: typeof DASHToolbox;\n};\n\nconst createToolbox =\n  (chain: UTXOChain): ToolboxFactory =>\n  ({ apiKey, rpcUrl = ChainToRPC[chain], apiClient }) => {\n    return BaseUTXOToolbox({\n      chain,\n      broadcastTx: (txHash: string) => broadcastUTXOTx({ txHash, rpcUrl }),\n      apiClient: apiClient || blockchairApi({ apiKey, chain }),\n    });\n  };\n\nexport const BCHToolbox = createBCHToolbox;\nexport const BTCToolbox = createToolbox(Chain.Bitcoin);\nexport const DASHToolbox = createToolbox(Chain.Dash);\nexport const DOGEToolbox = createToolbox(Chain.Dogecoin);\nexport const LTCToolbox = createToolbox(Chain.Litecoin);\n\nexport const getToolboxByChain = <T extends keyof ToolboxType>(chain: T): ToolboxType[T] => {\n  switch (chain) {\n    case Chain.BitcoinCash:\n      return BCHToolbox as ToolboxType[T];\n    case Chain.Bitcoin:\n      return BTCToolbox as ToolboxType[T];\n    case Chain.Dogecoin:\n      return DOGEToolbox as ToolboxType[T];\n    case Chain.Litecoin:\n      return LTCToolbox as ToolboxType[T];\n    case Chain.Dash:\n      return DASHToolbox as ToolboxType[T];\n    default:\n      throw new Error(`Chain ${chain} is not supported`);\n  }\n};\n"],"names":["OPS","require","map","op","module","exports","base58","Buffer","checksumFn","decodeRaw","buffer","payload","slice","checksum","newChecksum","encode","concat","length","decode","string","Error","decodeUnsafe","createHash","bs58checkBase","tmp","update","digest","bech32","bs58check","bscript","btemplates","networks","typeforce","types","fromBase58Check","address","TypeError","version","readUInt8","hash","fromBech32","result","data","fromWords","words","prefix","from","toBase58Check","tuple","Hash160bit","UInt8","arguments","allocUnsafe","writeUInt8","copy","toBech32","toWords","unshift","fromOutputScript","outputScript","network","bitcoin","pubKeyHash","output","check","compile","scriptHash","witnessPubKeyHash","witnessScriptHash","toASM","toOutputScript","e","bcrypto","fastMerkleRoot","varuint","Transaction","Block","this","prevHash","merkleRoot","timestamp","bits","nonce","fromBuffer","offset","readSlice","n","readUInt32","i","readUInt32LE","block","readInt32LE","readInt32","readTransaction","tx","byteLength","nTransactions","vi","bytes","readVarInt","transactions","push","prototype","headersOnly","encodingLength","reduce","a","x","fromHex","hex","getHash","hash256","toBuffer","getId","reverse","toString","getUTCDate","date","Date","setUTCSeconds","writeSlice","writeUInt32","writeUInt32LE","writeInt32LE","forEach","txSize","toHex","calculateTarget","exponent","mantissa","target","alloc","writeUInt32BE","calculateMerkleRoot","Function","hashes","transaction","checkMerkleRoot","actualMerkleRoot","compare","checkProofOfWork","pushdata","verifuint","value","max","Math","floor","pushDataSize","readPushDataInt","readUInt64LE","b","number","size","varIntBuffer","varIntSize","writePushDataInt","writeUInt64LE","writeVarInt","ripemd160","sha256","hash160","sha1","BigInteger","ECSignature","secp256k1","getCurveByName","deterministicGenerateK","N_OVER_TWO","shiftRight","sign","d","Hash256bit","BigInt","r","s","G","k","Q","multiply","isInfinity","affineX","mod","signum","modInverse","add","compareTo","subtract","verify","signature","ECPoint","sInv","u1","u2","R","multiplyTwo","equals","__curve","baddress","ecdsa","schnorr","randomBytes","wif","NETWORKS","ecurve","ECPair","options","compressed","maybe","Boolean","Network","__Q","undefined","Object","defineProperty","get","fromPublicKeyBuffer","Point","decodeFrom","fromWIF","decoded","Array","filter","pop","privateKey","makeRandom","rng","Buffer256bit","getAddress","getPublicKeyBuffer","getNetwork","getEncoded","signatureAlgorithm","ECDSA","SCHNORR","toWIF","bip66","parseCompact","BufferN","flagByte","fromRSBuffer","fromDER","fromDERInteger","parseScriptSignature","hashType","hashTypeMod","toCompact","toRSBuffer","toDER","toDERInteger","toScriptSignature","hashTypeBuffer","base58check","createHmac","curve","HDNode","keyPair","chainCode","depth","index","parentFingerprint","HIGHEST_BIT","LENGTH","MASTER_SECRET","fromSeedBuffer","seed","I","IL","IR","pIL","fromSeedHex","fromBase58","readUInt32BE","isArray","bip32","private","public","validate","hd","getIdentifier","getFingerprint","neutered","toBase58","__isPrivate","isNeutered","derive","UInt32","isHardened","derivedKeyPair","Ki","ki","deriveHardened","UInt31","derivePath","path","BIP32Path","splitPath","split","prevHd","indexStr","parseInt","script","templates","key","bufferutils","TransactionBuilder","crypto","opcodes","messagePrefix","testnet","litecoin","ZERO","ONE","checkSig","algo16","v","T","USE_RFC6979","jacobi","p","modPow","divide","valueOf","intValue","toCompressedPoint","P","affineY","isEven","h","signWithK","BP","Br","eh","kh","isOnCurve","fromCompressedPoint","isOdd","pointFromX","__useRFC6979","use","scriptNumber","REVERSE_OPS","OP_INT_BASE","OP_RESERVED","isPushOnlyChunk","Number","OP_0","OP_1","OP_16","OP_1NEGATE","isOPInt","isPushOnly","every","asMinimalOP","chunks","isBuffer","bufferSize","accum","chunk","opcode","decompile","OP_PUSHDATA4","isDefinedHashType","compile2","fromASM","asm","String","chunkStr","join","toStack","isCanonicalPubKey","isCanonicalSignature","maxLength","minimal","abs","scriptNumSize","negative","multisig","nullData","pubKey","witnessCommitment","MULTISIG","NONSTANDARD","NULLDATA","P2PK","P2PKH","P2SH","P2WPKH","P2WSH","WITNESS_COMMITMENT","classifyInput","allowIncomplete","input","classifyOutput","classifyWitness","p2mso","partialSignature","toJSON","EMPTY_BUFFER","encodeStack","signatures","scriptPubKey","scriptData","m","pubKeys","sig","decodeStack","stack","OP_CHECKMULTISIG","OP_RETURN","OP_CHECKSIG","OP_DUP","OP_HASH160","OP_EQUALVERIFY","p2ms","p2pk","p2pkh","p2wpkho","p2wsho","lastChunk","scriptSigChunks","redeemScriptChunks","redeemScriptStack","redeemScript","serializedScriptPubKey","redeemScriptSig","OP_EQUAL","HEADER","commitment","isCompressedCanonicalPubKey","witnessScript","witnessScriptChunks","witnessRawScriptSig","witnessData","varSliceSize","someScript","locktime","ins","outs","DEFAULT_SEQUENCE","SIGHASH_ALL","SIGHASH_NONE","SIGHASH_SINGLE","SIGHASH_ANYONECANPAY","SIGHASH_BITCOINCASHBIP143","ADVANCED_TRANSACTION_MARKER","ADVANCED_TRANSACTION_FLAG","EMPTY_SCRIPT","EMPTY_WITNESS","VALUE_UINT64_MAX","BLANK_OUTPUT","valueBuffer","__noStrict","readUInt64","readVarSlice","readVector","count","vector","marker","flag","hasWitnesses","vinLen","sequence","witness","voutLen","isCoinbaseHash","isCoinbase","addInput","scriptSig","Null","addOutput","Satoshi","some","weight","__byteLength","virtualSize","ceil","__allowWitness","sum","someVector","vectorSize","clone","newTx","txIn","txOut","hashForSignature","inIndex","prevOutScript","ourScript","OP_CODESEPARATOR","txTmp","y","__toBuffer","hashForWitnessV0","tbuffer","toffset","writeUInt64","writeVarSlice","hashOutputs","hashPrevouts","hashSequence","txOutsSize","out","hashForCashSignature","inAmount","UInt53","initialOffset","setInputScript","setWitness","ops","scriptTypes","SIGNABLE","supportedType","type","indexOf","supportedP2SHType","expandInput","witnessStack","prevOutType","scriptType","witnessScriptType","redeemScriptType","witnessProgram","p2wsh","p2sh","keyHash","expanded","extractChunks","signType","signScript","expandOutput","ourPubKey","scriptChunks","pkh1","pkh2","wpkh1","wpkh2","checkP2SHInput","redeemScriptHash","prepareInput","kpPubKey","witnessValue","p2shType","witnessType","checkP2WSHInput","buildStack","maximumFeeRate","prevTxMap","inputs","bitcoinCash","canSign","signatureHashType","setLockTime","fromTransaction","bitcoinCashTx","txb","__addInputUnsafe","vin","unmatched","match","parsed","fixMultisigOrder","txHash","vout","__canModifyInputs","prevTxOut","__canModifyOutputs","build","__build","buildIncomplete","buildInput","__overMaximumFees","publicKey","signatureHash","nInputs","nOutputs","UINT31_MAX","pow","quacksLike","oneOf","typeName","OP_PUSHDATA1","OP_PUSHDATA2","writeUInt16LE","readUInt16LE","isSafeInteger","bool","lengths","Uint8Array","constructor","name","includes","create","outputLen","blockLen","exists","instance","checkFinished","destroyed","finished","min","assert","_assert_js_1","utils_js_1","SHA2","Hash","padOffset","isLE","super","pos","view","createView","len","toBytes","take","set","subarray","process","dataView","roundClean","digestInto","fill","byteOffset","setBigUint64","_32n","_u32_max","wh","wl","l","setUint32","oview","outLen","state","res","destroy","_cloneInto","to","globalThis","_sha2_js_1","Rho","Id","_","idxL","idxR","j","shifts","shiftsL","idx","shiftsR","Kl","Uint32Array","Kr","rotl","word","shift","f","group","z","BUF","RIPEMD160","h0","h1","h2","h3","h4","getUint32","al","ar","bl","br","cl","cr","dl","dr","el","er","rGroup","hbl","hbr","rl","rr","sl","sr","tl","tr","wrapConstructor","Maj","c","IV","SHA1_W","SHA1","A","B","C","D","E","F","K","Chi","SHA256_K","SHA256_W","SHA256","H","W15","W2","s0","rotr","s1","T1","T2","SHA224","crypto_1","arr","isBytes","DataView","hexes","padStart","asciis","_0","_9","_A","_F","_a","_f","asciiToBase16","char","hl","array","ai","hi","n1","charCodeAt","n2","utf8ToBytes","str","TextEncoder","async","iters","tick","cb","ts","now","diff","nextTick","arrays","pad","toStr","defaults","opts","call","assign","hashCons","hashC","msg","bytesLength","getRandomValues","bech32m","ALPHABET","ALPHABET_MAP","charAt","polymodStep","pre","prefixChk","chk","convert","inBits","outBits","maxV","fromWordsUnsafe","getLibraryFromEncoding","encoding","ENCODING_CONST","__decode","LIMIT","lowered","toLowerCase","uppered","toUpperCase","lastIndexOf","wordChars","payments","types_1","bech32_1","FUTURE_SEGWIT_MAX_SIZE","FUTURE_SEGWIT_MIN_SIZE","FUTURE_SEGWIT_MAX_VERSION","FUTURE_SEGWIT_MIN_VERSION","FUTURE_SEGWIT_VERSION_DIFF","FUTURE_SEGWIT_VERSION_WARNING","p2wpkh","p2tr","console","warn","_toFutureSegwitAddress","decodeBase58","decodeBech32","pubkey","lenR","lenS","bufferutils_1","merkle_1","transaction_1","errorMerkleNoTxes","errorWitnessNotSegwit","witnessCommit","bufferReader","BufferReader","getWitnessCommit","writeUIntBE","forWitness","txesHaveWitnessCommit","rootHash","witnessCommits","hasWitnessCommit","hasWitness","allowWitness","reverseBuffer","bufferWriter","BufferWriter","writeInt32","checkTxRoots","__checkMerkleRoot","__checkWitnessCommit","actualWitnessCommit","cloneBuffer","withCapacity","writeVector","buf","end","taggedHash","TAGGED_HASH_PREFIXES","TAGS","ripemd160_1","sha1_1","sha256_1","TapLeaf","TapBranch","TapSighash","TapTweak","getEccLib","initEccLib","_ECCLIB_CACHE","eccLib","ecc","isXOnlyPoint","xOnlyPointAddTweak","tweakAddVectors","t","tweak","parity","xOnlyPubkey","block_1","psbt_1","enumerable","Psbt","ops_1","ecc_lib_1","values","digestFn","results","left","right","regtest","OP_FALSE","OP_TRUE","OP_2","OP_3","OP_4","OP_5","OP_6","OP_7","OP_8","OP_9","OP_10","OP_11","OP_12","OP_13","OP_14","OP_15","OP_NOP","OP_VER","OP_IF","OP_NOTIF","OP_VERIF","OP_VERNOTIF","OP_ELSE","OP_ENDIF","OP_VERIFY","OP_TOALTSTACK","OP_FROMALTSTACK","OP_2DROP","OP_2DUP","OP_3DUP","OP_2OVER","OP_2ROT","OP_2SWAP","OP_IFDUP","OP_DEPTH","OP_DROP","OP_NIP","OP_OVER","OP_PICK","OP_ROLL","OP_ROT","OP_SWAP","OP_TUCK","OP_CAT","OP_SUBSTR","OP_LEFT","OP_RIGHT","OP_SIZE","OP_INVERT","OP_AND","OP_OR","OP_XOR","OP_RESERVED1","OP_RESERVED2","OP_1ADD","OP_1SUB","OP_2MUL","OP_2DIV","OP_NEGATE","OP_ABS","OP_NOT","OP_0NOTEQUAL","OP_ADD","OP_SUB","OP_MUL","OP_DIV","OP_MOD","OP_LSHIFT","OP_RSHIFT","OP_BOOLAND","OP_BOOLOR","OP_NUMEQUAL","OP_NUMEQUALVERIFY","OP_NUMNOTEQUAL","OP_LESSTHAN","OP_GREATERTHAN","OP_LESSTHANOREQUAL","OP_GREATERTHANOREQUAL","OP_MIN","OP_MAX","OP_WITHIN","OP_RIPEMD160","OP_SHA1","OP_SHA256","OP_HASH256","OP_CHECKSIGVERIFY","OP_CHECKMULTISIGVERIFY","OP_NOP1","OP_NOP2","OP_CHECKLOCKTIMEVERIFY","OP_NOP3","OP_CHECKSEQUENCEVERIFY","OP_NOP4","OP_NOP5","OP_NOP6","OP_NOP7","OP_NOP8","OP_NOP9","OP_NOP10","OP_CHECKSIGADD","OP_PUBKEYHASH","OP_PUBKEY","OP_INVALIDOPCODE","keys","tweakKey","tapTweakHash","tapleafHash","findScriptPath","toHashTree","rootHashFromPath","MAX_TAPTREE_DEPTH","LEAF_VERSION_TAPSCRIPT","buffer_1","leaf","serializeScript","tapBranchHash","varintLen","controlBlock","leafHash","kj","ej","scriptTree","isTapleaf","sort","node","ht","leftPath","rightPath","tweakHash","p2data","networks_1","lazy","arrayOf","o","prop","stacksEqual","embed","embed_1","p2ms_1","p2pk_1","p2pkh_1","p2sh_1","p2wpkh_1","p2wsh_1","p2tr_1","object","configurable","_value","writable","pubkeys","isAcceptableSignature","isCanonicalScriptSignature","isPoint","_chunks","_address","hash2","pkh","redeem","_redeem","nameParts","checkRedeem","countNonPushOnlyOPs","hasInput","richunks","bip341_1","internalPubkey","anyOf","isTaptree","redeemVersion","_witness","_hashTree","hashTree","w","leafVersion","TAPLEAF_VERSION_MASK","tweakedKey","outputKey","controlBock","chunkHasUncompressedPubkey","_rchunks","wScript","bip174_1","utils_1","address_1","bip371_1","psbtutils_1","DEFAULT_OPTS","fromBase64","psbtBase","transactionFromBuffer","psbt","cache","__CACHE","__TX","checkTxInputCache","PsbtTransaction","__NON_WITNESS_UTXO_TX_CACHE","__NON_WITNESS_UTXO_BUF_CACHE","__TX_IN_CACHE","globalMap","unsignedTx","__UNSAFE_SIGN_NONSEGWIT","setVersion","dpew","obj","attr","inputCount","setLocktime","txInputs","txOutputs","combine","those","JSON","parse","stringify","setMaximumFeeRate","satoshiPerByte","check32Bit","checkInputsForPartialSig","__EXTRACTED_TX","setInputSequence","inputIndex","addInputs","inputDatas","inputData","checkTaprootInputFields","checkInvalidP2WSH","nonWitnessUtxo","addNonWitnessTxCache","__FEE","__FEE_RATE","addOutputs","outputDatas","outputData","checkTaprootOutputFields","extractTransaction","disableFeeCheck","isFinalized","feeRate","getFeeRate","vsize","satoshis","toFixed","checkFees","inputFinalizeGetAmts","getTxCacheValue","getFee","finalizeAllInputs","checkForInput","range","finalizeInput","finalScriptsFunc","isTaprootInput","_finalizeTaprootInput","_finalizeInput","finalizeTaprootInput","tapLeafHashToFinalize","tapScriptFinalizer","getFinalScripts","isP2SH","isP2WSH","isSegwit","nonWitnessUtxoTx","nonWitnessUtxoTxFromCache","prevoutIndex","witnessUtxo","isP2WPKH","getScriptFromInput","sighashType","partialSig","pSig","checkPartialSigSighashes","finalScriptSig","finalScriptWitness","updateInput","clearFinalizedInput","tapKeySig","payment","witnessStackToScriptWitness","getInputType","getMeaningfulScript","getScriptFromUtxo","finalScript","decomp","lastItem","isPubkeyLike","redeemFromFinalScriptSig","scriptWitnessToWitnessStack","redeemFromFinalWitnessScript","classifyScript","meaningfulScript","inputHasPubkey","pubkeyInScript","pubkeyInInput","inputHasHDKey","root","derivationIsMine","bip32DerivationIsMine","bip32Derivation","outputHasPubkey","outputIndex","pubkeyInOutput","checkForOutput","outputs","outputHasHDKey","validateSignaturesOfAllInputs","validator","validateSignaturesOfInput","final","validateSignaturesOfTaprootInput","_validateSignaturesOfInput","mySigs","hashCache","scriptCache","sighashCache","getHashForSig","checkScriptForPubkey","tapScriptSig","allHashses","toXOnly","getTaprootHashesForSig","allPublicKeys","tapInternalKey","getPrevoutTaprootKey","tapScriptPubkeys","tss","allHashes","pubicKey","flat","getAllTaprootHashesForSig","tapKeyHash","find","validationResultCount","trimTaprootSig","tapSig","tapSigHash","signAllInputsHD","hdKeyPair","sighashTypes","fingerprint","signInputHD","err","signAllInputsHDAsync","Promise","resolve","reject","promises","signInputHDAsync","then","all","getSignersFromHD","signer","signInput","signInputAsync","catch","signAllInputs","signAllInputsAsync","entries","_signTaprootInput","_signInput","signTaprootInput","tapLeafHashToSign","getHashAndSighashType","allowedSighashTypes","SIGHASH_DEFAULT","hashesForSig","checkTaprootHashesForSig","serializeTaprootSignature","signSchnorr","_signTaprootInputAsync","_signInputAsync","signTaprootInputAsync","tapLeafHash","signaturePromises","tapKeySigPromise","tapScriptHashes","tapScriptSigPromises","tsh","checkCache","toBase64","updateGlobal","updateData","updateOutput","addUnknownKeyValToGlobal","keyVal","addUnknownKeyValToInput","addUnknownKeyValToOutput","checkTxEmpty","getInputOutputCounts","outputCount","hasSigs","neededSigs","sigs","pkey","newKey","compressPubkey","masterFingerprint","num","action","checkTaprootInputForSigs","checkInputForSig","scriptCheckerFactory","paymentScriptName","ioType","redeemScriptOutput","checkRedeemScript","checkWitnessScript","mustFinalize","canFinalize","pk","ps","getSortedSigs","getPayment","prepareFinalScripts","forValidate","prevout","checkSighashTypeAllowed","prevoutHash","utxoHash","signingScript","getScriptAndAmountFromUtxo","isP2TR","prevOuts","signingScripts","hashForWitnessV1","tapLeafHashes","tapLeafScript","tapLeaf","tapScriptHash","text","sighashTypeToString","myDerivations","bipDv","self","selfIndex","txCache","newBuf","inputAmount","nwTx","outputAmount","total","fee","isP2SHScript","isP2SHP2WSH","isP2WSHScript","isP2PKH","isP2MS","isP2PK","tapTreeFromList","tapTreeToList","tweakInternalPubKey","isTaprootOutput","payments_1","psbtutils_2","tapMerkleRoot","tapBip32Derivation","tapTree","leaves","tree","instertLeafInTree","instertLeavesInTree","decodeSchnorrSignature","_tapTreeToList","leftSide","rightSide","isTapLeafInTree","hasNonTaprootFields","io","leafHashToFinalize","canFinalizeLeaf","findTapLeafToFinalize","positionInScript","pubkeyPositionInScript","addPubkeyPositionInScript","t1","t2","sortSignatures","sighashTypeByte","newInputData","isBadTaprootUpdate","isBadNonTaprootUpdate","hasMixedFields","checkMixedTaprootAndNonTaprootInputFields","newLeafsInTree","oldLeafsInTree","checkIfTapLeafInTree","newOutputData","checkMixedTaprootAndNonTaprootOutputFields","scriptPubkey","getTaprootScripPubkey","checkTaprootScriptPubkey","finalTapKeySig","getTapKeySigFromWithness","extractTaprootSigs","signatureBlocksAction","isPaymentFactory","pubkeyHash","pubkeyXOnly","decompiled","findIndex","element","signatureDecodeFn","whitelist","currentLen","pSigs","scriptItems","witnessItems","item","getPsigsFromInputFinalScripts","extractPartialSigs","scriptSignature","chunksIsBuffer","singleChunkIsBuffer","Hex","_number","bstart","script_1","_NO_STRICT","_ALLOW_WITNESS","prevOutScripts","annex","outputType","SIGHASH_OUTPUT_MASK","isAnyoneCanPay","SIGHASH_INPUT_MASK","isNone","isSingle","hashAmounts","hashScriptPubKeys","hashSequences","spendType","sigMsgSize","sigMsgWriter","Signer","ZERO32","EC_P","getPublicKey","_typeof","Symbol","iterator","_defineProperties","props","descriptor","_toPropertyKey","_createClass","Constructor","protoProps","staticProps","arg","hint","prim","toPrimitive","_toPrimitive","isDeepEqual","isDeepStrictEqual","_require$codes","codes","ERR_AMBIGUOUS_ARGUMENT","ERR_INVALID_ARG_TYPE","ERR_INVALID_ARG_VALUE","ERR_INVALID_RETURN_VALUE","ERR_MISSING_ARGS","AssertionError","inspect","_require$types","isPromise","isRegExp","objectAssign","objectIs","RegExpPrototypeTest","Map","lazyLoadComparison","comparison","warned","ok","NO_EXCEPTION_SENTINEL","innerFail","message","innerOk","fn","argLen","generatedMessage","actual","expected","operator","stackStartFn","_len","args","_key","apply","fail","internalMessage","argsLen","emitWarning","bind","errArgs","equal","notEqual","deepEqual","notDeepEqual","deepStrictEqual","notDeepStrictEqual","strictEqual","notStrictEqual","Comparison","_this","_classCallCheck","expectedException","compareExceptionKey","isPrototypeOf","getActual","checkIsPromise","waitForActual","promiseFn","resultPromise","expectsError","error","details","fnType","expectsNoError","internalMatch","regexp","fnName","strict","_len6","_key6","throws","_len2","_key2","rejects","_len3","_key3","doesNotThrow","_len4","_key4","doesNotReject","_len5","_key5","ifError","newErr","origStack","tmp2","tmp1","doesNotMatch","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","has","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","Parent","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","setPrototypeOf","__proto__","getPrototypeOf","endsWith","search","this_len","substring","blue","green","red","white","kReadableOperator","strictEqualObject","notStrictEqualObject","notIdentical","copyError","source","inspectValue","val","compact","customInspect","maxArrayLength","Infinity","showHidden","breakLength","showProxy","sorted","getters","createErrDiff","other","lastPos","skipped","actualInspected","actualLines","expectedLines","indicator","inputLength","stderr","isTTY","columns","maxCount","log","repeat","maxLines","_actualLines","printedLines","skippedMsg","cur","expectedLine","actualLine","divergingLines","_Error","_inspect$custom","subClass","superClass","_inherits","_super","Derived","hasNativeReflectConstruct","Super","NewTarget","_createSuper","limit","stackTraceLimit","getColorDepth","base","_res","knownOperators","code","captureStackTrace","recurseTimes","ctx","custom","util","createErrorType","Base","NodeError","_Base","arg1","arg2","arg3","getMessage","thing","determiner","substr","replace","start","reason","inspected","RangeError","_slicedToArray","_arrayWithHoles","u","next","done","return","_iterableToArrayLimit","minLen","_arrayLikeToArray","test","_unsupportedIterableToArray","_nonIterableRest","arr2","regexFlagsSupported","flags","arrayFromSet","arrayFromMap","is","objectGetOwnPropertySymbols","numberIsNaN","isNaN","uncurryThis","hasOwnProperty","propertyIsEnumerable","objectToString","isAnyArrayBuffer","isArrayBufferView","isDate","isMap","isSet","isNativeError","isBoxedPrimitive","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isFloat32Array","isFloat64Array","isNonIndex","getOwnNonIndexProperties","kNoIterator","kIsArray","kIsSet","kIsMap","innerDeepEqual","val1","val2","memos","buf1","buf2","val1Tag","keys1","keys2","keyCheck","getTime","RegExp","areSimilarTypedArrays","areSimilarFloatArrays","_keys","_keys2","isEqualBoxedPrimitive","getEnumerables","iterationType","aKeys","bKeys","symbolKeysA","symbolKeysB","_symbolKeysB","position","val2MemoA","val2MemoB","areEq","memo","aValues","Set","setMightHaveLoosePrim","bValues","_i","_val","setHasEqualElement","setEquiv","aEntries","_aEntries$i","item1","item2","mapMightHaveLoosePrim","bEntries","_i2","_bEntries$_i","mapHasEqualEntry","mapEquiv","keysA","objEquiv","delete","setValues","findLooseMatchingPrimitives","altValue","curB","key1","key2","_Buffer","BASE_MAP","xc","BASE","LEADER","FACTOR","iFACTOR","psz","zeroes","b256","carry","it3","it4","vch","pbegin","pend","b58","it1","it2","fromNumber","fromString","proto","__bigi","isBigInteger","check_ver","am","DB","DM","DV","FV","F1","BI_FP","F2","vv","BI_RM","BI_RC","int2char","intAt","nbv","fromInt","nbits","Classic","Montgomery","mp","invDigit","mpl","mph","um","mt2","op_and","op_or","op_xor","op_andnot","lbit","cbit","NullExp","nNop","Barrett","r2","q3","dlShiftTo","mu","revert","divRemTo","mulTo","multiplyTo","sqrTo","squareTo","subTo","copyTo","u0","clamp","drShiftTo","fromRadix","mi","sh","lShiftTo","bs","cbs","bm","ds","rShiftTo","q","pm","pt","ms","nsh","ys","y0","yt","d1","d2","qd","exp","g","negate","toRadix","km","bitLength","modPowInt","multiplyUpperTo","multiplyLowerTo","dAddOffset","lowprimes","lplim","chunkSize","LN2","cs","dMultiply","testBit","bitwiseTo","shiftLeft","isProbablePrime","nextBytes","changeBit","addTo","modInt","millerRabin","getLowestSetBit","bases","random","byteValue","shortValue","toByteArray","and","or","xor","andNot","not","bitCount","setBit","clearBit","flipBit","remainder","divideAndRemainder","k1","g2","is1","ac","gcd","square","fromByteArrayUnsigned","byteArray","toByteArrayUnsigned","zeros","padding","parser_1","keyPusher","selfSet","selfKeyVals","otherKeyVals","newKv","kv","getTx","getKeySet","keyVals","psbts","psbtToKeyVals","others","selfTx","selfGlobalSet","globalKeyVals","selfInputSets","inputKeyVals","selfOutputSets","outputKeyVals","otherTx","inputSet","outputSet","psbtFromKeyVals","globalMapKeyVals","typeFields_1","GlobalTypes","GLOBAL_XPUB","extendedPubkey","isHard","head","level","epk","mfp","canAddToArray","dupeSet","dupeString","UNSIGNED_TX","globalXpub","porCommitment","checkPubkey","globals","makeChecker","makeConverter","InputTypes","BIP32_DERIVATION","REDEEM_SCRIPT","WITNESS_SCRIPT","PARTIAL_SIG","TAP_BIP32_DERIVATION","TAP_INTERNAL_KEY","OutputTypes","FINAL_SCRIPTSIG","canAdd","currentData","newData","FINAL_SCRIPTWITNESS","NON_WITNESS_UTXO","rLen","sLen","isDerSigWithSighash","POR_COMMITMENT","SIGHASH_TYPE","TAP_KEY_SIG","TAP_LEAF_SCRIPT","tScript","verBuf","TAP_MERKLE_ROOT","TAP_SCRIPT_SIG","tSig","tools_1","WITNESS_UTXO","_offset","scriptLen","TAP_TREE","bufs","of","isValidDERKey","TYPE_BYTE","isValidPubkey","pubkeyTypes","isValidBIP340Key","parent","nHashes","nHashesLen","leafHashes","nHashesBuf","keyValToBuffer","keyLen","valLen","keyVarIntLen","valVarIntLen","keyValsToBuffer","buffers","MAX_SAFE_INTEGER","checkUInt53","first","lo","checkKeyBuffer","keyBuf","keyNum","txCount","unknownKeyVals","psbtFromBuffer","txGetter","varSlice","getKeyValue","checkEndOfKeyValPairs","isEnd","globalKeyIndex","hexKey","unsignedTxMaps","inputKeyIndex","outputKeyIndex","__export","psbtToBuffer","globalBuffer","keyValsOrEmptyToBuffer","inputBuffers","outputBuffers","header","sortKeyVals","keyValsFromMap","keyValMap","converterFactory","keyHexSet","converter","encodedKeyVals","combiner_1","txFromBuffer","checkHasKey","getEnumLength","addKeyVals","addInputAttributes","addOutputAttributes","inputCheckUncleanFinalized","getTransaction","GLOBAL_TYPE_NAMES","INPUT_TYPE_NAMES","OUTPUT_TYPE_NAMES","throwForUpdateMaker","updateMaker","mainData","dupeCheckSet","checkKeyVal","enumLength","myenum","needScriptSig","needWitnessScript","scriptSigOK","witnessScriptOK","hasOneFinal","defaultVersionSetter","txBuf","defaultLocktimeSetter","basex","payloadU8","both","ArrayBuffer","isView","GetIntrinsic","callBind","$indexOf","allowMissing","intrinsic","setFunctionLength","$TypeError","$apply","$call","$reflectApply","$defineProperty","$max","originalFunction","func","applyBind","bigInt","LOG_BASE","MAX_INT","MAX_INT_ARR","smallToArray","LOG_MAX_INT","Integer","radix","parseValue","parseBase","isSmall","SmallInteger","isPrecise","arrayToSmall","trim","compareAbs","createArray","truncate","l_a","l_b","addAny","addSmall","difference","a_l","b_l","borrow","subtractSmall","multiplyLong","product","a_i","multiplySmall","multiplyKaratsuba","bd","abcd","multiplySmallAndArray","divModSmall","lambda","divisor","quotient","divModAny","quotientDigit","divisorMostSignificantDigit","divMod1","guess","xlen","highx","highy","part","divMod2","qSign","mSign","isBasicPrime","isUnit","isDivisibleBy","lesser","millerRabinTest","nPrev","prev","plus","subtractAny","minus","small","l1","l2","times","_multiplyBySmall","divmod","over","isZero","isPositive","eq","notEquals","neq","greater","gt","lt","greaterOrEquals","geq","lesserOrEquals","leq","isNegative","isPrime","logN","iterations","randBetween","modInv","lastT","lastR","zero","newT","one","newR","powersOfTwo","powers2Length","highestPower2","shift_isSmall","bitwise","xSign","ySign","xRem","yRem","xDigit","yDigit","xDivMod","yDivMod","toJSNumber","remQuo","LOBMASK_I","LOBMASK_BI","roughLOB","integerLogarithm","absBase","digits","charCode","parseBaseFromArray","digit","toBase","neg","toBaseString","parseStringValue","decimalPlace","parseNumberValue","toArray","minusOne","lcm","isInstance","low","restricted","top","fromArray","CHARSET_INVERSE_INDEX","base32","convertBits","validation","ValidationError","VALID_PREFIXES","prefixToUint5Array","ab","polymod","GENERATOR","topBits","hasSingleCase","isValidPrefix","prefixData","versionByte","getTypeBits","getHashSizeBits","payloadData","checksumData","checksumToUint5Array","pieces","validChecksum","getHashSize","getType","strictMode","mask","accumulator","condition","coins","supportedCoins","coininfo","coin","toBitcoinJS","versions","scripthash","dustThreshold","toBitcore","nm","protocol","magic","alias","pubkeyhash","privatekey","xpubkey","xprivkey","networkMagic","port","dnsSeeds","seedsDns","unit","main","simnet","common","per1","hashGenesisBlock","portRpc","bip44","isProofOfStake","scripthash2","private2","ECPairFactory","testecc_1","isOptions","fromPrivateKey","isPrivate","fromPublicKey","testEcc","__D","lowR","pointCompress","pointFromScalar","tweakFromPrivateKey","tweakFromPublicKey","extraData","counter","writeUIntLE","verifySchnorr","xOnlyPubKey","tweakedPublicKey","parityByte","privateNegate","tweakedPrivateKey","privateAdd","maybePoint","wifString","ecpair_1","xOnlyRes","Curve","Gx","Gy","fromAffine","infinity","pOverFour","pLength","beta","lhs","rhs","nQ","curves","THREE","_zInv","zInv","x1","y1","x2","twice","v2","v3","x1v2","zu2","x3","y3","z3","y1z1","y1sqz1","hBit","eBit","jBit","kBit","isCallable","list","thisArg","receiver","forEachArray","forEachString","forEachObject","hasSymbols","toStringTag","hasToStringTag","$toString","callBound","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments","badArrayLike","isCallableMarker","fnToStr","reflectApply","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","isIE68","isDDA","document","strClass","GeneratorFunction","isFnRegex","getProto","generatorFunc","getGeneratorFunc","define","implementation","getPolyfill","shim","polyfill","NaN","whichTypedArray","objectKeys","toObject","$push","$propIsEnumerable","originalGetSymbols","source1","getSymbols","syms","nextKey","propValue","letters","lacksProperEnumerationOrder","preventExtensions","thrower","assignHasPendingExceptions","hasDescriptors","gOPD","$floor","loose","functionLengthIsConfigurable","functionLengthIsWritable","desc","native","getTypeName","getValueTypeName","Nil","tfJSON","tfErrorString","valueTypeName","valueJson","getValue","TfTypeError","__type","__value","__valueTypeName","TfPropertyTypeError","property","label","description","tfPropertyErrorString","__label","__property","tfCustomError","tfSubError","NATIVE","ERRORS","_LengthN","Length","_ArrayN","_BufferN","_HexN","_StringN","INT53_MAX","ArrayN","Finite","isFinite","HexN","Int8","Int16","Int32","Int53","Range","_range","StringN","UInt16","TYPES","_arrayOf","minLength","_maybe","propertyType","propertyKeyType","_map","propertyName","propertyValue","uncompiled","typePropertyName","_object","_anyOf","allOf","_allOf","_quacksLike","_tuple","surrogate","EXTRA","isArgumentsObject","isGeneratorFunction","isTypedArray","BigIntSupported","SymbolSupported","ObjectToString","numberValue","stringValue","booleanValue","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","isArrayBuffer","working","isDataViewToString","isDataView","isUint8Array","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isBigInt64Array","isBigUint64Array","WeakMap","isWeakMap","WeakSet","isWeakSet","SharedArrayBufferCopy","SharedArrayBuffer","isSharedArrayBufferToString","isSharedArrayBuffer","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","method","descriptors","formatRegExp","format","isString","objects","isNull","isObject","deprecate","noDeprecation","throwDeprecation","traceDeprecation","trace","debugs","debugEnvRegex","NODE_DEBUG","debugEnv","seen","stylize","stylizeNoColor","colors","isBoolean","_extend","isUndefined","stylizeWithColor","formatValue","styleType","style","styles","isFunction","ret","primitive","simple","isNumber","formatPrimitive","visibleKeys","arrayToHash","getOwnPropertyNames","isError","formatError","braces","toUTCString","formatProperty","formatArray","numLinesEst","reduceToSingleString","line","re","debuglog","pid","isNullOrUndefined","isSymbol","isPrimitive","months","time","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","newReason","promisify","original","promiseResolve","promiseReject","promise","callbackify","callbackified","maybeCb","rej","availableTypedArrays","global","typedArrays","$slice","typedArray","superProto","tag","found","getter","trySlices","tryTypedArrays","encodeRaw","possibleNames","HMAC","assertHash","iHash","oHash","assertExists","assertBytes","hmac","pbkdf2Init","_password","_salt","_opts","checkOpts","dkLen","asyncTick","assertNumber","password","salt","DK","PRF","PRFSalt","pbkdf2Output","prfW","U32_MASK64","fromBig","le","u64","lst","Ah","Al","toBig","shrSH","_l","shrSL","rotrSH","rotrSL","rotrBH","rotrBL","rotr32H","_h","rotr32L","rotlSH","rotlSL","rotlBH","rotlBL","Bh","Bl","add3L","Cl","add3H","Ch","add4L","Dl","add4H","Dh","add5H","Eh","add5L","El","SHA512_Kh","SHA512_Kl","SHA512_W_H","SHA512_W_L","SHA512","Fh","Fl","Gh","Gl","Hh","Hl","W15h","W15l","s0h","s0l","W2h","W2l","s1h","s1l","SUMl","SUMh","sigma1h","sigma1l","CHIh","CHIl","T1ll","T1h","T1l","sigma0h","sigma0l","MAJh","MAJl","All","sha512","nfkd","normalize","norm","passphrase","mnemonicToSeedSync","mnemonic","ti","Ti","setInt32","ui","pbkdf2","concatBytes","secp","ProjectivePoint","createBase58check","bytesToNumber","bytesToHex","numberToBytes","hexToBytes","BITCOIN_VERSIONS","HARDENED_OFFSET","toU32","HDKey","pubHash","identifier","privKeyBytes","privateExtendedKey","priv","serialize","publicExtendedKey","fromMasterSeed","fromExtendedKey","base58key","keyBuffer","keyView","opt","isPriv","fromJSON","json","xpriv","utils","isValidPrivateKey","privKey","toRawBytes","parts","child","exec","m1","deriveChild","childTweak","added","CURVE","toCompactRawBytes","Signature","fromCompact","wipePrivateData","xpub","ne","se","ue","L","Bt","J","ae","Ct","S","for","SlowBuffer","INSPECT_MAX_BYTES","isEncoding","tt","write","mt","Xt","Ar","Dr","Mt","kr","Pr","Sr","$r","Dt","$t","U","readUInt16BE","Tr","Ur","ct","Nr","Cr","Rr","Hr","fromByteArray","Lt","fromCharCode","_r","kMaxLength","TYPED_ARRAY_SUPPORT","foo","poolSize","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","toLocaleString","_arr","Wr","Ot","qt","Nt","Ht","Wt","Kt","readUintLE","readUIntLE","readUintBE","readUIntBE","readUint8","readUint16LE","readUint16BE","readUint32LE","readUint32BE","readBigUInt64LE","W","Y","rt","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUintBE","writeUint8","writeUint16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUint32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","copyWithin","xt","vt","ERR_OUT_OF_RANGE","Mr","ERR_BUFFER_OUT_OF_BOUNDS","isInteger","Lr","Or","$","M","It","Ft","setTimeout","clearTimeout","O","at","pe","ur","run","fe","hr","fun","N","title","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","__esModule","default","ft","de","Vt","Bitcoin","Dogecoin","Litecoin","BitcoinCash","Dash","ut","context","ye","utxo","balance","transaction_count","fr","chain","apiKey","pr","raw_transaction","lr","is_spent","script_hex","block_id","transaction_hash","spending_signature_hex","txHex","is_confirmed","transaction_id","blockchairApi","getConfirmedBalance","me","getRawTx","getSuggestedTxFee","feePerKb","we","getBalance","xe","getAddressData","scanUTXOs","fetchTxHex","ge","Be","vr","et","bitcoincash","dash","dogecoin","Et","Fe","uniqid","Ie","wr","rpcUrl","jsonrpc","params","id","post","headers","body","yr","Mainnet","Testnet","X","legacy","mainnet","bitpay","Z","xr","Ce","Rt","nr","Re","Ue","jt","be","mr","it","accumulative","_t","St","nt","gr","Ut","st","kt","ot","qr","Xr","At","Tt","startsWith","calculateTxSize","_e","getOutputSize","Gt","phrase","derivationPath","ee","dt","V","Average","Fast","Fastest","Ee","assetValue","recipient","sender","apiClient","Er","Qt","Jt","ir","utxos","Yt","feeOptionKey","Ir","broadcastTx","buildTx","getAddressFromKeys","zt","De","validateAddress","zr","Pe","createKeysForPath","getPrivateKeyFromMnemonic","Vr","Zt","fromIdentifier","Me","getFeeRates","transfer","signTransaction","$e","getInputsOutputsFee","getFeeForTransaction","Jr","decimal","estimateMaxSendableAmount","recipients","fromChainOrSignature","sub","Le","wt","bt","Fr","Pt","getBaseValue","Qr","Zr","te","builder","Ae","Te","He","Gr","BCH","We","Yr","ve","createBCHToolbox","jr","stripPrefix","stripToCashAddress","buildBCHTx","Ne","Oe","qe","Xe","ze","Ve","cn"],"sourceRoot":""}