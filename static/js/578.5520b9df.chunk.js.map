{"version":3,"file":"static/js/578.5520b9df.chunk.js","mappings":"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","sources":["../node_modules/@swapkit/wallet-talisman/node_modules/@swapkit/toolbox-substrate/dist/index.js"],"sourcesContent":["import{Keyring as Z} from\"@polkadot/api\";import{hexToU8a as _,isHex as $,u8aToHex as e} from\"@polkadot/util\";import{cryptoWaitReady as F,decodeAddress as b,encodeAddress as B} from\"@polkadot/util-crypto\";import{Chain as P,SwapKitError as D,SwapKitNumber as N} from\"@swapkit/helpers\";var S={prefix:0,network:\"polkadot\",displayName:\"Polkadot Relay Chain\",symbols:[\"DOT\"],decimals:[10],standardAccount:\"*25519\",website:\"https://polkadot.network\"},X={prefix:2112,network:\"chainflip\",displayName:\"Chainflip\",symbols:[\"FLIP\"],decimals:[18],standardAccount:\"*25519\",website:\"https://chainflip.io/\"},Y={prefix:42,network:\"substrate\",displayName:\"Substrate\",symbols:[],decimals:[],standardAccount:\"*25519\",website:\"https://substrate.io/\"},c={DOT:S,FLIP:X,GENERIC:Y};var G=function(t,o){return $(t)?_(t):b(t,void 0,o)},W=function(t,o=\"ss58\",I){if(o===\"hex\")return e(t);return B(t,I)},u=(t)=>{return\"address\"in t},h=async(t,o)=>{return await F(),new Z({type:\"sr25519\",ss58Format:o}).addFromUri(t)},p=(t,o)=>t.rpc.system.accountNextIndex(o),x=async(t,o,I)=>{const f=await t.query.system?.account?.(I);if(!f?.data?.free||f?.data?.isEmpty)return[o.set(0)];return[o.set(N.fromBigInt(BigInt(f.data.free.toString()),o.decimal).getValue(\"string\"))]},E=(t,o)=>{try{const I=G(t,o);return W(I,\"ss58\",o),!0}catch(I){return!1}},R=(t,{recipient:o,amount:I})=>t.tx.balances?.transferAllowDeath?.(o,I),C=async(t,o,{recipient:I,assetValue:f,from:j})=>{const m=R(t,{recipient:I,amount:f.getBaseValue(\"number\")}),y=u(o);if(!m)return;const M=j||(y?o.address:void 0);if(!M)throw new D(\"core_transaction_invalid_sender_address\");const n=await p(t,M);return(await m.signAndSend(y?o:M,{signer:y?void 0:o,nonce:n}))?.toString()},T=async(t,o,I,{recipient:f,assetValue:j,from:m})=>{const y=R(t,{recipient:f,amount:j.getBaseValue(\"number\")}),M=m||u(o)&&o.address;if(!M)return;const n=await y?.paymentInfo(M,{nonce:await p(t,M)})||{partialFee:0};return I.set(N.fromBigInt(BigInt(n.partialFee.toString()),I.decimal).getValue(\"string\"))},V=async(t,o)=>{if(o)return t.send(o);return(await t.send()).toString()},U=async(t,o)=>{return await o.signAsync(t)},w=(t,o,I)=>{if(I)return o.signAndSend(t,I);return o.signAndSend(t).toString()},H=({api:t,network:o,gasAsset:I,signer:f})=>({api:t,network:o,decodeAddress:G,encodeAddress:W,createKeyring:(j)=>h(j,o.prefix),getAddress:(j=f)=>u(j)?j.address:void 0,createTransfer:({recipient:j,assetValue:m})=>R(t,{recipient:j,amount:m.getBaseValue(\"number\")}),getBalance:(j)=>x(t,I,j),validateAddress:(j)=>E(j,o.prefix),transfer:(j)=>C(t,f,j),estimateTransactionFee:(j)=>T(t,f,I,j),sign:(j)=>{if(u(f))return U(f,j);throw new D(\"core_wallet_not_keypair_wallet\",\"Signer does not have keyring pair capabilities required for signing.\")},broadcast:(j,m)=>V(j,m),signAndBroadcast:(j,m)=>{if(u(f))return w(f,j,m);throw new D(\"core_wallet_not_keypair_wallet\",\"Signer does not have keyring pair capabilities required for signing.\")}}),tt=({address:t,chain:o})=>{switch(o){case P.Polkadot:return E(t,c.DOT.prefix||c.GENERIC.prefix);case P.Chainflip:return E(t,c.FLIP.prefix||c.GENERIC.prefix)}return!1};import{ApiPromise as O,WsProvider as q} from\"@polkadot/api\";import{AssetValue as z,Chain as v,RPCUrl as K,SwapKitNumber as k} from\"@swapkit/helpers\";var J=async({providerUrl:t,generic:o,chain:I,signer:f})=>{const j=new q(t),m=await O.create({provider:j}),y=z.from({chain:I});return H({api:m,signer:f,gasAsset:y,network:o?c.GENERIC:c[I]})},A=({providerUrl:t,signer:o,generic:I=!1})=>{return J({providerUrl:t||K.Polkadot,chain:v.Polkadot,generic:I,signer:o})},l=async({providerUrl:t,signer:o,generic:I=!1})=>{const f=new q(t),j=await O.create({provider:f}),m=z.from({chain:v.Chainflip});async function y(n,L){const{balance:Q}=await n.query.flip?.account?.(L);return[m.set(k.fromBigInt(BigInt(Q.toString()),m.decimal).getValue(\"string\"))]}return{...await J({chain:v.Chainflip,signer:o,providerUrl:t,generic:I}),getBalance:async(n)=>y(j,n)}},yt=(t,o)=>{switch(t){case v.Chainflip:return l(o);case v.Polkadot:return A(o);default:throw new Error(`Chain ${t} is not supported`)}};export{Y as subtrateNetwork,tt as substrateValidateAddress,S as polkadotNetwork,u as isKeyringPair,yt as getToolboxByChain,h as createKeyring,X as chainflipNetwork,J as ToolboxFactory,A as PolkadotToolbox,c as Network,l as ChainflipToolbox,H as BaseSubstrateToolbox};\n\n//# debugId=6A80E8F53ABF6B1764756E2164756E21\n"],"names":["c","DOT","prefix","network","displayName","symbols","decimals","standardAccount","website","FLIP","GENERIC","G","t","o","$","_","b","W","I","e","B","u","p","rpc","system","accountNextIndex","E","R","recipient","amount","tx","balances","transferAllowDeath","H","api","gasAsset","signer","f","decodeAddress","encodeAddress","createKeyring","j","async","F","Z","type","ss58Format","addFromUri","h","getAddress","address","createTransfer","assetValue","m","getBaseValue","getBalance","query","account","data","free","isEmpty","set","N","fromBigInt","BigInt","toString","decimal","getValue","x","validateAddress","transfer","from","y","M","D","n","signAndSend","nonce","C","estimateTransactionFee","paymentInfo","partialFee","T","sign","signAsync","U","broadcast","send","V","signAndBroadcast","w","J","providerUrl","generic","chain","q","O","create","provider","z","l","v","Chainflip","L","balance","Q","flip","k","yt","Polkadot","A","K","Error"],"sourceRoot":""}