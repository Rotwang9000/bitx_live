{"version":3,"file":"static/js/51.c2958ce1.chunk.js","mappings":"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","sources":["../node_modules/@swapkit/wallet-keystore/node_modules/@swapkit/toolbox-substrate/dist/index.js"],"sourcesContent":["import{Keyring as Z} from\"@polkadot/api\";import{hexToU8a as _,isHex as $,u8aToHex as e} from\"@polkadot/util\";import{cryptoWaitReady as F,decodeAddress as b,encodeAddress as B} from\"@polkadot/util-crypto\";import{Chain as P,SwapKitError as D,SwapKitNumber as N} from\"@swapkit/helpers\";var S={prefix:0,network:\"polkadot\",displayName:\"Polkadot Relay Chain\",symbols:[\"DOT\"],decimals:[10],standardAccount:\"*25519\",website:\"https://polkadot.network\"},X={prefix:2112,network:\"chainflip\",displayName:\"Chainflip\",symbols:[\"FLIP\"],decimals:[18],standardAccount:\"*25519\",website:\"https://chainflip.io/\"},Y={prefix:42,network:\"substrate\",displayName:\"Substrate\",symbols:[],decimals:[],standardAccount:\"*25519\",website:\"https://substrate.io/\"},c={DOT:S,FLIP:X,GENERIC:Y};var G=function(t,o){return $(t)?_(t):b(t,void 0,o)},W=function(t,o=\"ss58\",I){if(o===\"hex\")return e(t);return B(t,I)},u=(t)=>{return\"address\"in t},h=async(t,o)=>{return await F(),new Z({type:\"sr25519\",ss58Format:o}).addFromUri(t)},p=(t,o)=>t.rpc.system.accountNextIndex(o),x=async(t,o,I)=>{const f=await t.query.system?.account?.(I);if(!f?.data?.free||f?.data?.isEmpty)return[o.set(0)];return[o.set(N.fromBigInt(BigInt(f.data.free.toString()),o.decimal).getValue(\"string\"))]},E=(t,o)=>{try{const I=G(t,o);return W(I,\"ss58\",o),!0}catch(I){return!1}},R=(t,{recipient:o,amount:I})=>t.tx.balances?.transferAllowDeath?.(o,I),C=async(t,o,{recipient:I,assetValue:f,from:j})=>{const m=R(t,{recipient:I,amount:f.getBaseValue(\"number\")}),y=u(o);if(!m)return;const M=j||(y?o.address:void 0);if(!M)throw new D(\"core_transaction_invalid_sender_address\");const n=await p(t,M);return(await m.signAndSend(y?o:M,{signer:y?void 0:o,nonce:n}))?.toString()},T=async(t,o,I,{recipient:f,assetValue:j,from:m})=>{const y=R(t,{recipient:f,amount:j.getBaseValue(\"number\")}),M=m||u(o)&&o.address;if(!M)return;const n=await y?.paymentInfo(M,{nonce:await p(t,M)})||{partialFee:0};return I.set(N.fromBigInt(BigInt(n.partialFee.toString()),I.decimal).getValue(\"string\"))},V=async(t,o)=>{if(o)return t.send(o);return(await t.send()).toString()},U=async(t,o)=>{return await o.signAsync(t)},w=(t,o,I)=>{if(I)return o.signAndSend(t,I);return o.signAndSend(t).toString()},H=({api:t,network:o,gasAsset:I,signer:f})=>({api:t,network:o,decodeAddress:G,encodeAddress:W,createKeyring:(j)=>h(j,o.prefix),getAddress:(j=f)=>u(j)?j.address:void 0,createTransfer:({recipient:j,assetValue:m})=>R(t,{recipient:j,amount:m.getBaseValue(\"number\")}),getBalance:(j)=>x(t,I,j),validateAddress:(j)=>E(j,o.prefix),transfer:(j)=>C(t,f,j),estimateTransactionFee:(j)=>T(t,f,I,j),sign:(j)=>{if(u(f))return U(f,j);throw new D(\"core_wallet_not_keypair_wallet\",\"Signer does not have keyring pair capabilities required for signing.\")},broadcast:(j,m)=>V(j,m),signAndBroadcast:(j,m)=>{if(u(f))return w(f,j,m);throw new D(\"core_wallet_not_keypair_wallet\",\"Signer does not have keyring pair capabilities required for signing.\")}}),tt=({address:t,chain:o})=>{switch(o){case P.Polkadot:return E(t,c.DOT.prefix||c.GENERIC.prefix);case P.Chainflip:return E(t,c.FLIP.prefix||c.GENERIC.prefix)}return!1};import{ApiPromise as O,WsProvider as q} from\"@polkadot/api\";import{AssetValue as z,Chain as v,RPCUrl as K,SwapKitNumber as k} from\"@swapkit/helpers\";var J=async({providerUrl:t,generic:o,chain:I,signer:f})=>{const j=new q(t),m=await O.create({provider:j}),y=z.from({chain:I});return H({api:m,signer:f,gasAsset:y,network:o?c.GENERIC:c[I]})},A=({providerUrl:t,signer:o,generic:I=!1})=>{return J({providerUrl:t||K.Polkadot,chain:v.Polkadot,generic:I,signer:o})},l=async({providerUrl:t,signer:o,generic:I=!1})=>{const f=new q(t),j=await O.create({provider:f}),m=z.from({chain:v.Chainflip});async function y(n,L){const{balance:Q}=await n.query.flip?.account?.(L);return[m.set(k.fromBigInt(BigInt(Q.toString()),m.decimal).getValue(\"string\"))]}return{...await J({chain:v.Chainflip,signer:o,providerUrl:t,generic:I}),getBalance:async(n)=>y(j,n)}},yt=(t,o)=>{switch(t){case v.Chainflip:return l(o);case v.Polkadot:return A(o);default:throw new Error(`Chain ${t} is not supported`)}};export{Y as subtrateNetwork,tt as substrateValidateAddress,S as polkadotNetwork,u as isKeyringPair,yt as getToolboxByChain,h as createKeyring,X as chainflipNetwork,J as ToolboxFactory,A as PolkadotToolbox,c as Network,l as ChainflipToolbox,H as BaseSubstrateToolbox};\n\n//# debugId=6A80E8F53ABF6B1764756E2164756E21\n"],"names":["c","DOT","prefix","network","displayName","symbols","decimals","standardAccount","website","FLIP","GENERIC","G","t","o","$","_","b","W","I","e","B","u","h","async","F","Z","type","ss58Format","addFromUri","p","rpc","system","accountNextIndex","E","R","recipient","amount","tx","balances","transferAllowDeath","H","api","gasAsset","signer","f","decodeAddress","encodeAddress","createKeyring","j","getAddress","address","createTransfer","assetValue","m","getBaseValue","getBalance","query","account","data","free","isEmpty","set","N","fromBigInt","BigInt","toString","decimal","getValue","x","validateAddress","transfer","from","y","M","D","n","signAndSend","nonce","C","estimateTransactionFee","paymentInfo","partialFee","T","sign","signAsync","U","broadcast","send","V","signAndBroadcast","w","J","providerUrl","generic","chain","q","O","create","provider","z","l","v","Chainflip","L","balance","Q","flip","k","yt","Polkadot","A","K","Error"],"sourceRoot":""}